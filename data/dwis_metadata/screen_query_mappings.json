[
  {
    "screen": {
      "screenId": "C0001004",
      "screenName": "원가기준정보 (C0001004)",
      "menuPath": "기준정보 > 원가기준정보 (C0001004)",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0001000/C0001004.vue",
      "tabs": [
        "TAB010001",
        "TAB010002",
        "TAB010003",
        "TAB010005"
      ],
      "description": "계정코드, 부서코드, 자재코드, 면적기준정보"
    },
    "queries": [
      {
        "mapperId": "C0001004",
        "queryId": "selectTab1GridData",
        "queryType": "select",
        "tables": [
          "doi_acct"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "CASE",
          "ACCT_CLASS",
          "계정과목내부코드",
          "전표기표여부",
          "ACCT",
          "ACCT_NAME",
          "차대",
          "계정대분류",
          "관리항목유형",
          "계정과목Lev",
          "상위계정과목",
          "경영계획과목",
          "상위계정과목내부코드",
          "소분류",
          "중분류",
          "대분류",
          "EXPEN_SEL"
        ],
        "sql": "select YYYYMM, SEL_CODE, SITE as SITE_ORG, CASE WHEN SITE='HQ' Then '본사' WHEN SITE='VN' then 'VINA' else site end as SITE, ACCT_CLASS as ACCT_CLASS_ORG, CASE WHEN ACCT_CLASS='AA' Then '가공비' WHEN ACCT_CLASS='BB' then '개발비' WHEN ACCT_CLASS='CC' then '판매관리비' else ACCT_CLASS end as ACCT_CLASS, 계정과목내부코드, 전표기표여부, ACCT, ACCT_NAME, 차대, 계정대분류, 관리항목유형, 계정과목Lev, 상위계정과목, 경영계획과목, 상위계정과목내부코드, 소분류, 중분류, 대분류, EXPEN_SEL, EXPEN_SEL명, 특이사항 FROM doi_acct where 1=1 order BY acct ;",
        "description": "SELECT 쿼리 (doi_acct)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "checkTab1DuplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_acct"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( YYYYMM varchar(20) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, ACCT_CLASS nvarchar(20) COLLATE Korean_Wansung_CI_AS NOT NULL, 계정과목내부코드 int NULL, 전표기표여부 int NULL, ACCT varchar(8) COLLATE Korean_Wansung_CI_AS NOT NULL, ACCT_NAME nvarchar(25) COLLATE Korean_Wansung_CI_AS NULL, 차대 nvarchar(2) COLLATE Korean_Wansung_CI_AS NULL, 계정대분",
        "description": "SELECT 쿼리 (doi_acct)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "countTab1ByYyyymmAndSite",
        "queryType": "select",
        "tables": [
          "doi_acct"
        ],
        "columns": [],
        "sql": "SELECT COUNT(*) AS cnt FROM DOI_ACCT WHERE yyyymm = ? AND site = ?",
        "description": "SELECT 쿼리 (doi_acct)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "selectTab1ByYyyymmAndSite",
        "queryType": "select",
        "tables": [
          "doi_acct"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "ACCT_CLASS",
          "계정과목내부코드",
          "전표기표여부",
          "ACCT",
          "ACCT_NAME",
          "차대",
          "계정대분류",
          "관리항목유형",
          "계정과목Lev",
          "상위계정과목",
          "경영계획과목",
          "상위계정과목내부코드",
          "소분류",
          "중분류",
          "대분류",
          "EXPEN_SEL",
          "EXPEN_SEL명"
        ],
        "sql": "SELECT YYYYMM, SEL_CODE, SITE, ACCT_CLASS, 계정과목내부코드, 전표기표여부, ACCT, ACCT_NAME, 차대, 계정대분류, 관리항목유형, 계정과목Lev, 상위계정과목, 경영계획과목, 상위계정과목내부코드, 소분류, 중분류, 대분류, EXPEN_SEL, EXPEN_SEL명, 특이사항 FROM DOI_ACCT WHERE yyyymm = ? AND site = ?",
        "description": "SELECT 쿼리 (doi_acct)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "selectTab2GridData",
        "queryType": "select",
        "tables": [
          "doi_dept"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "CASE",
          "DEPT",
          "DEPT_NAME",
          "EXPEN_AREA",
          "COST_DIST"
        ],
        "sql": "select YYYYMM, SEL_CODE, SITE as SITE_ORG, CASE WHEN SITE='HQ' Then '본사' WHEN SITE='VN' then 'VINA' else site end as SITE, DEPT, DEPT_NAME, EXPEN_AREA, COST_DIST FROM doi_dept where 1=1 order BY dept ;",
        "description": "SELECT 쿼리 (doi_dept)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "checkTab2DuplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_dept"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( YYYYMM varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, DEPT varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, DEPT_NAME nvarchar(50) COLLATE Korean_Wansung_CI_AS NULL, EXPEN_AREA nvarchar(10) COLLATE Korean_Wansung_CI_AS NULL, COST_DIST nvarchar(50) COLLATE Korean_Wansung_CI_AS NULL ); INSERT INTO #TempTable1 ( YYYYMM,",
        "description": "SELECT 쿼리 (doi_dept)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "countTab2ByYyyymmAndSite",
        "queryType": "select",
        "tables": [
          "doi_dept"
        ],
        "columns": [],
        "sql": "SELECT COUNT(*) AS cnt FROM DOI_DEPT WHERE yyyymm = ? AND site = ?",
        "description": "SELECT 쿼리 (doi_dept)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "selectTab2ByYyyymmAndSite",
        "queryType": "select",
        "tables": [
          "doi_dept"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "DEPT",
          "DEPT_NAME",
          "EXPEN_AREA",
          "COST_DIST"
        ],
        "sql": "SELECT YYYYMM, SEL_CODE, SITE, DEPT, DEPT_NAME, EXPEN_AREA, COST_DIST FROM DOI_DEPT WHERE yyyymm = ? AND site = ?",
        "description": "SELECT 쿼리 (doi_dept)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "selectTab3GridData",
        "queryType": "select",
        "tables": [
          "doi_bom_mast"
        ],
        "columns": [
          "YYYYMM",
          "SITE",
          "CASE",
          "제품명",
          "제품번호",
          "품목자산분류",
          "품목대분류",
          "품목중분류",
          "품목소분류",
          "공정차수",
          "공정",
          "공정품명",
          "공정품번호",
          "자재명",
          "자재번호",
          "자재자산분류",
          "자재대분류",
          "자재중분류",
          "자재소분류",
          "투입단위"
        ],
        "sql": "SELECT YYYYMM, SITE as SITE_ORG, CASE WHEN SITE='HQ' Then '본사' WHEN SITE='VN' then 'VINA' else site end as SITE, 제품명, 제품번호, 품목자산분류, 품목대분류, 품목중분류, 품목소분류, 공정차수, 공정, 공정품명, 공정품번호, 자재명, 자재번호, 자재자산분류, 자재대분류, 자재중분류, 자재소분류, 투입단위, 소요량, 내부Loss율, 외부Loss율, 조립위치, 특이사항, 최초작성일, 최초작성자, 최종수정일, 최종수정자 FROM DOI_BOM_MAST where 1=1 ORDER BY 제품명",
        "description": "SELECT 쿼리 (doi_bom_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "checkTab3DuplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_bom_mast"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( YYYYMM varchar(6) COLLATE Korean_Wansung_CI_AS NULL, SITE varchar(5) COLLATE Korean_Wansung_CI_AS NULL, 제품명 nvarchar(25) COLLATE Korean_Wansung_CI_AS NULL, 제품번호 nvarchar(26) COLLATE Korean_Wansung_CI_AS NULL, 품목자산분류 nvarchar(16) COLLATE Korean_Wansung_CI_AS NULL, 품목대분류 nvarchar(15) COLLATE Korean_Wansung_CI_AS NULL, 품목중분류 nvarchar(18) COLLATE Korean_Wansung_CI_AS NULL, 품목소분류 nvarchar(26) COLLATE Korean_Wansung_CI_AS NULL, 공정차수 varchar(",
        "description": "SELECT 쿼리 (doi_bom_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "countTab3ByYyyymmAndSite",
        "queryType": "select",
        "tables": [
          "doi_bom_mast"
        ],
        "columns": [],
        "sql": "SELECT COUNT(*) AS cnt FROM DOI_BOM_MAST WHERE yyyymm = ? AND site = ?",
        "description": "SELECT 쿼리 (doi_bom_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "selectTab3ByYyyymmAndSite",
        "queryType": "select",
        "tables": [
          "doi_bom_mast"
        ],
        "columns": [
          "YYYYMM",
          "SITE",
          "제품명",
          "제품번호",
          "품목자산분류",
          "품목대분류",
          "품목중분류",
          "품목소분류",
          "공정차수",
          "공정",
          "공정품명",
          "공정품번호",
          "자재명",
          "자재번호",
          "자재자산분류",
          "자재대분류",
          "자재중분류",
          "자재소분류",
          "투입단위",
          "소요량"
        ],
        "sql": "SELECT YYYYMM, SITE, 제품명, 제품번호, 품목자산분류, 품목대분류, 품목중분류, 품목소분류, 공정차수, 공정, 공정품명, 공정품번호, 자재명, 자재번호, 자재자산분류, 자재대분류, 자재중분류, 자재소분류, 투입단위, 소요량, 내부Loss율, 외부Loss율, 조립위치, 특이사항, 최초작성일, 최초작성자, 최종수정일, 최종수정자 FROM DOI_BOM_MAST WHERE yyyymm = ? AND site = ?",
        "description": "SELECT 쿼리 (doi_bom_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "selectTab5GridData",
        "queryType": "select",
        "tables": [
          "doi_model_mast"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "CASE",
          "MODEL",
          "SPEC",
          "INCH",
          "GLASS_THICK",
          "SHEET",
          "BLOCK",
          "CELL",
          "RUN_SIZE",
          "X",
          "Y",
          "XY"
        ],
        "sql": "select YYYYMM, SEL_CODE, SITE as SITE_ORG, CASE WHEN SITE='HQ' Then '본사' WHEN SITE='VN' then 'VINA' else site end as SITE, MODEL, SPEC, INCH, GLASS_THICK, SHEET, BLOCK, CELL, RUN_SIZE, X, Y, XY from DOI_MODEL_MAST where 1=1 order BY MODEL;",
        "description": "SELECT 쿼리 (doi_model_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "checkTab5DuplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_model_mast"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( YYYYMM varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, MODEL varchar(50) COLLATE Korean_Wansung_CI_AS NOT NULL, SPEC nvarchar(50) COLLATE Korean_Wansung_CI_AS NULL, INCH nvarchar(10) COLLATE Korean_Wansung_CI_AS NULL, GLASS_THICK nvarchar(10) COLLATE Korean_Wansung_CI_AS NULL, SHEET nvarchar(10) COLLATE Korean_Wansung_C",
        "description": "SELECT 쿼리 (doi_model_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "insertTab1Data",
        "queryType": "insert",
        "tables": [
          "doi_acct"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_ACCT ( YYYYMM,SEL_CODE,SITE,ACCT_CLASS,계정과목내부코드,전표기표여부,ACCT,ACCT_NAME,차대,계정대분류,관리항목유형,계정과목Lev,상위계정과목,경영계획과목,상위계정과목내부코드,소분류,중분류,대분류,expen_sel,expen_sel명,특이사항 ) VALUES ( ? , ? , CASE WHEN ?='본사' Then 'HQ' WHEN ?='VINA' then 'VN' else left(?,2) end , CASE WHEN ?='가공비' Then 'AA' WHEN ?='개발비' then 'BB' WHEN ?='판매관리비' then 'CC' else left(?,2) end , #{계정과목내부코드} , #{전표기표여부} , ? , ? , #{차대} , #{계정대분류} , #{관리항목유형} , #{계정과목lev} , #{상위계정과목} , #{경영계획과목} , #{상위계정과목내부코드} , #{소분류} , #{중분류} , #{대",
        "description": "INSERT 쿼리 (doi_acct)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "tab1UploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_acct"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "ACCT_CLASS",
          "계정과목내부코드",
          "전표기표여부",
          "ACCT",
          "ACCT_NAME",
          "차대",
          "계정대분류",
          "관리항목유형",
          "계정과목Lev",
          "상위계정과목",
          "경영계획과목",
          "상위계정과목내부코드",
          "소분류",
          "중분류",
          "대분류",
          "expen_sel",
          "expen_sel명"
        ],
        "sql": "CREATE TABLE #TempTable ( seq_no INT IDENTITY (1, 1) NOT NULL, YYYYMM varchar(20) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, ACCT_CLASS nvarchar(20) COLLATE Korean_Wansung_CI_AS NOT NULL, 계정과목내부코드 int NULL, 전표기표여부 int NULL, ACCT varchar(8) COLLATE Korean_Wansung_CI_AS NOT NULL, ACCT_NAME nvarchar(25) COLLATE Korean_Wansung_CI_AS NULL, 차대 nvarchar(2) COLLATE Korean_Wansung_CI_AS NULL, 계정",
        "description": "INSERT 쿼리 (doi_acct)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "insertTab2Data",
        "queryType": "insert",
        "tables": [
          "doi_dept"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_DEPT ( YYYYMM , SEL_CODE , SITE , DEPT , DEPT_NAME , EXPEN_AREA , COST_DIST ) VALUES ( ? , ? , CASE WHEN ?='본사' Then 'HQ' WHEN ?='VINA' then 'VN' else left(?,2) end , ? , ? , ? , ? );",
        "description": "INSERT 쿼리 (doi_dept)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "tab2UploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_dept"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "DEPT",
          "DEPT_NAME",
          "EXPEN_AREA"
        ],
        "sql": "CREATE TABLE #TempTable ( seq_no INT IDENTITY (1, 1) NOT NULL, YYYYMM varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, DEPT varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, DEPT_NAME nvarchar(50) COLLATE Korean_Wansung_CI_AS NULL, EXPEN_AREA nvarchar(10) COLLATE Korean_Wansung_CI_AS NULL ); INSERT INTO #TempTable ( YYYYMM,SEL_CODE,SITE,DEPT,DEPT_NAME,EXPEN_AREA ) VALUES <foreach",
        "description": "INSERT 쿼리 (doi_dept)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "insertTab3Data",
        "queryType": "insert",
        "tables": [
          "doi_bom_mast"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_BOM_MAST ( YYYYMM , SITE , 제품명 , 제품번호 , 품목자산분류 , 품목대분류 , 품목중분류 , 품목소분류 , 공정차수 , 공정 , 공정품명 , 공정품번호 , 자재명 , 자재번호 , 자재자산분류 , 자재대분류 , 자재중분류 , 자재소분류 , 투입단위 , 소요량 , 내부Loss율 , 외부Loss율 , 조립위치 , 특이사항 , 최초작성일 , 최초작성자 , 최종수정일 , 최종수정자 ) VALUES ( ? , CASE WHEN ?='본사' Then 'HQ' WHEN ?='VINA' then 'VN' else left(?,2) end , #{제품명} , #{제품번호} , #{품목자산분류} , #{품목대분류} , #{품목중분류} , #{품목소분류} , #{공정차수} , #{공정} , #{공정품명} , #{공정품번호} , #{자재명} , #{자재번호} , #{자재자산분류} , #{자재대분류} , #{자재중분류} , #{자재소분류} , #{투입단위}",
        "description": "INSERT 쿼리 (doi_bom_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "tab3UploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_bom_mast"
        ],
        "columns": [
          "YYYYMM",
          "SITE",
          "제품명",
          "제품번호",
          "품목자산분류",
          "품목대분류",
          "품목중분류",
          "품목소분류",
          "공정차수",
          "공정",
          "공정품명",
          "공정품번호",
          "자재명",
          "자재번호",
          "자재자산분류",
          "자재대분류",
          "자재중분류",
          "자재소분류",
          "투입단위",
          "소요량"
        ],
        "sql": "CREATE TABLE #TempTable ( seq_no INT IDENTITY (1, 1) NOT NULL, YYYYMM varchar(6) COLLATE Korean_Wansung_CI_AS NULL, SITE varchar(5) COLLATE Korean_Wansung_CI_AS NULL, 제품명 nvarchar(25) COLLATE Korean_Wansung_CI_AS NULL, 제품번호 nvarchar(26) COLLATE Korean_Wansung_CI_AS NULL, 품목자산분류 nvarchar(16) COLLATE Korean_Wansung_CI_AS NULL, 품목대분류 nvarchar(15) COLLATE Korean_Wansung_CI_AS NULL, 품목중분류 nvarchar(18) COLLATE Korean_Wansung_CI_AS NULL, 품목소분류 nvarchar(26) COLLATE Korean_Wansung_CI_AS NULL, 공정차수 varcha",
        "description": "INSERT 쿼리 (doi_bom_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "insertTab5Data",
        "queryType": "insert",
        "tables": [
          "doi_model_mast"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_MODEL_MAST ( YYYYMM , SEL_CODE , SITE , MODEL , SPEC , INCH , GLASS_THICK , SHEET , BLOCK , CELL , RUN_SIZE , X , Y , XY ) VALUES ( ? , ? , CASE WHEN ?='본사' Then 'HQ' WHEN ?='VINA' then 'VN' else left(?,2) end , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? );",
        "description": "INSERT 쿼리 (doi_model_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "tab5UploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_model_mast"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "MODEL",
          "SPEC",
          "INCH",
          "GLASS_THICK",
          "SHEET",
          "BLOCK",
          "CELL",
          "RUN_SIZE",
          "X",
          "Y",
          "XY"
        ],
        "sql": "CREATE TABLE #TempTable ( seq_no INT IDENTITY (1, 1) NOT NULL, YYYYMM varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, MODEL varchar(50) COLLATE Korean_Wansung_CI_AS NOT NULL, SPEC nvarchar(50) COLLATE Korean_Wansung_CI_AS NULL, INCH nvarchar(10) COLLATE Korean_Wansung_CI_AS NULL, GLASS_THICK nvarchar(10) COLLATE Korean_Wansung_CI_AS NULL, SHEET nvarchar(10) COLLATE Korean_Wansung",
        "description": "INSERT 쿼리 (doi_model_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "updateTab1Data",
        "queryType": "update",
        "tables": [
          "doi_acct"
        ],
        "columns": [],
        "sql": "UPDATE DOI_ACCT SET SEL_CODE = ? ,ACCT_CLASS = CASE WHEN ?='가공비' Then 'AA' WHEN ?='개발비' then 'BB' WHEN ?='판매관리비' then 'CC' else left(?,2) end ,계정과목내부코드 = #{계정과목내부코드} ,전표기표여부 = #{전표기표여부} ,ACCT_NAME = ? ,차대 = #{차대} ,계정대분류 = #{계정대분류} ,관리항목유형 = #{관리항목유형} ,계정과목Lev = #{계정과목lev} ,상위계정과목 = #{상위계정과목} ,경영계획과목 = #{경영계획과목} ,상위계정과목내부코드 = #{상위계정과목내부코드} ,소분류 = #{소분류} ,중분류 = #{중분류} ,대분류 = #{대분류} ,EXPEN_SEL = ? ,EXPEN_SEL명 = #{expenSel명} ,특이사항 = #{특이사항} WHERE 1=1 and yyyymm = ? and site = ? and acct = ? ;",
        "description": "UPDATE 쿼리 (doi_acct)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "updateTab2Data",
        "queryType": "update",
        "tables": [
          "doi_dept"
        ],
        "columns": [],
        "sql": "UPDATE DOI_DEPT SET DEPT_NAME = ? ,EXPEN_AREA = ? WHERE 1=1 and yyyymm = ? and site = ? and dept = ? ;",
        "description": "UPDATE 쿼리 (doi_dept)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "updateTab3Data",
        "queryType": "update",
        "tables": [
          "doi_bom_mast"
        ],
        "columns": [],
        "sql": "UPDATE DOI_BOM_MAST SET 제품명 = #{제품명} ,품목자산분류 = #{품목자산분류} ,품목대분류 = #{품목대분류} ,품목중분류 = #{품목중분류} ,품목소분류 = #{품목소분류} ,공정차수 = #{공정차수} ,공정품명 = #{공정품명} ,공정품번호 = #{공정품번호} ,자재명 = #{자재명} ,자재자산분류 = #{자재자산분류} ,자재대분류 = #{자재대분류} ,자재중분류 = #{자재중분류} ,자재소분류 = #{자재소분류} ,투입단위 = #{투입단위} ,소요량 = #{소요량} ,내부Loss율 = #{내부Loss율} ,외부Loss율 = #{외부Loss율} ,조립위치 = #{조립위치} ,특이사항 = #{특이사항} ,최초작성일 = #{최초작성일} ,최초작성자 = #{최초작성자} ,최종수정일 = #{최종수정일} ,최종수정자 = #{최종수정자} WHERE 1=1 and yyyymm = ? and site = ? and 제품번호 = #{제품번호} and 공정 = #{공정} a",
        "description": "UPDATE 쿼리 (doi_bom_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "updateTab5Data",
        "queryType": "update",
        "tables": [
          "doi_model_mast"
        ],
        "columns": [],
        "sql": "UPDATE DOI_MODEL_MAST SET SEL_CODE = ? ,MODEL = ? ,SPEC = ? ,INCH = ? ,GLASS_THICK = ? ,SHEET = ? ,BLOCK = ? ,CELL = ? ,RUN_SIZE = ? ,X = ? ,Y = ? ,XY = ? WHERE 1=1 and yyyymm = ? and site = ? and model = ? ;",
        "description": "UPDATE 쿼리 (doi_model_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "deleteTab1Data",
        "queryType": "delete",
        "tables": [
          "doi_acct"
        ],
        "columns": [],
        "sql": "DELETE FROM DOI_ACCT WHERE 1=1 and yyyymm = ? and sel_code = ? and site = ? and acct_class = ? and acct = ?",
        "description": "DELETE 쿼리 (doi_acct)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "deleteTab2Data",
        "queryType": "delete",
        "tables": [
          "doi_dept"
        ],
        "columns": [],
        "sql": "DELETE FROM DOI_DEPT WHERE 1=1 and yyyymm = ? and site = ? and dept = ?",
        "description": "DELETE 쿼리 (doi_dept)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "deleteTab3Data",
        "queryType": "delete",
        "tables": [
          "doi_bom_mast"
        ],
        "columns": [],
        "sql": "DELETE FROM DOI_BOM_MAST WHERE yyyymm = ? AND site = ? AND 제품번호 = #{제품번호} AND 공정 = #{공정} AND ISNULL(자재번호, '') = ISNULL(#{자재번호}, '')",
        "description": "DELETE 쿼리 (doi_bom_mast)"
      },
      {
        "mapperId": "C0001004",
        "queryId": "deleteTab5Data",
        "queryType": "delete",
        "tables": [
          "doi_model_mast"
        ],
        "columns": [],
        "sql": "DELETE FROM DOI_MODEL_MAST WHERE 1=1 and yyyymm = ? and sel_code = ? and site = ? and model = ?",
        "description": "DELETE 쿼리 (doi_model_mast)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0001007",
      "screenName": "C0001007",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0001000/C0001007.vue"
    },
    "queries": [
      {
        "mapperId": "C0001007",
        "queryId": "getGrid1Data",
        "queryType": "select",
        "tables": [
          "doi_maj_code"
        ],
        "columns": [
          "maj_code_name",
          "maj_code"
        ],
        "sql": "select maj_code_name,maj_code from doi_maj_code order by case when isnumeric(maj_code) = 1 then cast(maj_code as int) else null end, maj_code",
        "description": "SELECT 쿼리 (doi_maj_code)"
      },
      {
        "mapperId": "C0001007",
        "queryId": "getGrid2Data",
        "queryType": "select",
        "tables": [
          "doi_common_code"
        ],
        "columns": [
          "maj_code",
          "code",
          "code_name",
          "tray_cell",
          "create_date",
          "use_yn",
          "sort_order",
          "etc1",
          "etc2"
        ],
        "sql": "select maj_code,code,code as code_org,code_name,tray_cell,create_date,use_yn,sort_order,etc1,etc2 from doi_common_code where maj_code = ? order by sort_order,code",
        "description": "SELECT 쿼리 (doi_common_code)"
      },
      {
        "mapperId": "C0001007",
        "queryId": "insertData1",
        "queryType": "insert",
        "tables": [
          "doi_maj_code"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_maj_code ( maj_code_name, maj_code ) VALUES ( ?, ? );",
        "description": "INSERT 쿼리 (doi_maj_code)"
      },
      {
        "mapperId": "C0001007",
        "queryId": "insertData2",
        "queryType": "insert",
        "tables": [
          "doi_common_code"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_common_code ( maj_code, code, code_name, tray_cell, create_date, use_yn, sort_order, etc1, etc2 ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? );",
        "description": "INSERT 쿼리 (doi_common_code)"
      },
      {
        "mapperId": "C0001007",
        "queryId": "updateData1",
        "queryType": "update",
        "tables": [
          "doi_maj_code"
        ],
        "columns": [],
        "sql": "UPDATE doi_maj_code SET maj_code_name=? WHERE maj_code = ?",
        "description": "UPDATE 쿼리 (doi_maj_code)"
      },
      {
        "mapperId": "C0001007",
        "queryId": "updateData2",
        "queryType": "update",
        "tables": [
          "doi_common_code"
        ],
        "columns": [],
        "sql": "UPDATE doi_common_code SET code = ?, code_name=?, tray_cell=?, create_date=?, use_yn=?, sort_order=?, etc1=?, etc2=? WHERE maj_code=? AND code=?;",
        "description": "UPDATE 쿼리 (doi_common_code)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0001009",
      "screenName": "Tab 0 사용자 관리  #tab-content-#{DOI_CM_SYS_RESOURCE.sys_resource_id}",
      "menuPath": "Tab 0 사용자 관리  #tab-content-#{DOI_CM_SYS_RESOURCE.sys_resource_id}",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0001000/C0001009.vue",
      "tabs": [
        "TAB012000",
        "TAB013000",
        "TAB014000"
      ],
      "description": "사용자 관리  #tab-content-#{DOI_CM_SYS_RESOURCE.sys_resource_id}, 메뉴관리, 사용자메뉴 권한관리"
    },
    "queries": [
      {
        "mapperId": "C0001009",
        "queryId": "selectMenuTabList",
        "queryType": "select",
        "tables": [
          "doi_cm_sys_resource",
          "mt"
        ],
        "columns": [
          "a.prod_category",
          "a.sys_resource_id",
          "a.upper_sys_resource_id",
          "a.description",
          "a.SYS_RESOURCE_NAME",
          "a.seq",
          "1",
          "a.sys_resource_type_code_id",
          "'D4')as",
          "a.url",
          "a.del_yn"
        ],
        "sql": "with mt as ( select a.prod_category ,a.sys_resource_id ,a.upper_sys_resource_id ,a.description ,cast(a.SYS_RESOURCE_NAME as nvarchar(max)) as full_path ,a.SYS_RESOURCE_NAME ,a.seq ,1 as level ,a.sys_resource_type_code_id ,cast(FORMAT(a.seq , 'D4')as nvarchar(max)) as full_seq ,a.url ,a.del_yn ,a.sys_resource_id as org_sys_resource_id from DOI_CM_SYS_RESOURCE a where a.upper_sys_resource_id = 'ROOT_MENU' and a.prod_category = ? and a.del_yn = 'N' union all select a.prod_category ,a.sys_resource_i",
        "description": "SELECT 쿼리 (doi_cm_sys_resource, mt)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "selectRoleList",
        "queryType": "select",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [
          "ROLE_ID",
          "ROLE_NAME",
          "DESCRIPTION",
          "INIT_DT",
          "INIT_USER",
          "MODI_DT",
          "MODI_USER"
        ],
        "sql": "select ROLE_ID ,ROLE_NAME ,DESCRIPTION ,INIT_DT ,INIT_USER ,MODI_DT ,MODI_USER from DOI_CM_ROLE where del_yn = 'N' order by role_name",
        "description": "SELECT 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "selectUserList",
        "queryType": "select",
        "tables": [
          "doi_cm_user"
        ],
        "columns": [
          "USER_ID",
          "password",
          "user_name",
          "dept_name",
          "dept_code",
          "position_name",
          "position_code",
          "UTG",
          "ITG",
          "INIT_DT",
          "INIT_USER",
          "MODI_DT",
          "MODI_USER",
          "DEL_YN"
        ],
        "sql": "select USER_ID ,password ,user_name ,dept_name ,dept_code ,position_name ,position_code ,UTG ,ITG ,INIT_DT ,INIT_USER ,MODI_DT ,MODI_USER ,DEL_YN from doi_cm_user where DEL_YN = 'N' order by dept_name,user_name",
        "description": "SELECT 쿼리 (doi_cm_user)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "selectRoleMenuTabList",
        "queryType": "select",
        "tables": [
          "doi_cm_role",
          "doi_cm_role_sys_resource",
          "doi_cm_sys_resource",
          "mt",
          "role_sys_resc"
        ],
        "columns": [
          "b.UPPER_SYS_RESOURCE_ID",
          "b.SYS_RESOURCE_ID"
        ],
        "sql": "with role_sys_resc as ( select b.UPPER_SYS_RESOURCE_ID ,b.SYS_RESOURCE_ID from DOI_CM_ROLE a left outer join doi_cm_role_sys_resource b on (a.ROLE_ID = b.ROLE_ID) where a.role_id = ? and a.del_yn = 'N' and b.prod_category = ? ) ,mt as ( select a.prod_category ,a.sys_resource_id ,a.upper_sys_resource_id ,a.description ,cast(a.SYS_RESOURCE_NAME as nvarchar(max)) as full_path ,a.SYS_RESOURCE_NAME ,a.seq ,1 as level ,a.sys_resource_type_code_id ,cast(a.seq as nvarchar(max)) as full_seq ,a.url from D",
        "description": "SELECT 쿼리 (doi_cm_role, doi_cm_role_sys_resource, doi_cm_sys_resource, mt, role_sys_resc)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "selectRoleUserList",
        "queryType": "select",
        "tables": [
          "doi_cm_user_role",
          "doi_cm_user"
        ],
        "columns": [
          "a.role_id",
          "a.user_id",
          "b.dept_name",
          "b.user_name",
          "b.position_name",
          "b.position_code"
        ],
        "sql": "select a.role_id ,a.user_id ,b.dept_name ,b.user_name ,b.position_name ,b.position_code from doi_cm_user_ROLE a left outer join doi_cm_user b on (a.USER_ID = b.USER_ID) where a.ROLE_ID = ?",
        "description": "SELECT 쿼리 (doi_cm_user_role, doi_cm_user)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "checkRoleId",
        "queryType": "select",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [
          "case"
        ],
        "sql": "select case when count(1) > 0 then ? + '는 사용 할 수 없는 Role Id 입니다.' else 'OK' end from DOI_CM_ROLE where role_id = ?",
        "description": "SELECT 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "insertRoleSysResc",
        "queryType": "insert",
        "tables": [
          "doi_cm_role_sys_resource"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_cm_role_sys_resource ( ROLE_ID ,PROD_CATEGORY ,UPPER_SYS_RESOURCE_ID ,SYS_RESOURCE_ID ,SYS_RESOURCE_TYPE_CODE_ID ,INIT_DT ,INIT_USER ) VALUES ( ? ,? ,? ,? ,? ,GETDATE() ,? )",
        "description": "INSERT 쿼리 (doi_cm_role_sys_resource)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "insertCmUser",
        "queryType": "insert",
        "tables": [
          "doi_cm_user"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_cm_user ( USER_ID ,user_name ,password ,dept_name ,dept_code ,position_name ,position_code ,UTG ,ITG ,INIT_DT ,INIT_USER ,MODI_DT ,MODI_USER ,DEL_YN ) VALUES ( ? ,? ,? ,? ,? ,? ,? ,? ,? ,getdate() ,? ,NULL ,NULL ,'N' )",
        "description": "INSERT 쿼리 (doi_cm_user)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "insertCmSysResource",
        "queryType": "insert",
        "tables": [
          "doi_cm_sys_resource"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_CM_SYS_RESOURCE ( prod_category , SYS_RESOURCE_ID , SYS_RESOURCE_NAME , UPPER_SYS_RESOURCE_ID , SYS_RESOURCE_TYPE_CODE_ID , DESCRIPTION , SEQ , URL , INIT_DT , INIT_USER , DEL_YN ) VALUES ( ? ,? , ? , ? , ? , ? , ? , ? , getdate() , ? , 'N' )",
        "description": "INSERT 쿼리 (doi_cm_sys_resource)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "insertUserRole",
        "queryType": "insert",
        "tables": [
          "doi_cm_user_role"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_cm_user_ROLE ( USER_ID,ROLE_ID,ROLE_NAME,INIT_DT,INIT_USER ) VALUES ( ?,?,?,getdate(),? )",
        "description": "INSERT 쿼리 (doi_cm_user_role)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "insertRole",
        "queryType": "insert",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_CM_ROLE ( ROLE_ID, ROLE_NAME, DESCRIPTION, INIT_DT, INIT_USER, MODI_DT, MODI_USER, DEL_YN ) VALUES ( ?, ?, ?, getdate(), ?, NULL, NULL, 'N' )",
        "description": "INSERT 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "updateCmUser",
        "queryType": "update",
        "tables": [
          "doi_cm_user"
        ],
        "columns": [],
        "sql": "UPDATE doi_cm_user SET user_name=? , password=? , dept_name=? , dept_code=? , position_name=? , position_code=? , UTG=? , ITG=? , MODI_DT=getdate() , MODI_USER=? WHERE USER_ID=?",
        "description": "UPDATE 쿼리 (doi_cm_user)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "deleteCmUser",
        "queryType": "update",
        "tables": [
          "doi_cm_user"
        ],
        "columns": [],
        "sql": "UPDATE doi_cm_user SET DEL_YN = 'Y' WHERE USER_ID=?",
        "description": "UPDATE 쿼리 (doi_cm_user)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "updateCmSysResource",
        "queryType": "update",
        "tables": [
          "doi_cm_sys_resource"
        ],
        "columns": [],
        "sql": "UPDATE DOI_CM_SYS_RESOURCE SET SYS_RESOURCE_ID = ? ,SYS_RESOURCE_NAME=? , SYS_RESOURCE_TYPE_CODE_ID=? , DESCRIPTION=? , SEQ=? , URL=? , MODI_DT=getdate() , MODI_USER=? where prod_category = ? and SYS_RESOURCE_ID = ? and UPPER_SYS_RESOURCE_ID = ?",
        "description": "UPDATE 쿼리 (doi_cm_sys_resource)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "deleteCmSysResource",
        "queryType": "update",
        "tables": [
          "doi_cm_sys_resource"
        ],
        "columns": [],
        "sql": "UPDATE DOI_CM_SYS_RESOURCE SET DEL_YN = 'Y' , MODI_DT=getdate() , MODI_USER=? where prod_category = ? and SYS_RESOURCE_ID = ? and UPPER_SYS_RESOURCE_ID = ?",
        "description": "UPDATE 쿼리 (doi_cm_sys_resource)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "deleteRole",
        "queryType": "update",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [],
        "sql": "UPDATE DOI_CM_ROLE SET DEL_YN = 'Y' ,MODI_USER = ? ,MODI_DT = GETDATE() WHERE ROLE_ID = ?",
        "description": "UPDATE 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "updateRole",
        "queryType": "update",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [],
        "sql": "UPDATE DOI_CM_ROLE SET ROLE_NAME = ? ,DESCRIPTION = ? ,MODI_DT = getdate() ,MODI_USER = ? WHERE ROLE_ID = ?",
        "description": "UPDATE 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "deleteRoleSysResc",
        "queryType": "delete",
        "tables": [
          "doi_cm_role_sys_resource"
        ],
        "columns": [],
        "sql": "delete from doi_cm_role_sys_resource where role_id = ? and PROD_CATEGORY = ?",
        "description": "DELETE 쿼리 (doi_cm_role_sys_resource)"
      },
      {
        "mapperId": "C0001009",
        "queryId": "deleteUserRole",
        "queryType": "delete",
        "tables": [
          "doi_cm_user_role"
        ],
        "columns": [],
        "sql": "DELETE FROM doi_cm_user_ROLE WHERE ROLE_ID = ? AND USER_ID = ?",
        "description": "DELETE 쿼리 (doi_cm_user_role)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0003010",
      "screenName": "제품수불 체크",
      "menuPath": "제조매출원가 > 제품수불 체크",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0003000/C0003010.vue"
    },
    "queries": [
      {
        "mapperId": "C0003010",
        "queryId": "selectST001Detail",
        "queryType": "select",
        "tables": [
          "doi_stock"
        ],
        "columns": [
          "TOP",
          "STOCK",
          "BOH",
          "[INPUT]",
          "[OUT]",
          "EOH"
        ],
        "sql": "SELECT TOP 100 MODEL, STOCK, BOH, [INPUT], [OUT], EOH, (BOH + [INPUT] - [OUT]) AS CALC_EOH, EOH - (BOH + [INPUT] - [OUT]) AS DIFF FROM DOI_STOCK WHERE 1=1 <!-- 임시로 주석: 실제 데이터가 있는지 확인 --> <!-- AND ABS(EOH - (BOH + [INPUT] - [OUT])) &gt; 0.01 --> ORDER BY ABS(EOH - (BOH + [INPUT] - [OUT])) DESC, MODEL, STOCK",
        "description": "SELECT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST001Summary",
        "queryType": "select",
        "tables": [
          "doi_stock"
        ],
        "columns": [],
        "sql": "SELECT COUNT(*) AS TOTAL_COUNT, SUM(CASE WHEN ABS(EOH - (BOH + [INPUT] - [OUT])) &lt;= 0.01 THEN 1 ELSE 0 END) AS NORMAL_COUNT, SUM(CASE WHEN ABS(EOH - (BOH + [INPUT] - [OUT])) &gt; 0.01 THEN 1 ELSE 0 END) AS ERROR_COUNT FROM DOI_STOCK WHERE 1=1",
        "description": "SELECT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST002Detail",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "SELECT '임시' AS MODEL, '임시' AS GUBUN, '임시' AS EXPEN_SEL, '' AS EXPEN_SEL_NAME, 0 AS FAB_OUT_AMT, 0 AS STOCK_IN_AMT, 0 AS DIFF_AMT, '구현 예정' AS ERROR_TYPE WHERE 1=0",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST002Summary",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "SELECT 0 AS TOTAL_COUNT, 0 AS NORMAL_COUNT, 0 AS ERROR_COUNT",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST003Detail",
        "queryType": "select",
        "tables": [
          "doi_stco"
        ],
        "columns": [
          "TOP",
          "구분",
          "EXPEN_SEL",
          "BOH_AMT",
          "IN_AMT",
          "EOH_AMT",
          "OUT_AMT"
        ],
        "sql": "SELECT TOP 100 MODEL, 구분 AS GUBUN, EXPEN_SEL, BOH_AMT, IN_AMT, EOH_AMT, OUT_AMT, (BOH_AMT + IN_AMT - EOH_AMT) AS CALC_OUT_AMT, OUT_AMT - (BOH_AMT + IN_AMT - EOH_AMT) AS DIFF FROM DOI_STCO WHERE 1=1 <!-- 임시로 주석: 실제 데이터가 있는지 확인 --> <!-- AND ABS(OUT_AMT - (BOH_AMT + IN_AMT - EOH_AMT)) &gt; 0.01 --> ORDER BY ABS(OUT_AMT - (BOH_AMT + IN_AMT - EOH_AMT)) DESC, MODEL, GUBUN, EXPEN_SEL",
        "description": "SELECT 쿼리 (doi_stco)"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST003Summary",
        "queryType": "select",
        "tables": [
          "doi_stco"
        ],
        "columns": [],
        "sql": "SELECT COUNT(*) AS TOTAL_COUNT, SUM(CASE WHEN ABS(OUT_AMT - (BOH_AMT + IN_AMT - EOH_AMT)) &lt;= 0.01 THEN 1 ELSE 0 END) AS NORMAL_COUNT, SUM(CASE WHEN ABS(OUT_AMT - (BOH_AMT + IN_AMT - EOH_AMT)) &gt; 0.01 THEN 1 ELSE 0 END) AS ERROR_COUNT FROM DOI_STCO WHERE 1=1",
        "description": "SELECT 쿼리 (doi_stco)"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST004Detail",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "SELECT '임시' AS TABLE_NAME, '임시' AS MODEL, '임시' AS GUBUN, 'NULL' AS EXPEN_SEL, '구현 예정' AS ERROR_TYPE, '구현 예정' AS REMARK WHERE 1=0",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST004Summary",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "SELECT 0 AS TOTAL_COUNT, 0 AS NORMAL_COUNT, 0 AS ERROR_COUNT",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST005Detail",
        "queryType": "select",
        "tables": [
          "doi_stock"
        ],
        "columns": [
          "TOP",
          "STOCK",
          "BOH",
          "EOH",
          "CASE"
        ],
        "sql": "SELECT TOP 100 MODEL, STOCK, BOH, EOH, CASE WHEN BOH &lt; 0 AND EOH &lt; 0 THEN '둘 다 음수' WHEN BOH &lt; 0 THEN 'BOH 음수' WHEN EOH &lt; 0 THEN 'EOH 음수' ELSE '정상' END AS ERROR_TYPE, CASE WHEN BOH &lt; 0 AND EOH &lt; 0 THEN '기초재고와 기말재고 모두 음수입니다.' WHEN BOH &lt; 0 THEN '기초재고가 음수입니다.' WHEN EOH &lt; 0 THEN '기말재고가 음수입니다.' ELSE '' END AS REMARK FROM DOI_STOCK WHERE 1=1 AND (BOH &lt; 0 OR EOH &lt; 0) ORDER BY CASE WHEN BOH &lt; 0 AND EOH &lt; 0 THEN 1 WHEN BOH &lt; 0 THEN 2 WHEN EOH &lt; 0 THEN 3 ELSE 4 END",
        "description": "SELECT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0003010",
        "queryId": "selectST005Summary",
        "queryType": "select",
        "tables": [
          "doi_stock"
        ],
        "columns": [],
        "sql": "SELECT COUNT(*) AS TOTAL_COUNT, SUM(CASE WHEN BOH &gt;= 0 AND EOH &gt;= 0 THEN 1 ELSE 0 END) AS NORMAL_COUNT, SUM(CASE WHEN BOH &lt; 0 OR EOH &lt; 0 THEN 1 ELSE 0 END) AS ERROR_COUNT FROM DOI_STOCK WHERE 1=1",
        "description": "SELECT 쿼리 (doi_stock)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007001",
      "screenName": "부서별, 계정별 비용",
      "menuPath": "타시스템 > 부서별, 계정별 비용",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007001.vue"
    },
    "queries": [
      {
        "mapperId": "C0007001",
        "queryId": "C0007001_Sch1",
        "queryType": "select",
        "tables": [
          "doi_dept_cost"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "CASE",
          "코스트센터",
          "코스트센터분류",
          "코스트센터유형",
          "계정코드",
          "계정과목",
          "비용구분",
          "차변금액",
          "대변금액"
        ],
        "sql": "select YYYYMM, SEL_CODE, SITE as SITE_ORG, CASE WHEN SITE='HQ' then '본사' WHEN site='VN' then 'VINA' end as SITE, 코스트센터, 코스트센터분류, 코스트센터유형, 계정코드, 계정과목, 비용구분, 차변금액, 대변금액 from DOI_DEPT_COST where 1=1 order BY 코스트센터;",
        "description": "SELECT 쿼리 (doi_dept_cost)"
      },
      {
        "mapperId": "C0007001",
        "queryId": "checkduplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_dept_cost"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( yyyymm varchar(6) COLLATE Korean_Wansung_CI_AS NOT NULL, sel_code varchar(6) COLLATE Korean_Wansung_CI_AS NOT NULL, site varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, 코스트센터 nvarchar(15) COLLATE Korean_Wansung_CI_AS NOT NULL, 코스트센터분류 nvarchar(12) COLLATE Korean_Wansung_CI_AS NULL, 코스트센터유형 nvarchar(12) COLLATE Korean_Wansung_CI_AS NULL, 계정코드 varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, 계정과목 nvarchar(30) COLLATE Korean_Wansung_C",
        "description": "SELECT 쿼리 (doi_dept_cost)"
      },
      {
        "mapperId": "C0007001",
        "queryId": "uploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_dept_cost"
        ],
        "columns": [
          "yyyymm",
          "sel_code",
          "site",
          "코스트센터",
          "코스트센터분류",
          "코스트센터유형",
          "계정코드",
          "계정과목",
          "비용구분",
          "차변금액",
          "대변금액"
        ],
        "sql": "CREATE TABLE #TempTable ( seq_no INT IDENTITY (1, 1) NOT NULL, yyyymm varchar(6) COLLATE Korean_Wansung_CI_AS NOT NULL, sel_code varchar(6) COLLATE Korean_Wansung_CI_AS NOT NULL, site varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, 코스트센터 nvarchar(15) COLLATE Korean_Wansung_CI_AS NOT NULL, 코스트센터분류 nvarchar(12) COLLATE Korean_Wansung_CI_AS NULL, 코스트센터유형 nvarchar(12) COLLATE Korean_Wansung_CI_AS NULL, 계정코드 varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, 계정과목 nvarchar(30) COLLATE Korean_Wansung",
        "description": "INSERT 쿼리 (doi_dept_cost)"
      },
      {
        "mapperId": "C0007001",
        "queryId": "C0007001_Insert1",
        "queryType": "insert",
        "tables": [
          "doi_dept_cost"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_DEPT_COST ( YYYYMM , SEL_CODE , SITE , 코스트센터 , 코스트센터분류 , 코스트센터유형 , 계정코드 , 계정과목 , 비용구분 , 차변금액 , 대변금액 ) VALUES ( ? , ? , CASE WHEN ?='본사' Then 'HQ' WHEN ?='VINA' then 'VN' else left(?,2) end , #{코스트센터} , #{코스트센터분류} , #{코스트센터유형} , #{계정코드} , #{계정과목} , #{비용구분} , #{차변금액} , #{대변금액} );",
        "description": "INSERT 쿼리 (doi_dept_cost)"
      },
      {
        "mapperId": "C0007001",
        "queryId": "C0007001_Update1",
        "queryType": "update",
        "tables": [
          "doi_dept_cost"
        ],
        "columns": [],
        "sql": "UPDATE DOI_DEPT_COST SET 코스트센터분류 = #{코스트센터분류} , 코스트센터유형 = #{코스트센터유형} , 계정과목 = #{계정과목} , 비용구분 = #{비용구분} , 차변금액 = #{차변금액} , 대변금액 = #{대변금액} WHERE 1=1 and yyyymm = ? and SEL_CODE = ? and site = ? and 코스트센터 = #{코스트센터} and 계정코드 = #{계정코드} ;",
        "description": "UPDATE 쿼리 (doi_dept_cost)"
      },
      {
        "mapperId": "C0007001",
        "queryId": "C0007001_Delete1",
        "queryType": "delete",
        "tables": [
          "doi_dept_cost"
        ],
        "columns": [],
        "sql": "DELETE FROM DOI_DEPT_COST WHERE 1=1 and yyyymm = ? and sel_code = ? and site = ? and 코스트센터 = #{코스트센터} and 계정코드 = #{계정코드}",
        "description": "DELETE 쿼리 (doi_dept_cost)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007002",
      "screenName": "자재투입정보",
      "menuPath": "타시스템 > 자재투입정보",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007002.vue"
    },
    "queries": [
      {
        "mapperId": "C0007002",
        "queryId": "C0007002_Sch1",
        "queryType": "select",
        "tables": [
          "doi_material_resc"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "CASE",
          "MAT_CODE",
          "MAT_DESC",
          "[SIZE]",
          "IN_QTY",
          "UNIT_COST",
          "IN_AMT",
          "COST_GUBUN",
          "MAT_GUBUN",
          "MAT_CLASS",
          "MODEL",
          "MODEL_N_TYPE"
        ],
        "sql": "select YYYYMM, SEL_CODE, SITE AS SITE_ORG, CASE WHEN SITE='HQ' then '본사' WHEN site='VN' then 'VINA' end as SITE, MAT_CODE, MAT_DESC, [SIZE], IN_QTY, UNIT_COST, IN_AMT, COST_GUBUN, MAT_GUBUN, MAT_CLASS, MODEL, MODEL_N_TYPE from DOI_MATERIAL_RESC where 1=1 order BY MAT_CODE, MODEL, MODEL_N_TYPE;",
        "description": "SELECT 쿼리 (doi_material_resc)"
      },
      {
        "mapperId": "C0007002",
        "queryId": "checkduplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_material_resc"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( YYYYMM varchar(6) COLLATE Korean_Wansung_CI_AS NULL, SEL_CODE varchar(6) COLLATE Korean_Wansung_CI_AS NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NULL, MAT_CODE varchar(24) COLLATE Korean_Wansung_CI_AS NULL, MAT_DESC nvarchar(50) COLLATE Korean_Wansung_CI_AS NULL, [SIZE] varchar(40) COLLATE Korean_Wansung_CI_AS NULL, IN_QTY real NULL, UNIT_COST real NULL, IN_AMT numeric(15,2) NULL, COST_GUBUN nvarchar(15) COLLATE Korean_Wansung_",
        "description": "SELECT 쿼리 (doi_material_resc)"
      },
      {
        "mapperId": "C0007002",
        "queryId": "uploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_material_resc"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "MAT_CODE",
          "MAT_DESC",
          "[SIZE]",
          "IN_QTY",
          "UNIT_COST",
          "IN_AMT",
          "COST_GUBUN",
          "MAT_GUBUN",
          "MAT_CLASS",
          "MODEL",
          "MODEL_N_TYPE"
        ],
        "sql": "CREATE TABLE #TempTable ( seq_no INT IDENTITY (1, 1) NOT NULL, YYYYMM varchar(6) COLLATE Korean_Wansung_CI_AS NULL, SEL_CODE varchar(6) COLLATE Korean_Wansung_CI_AS NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NULL, MAT_CODE varchar(24) COLLATE Korean_Wansung_CI_AS NULL, MAT_DESC nvarchar(50) COLLATE Korean_Wansung_CI_AS NULL, [SIZE] varchar(40) COLLATE Korean_Wansung_CI_AS NULL, IN_QTY real NULL, UNIT_COST real NULL, IN_AMT numeric(15,2) NULL, COST_GUBUN nvarchar(15) COLLATE Korean_Wansun",
        "description": "INSERT 쿼리 (doi_material_resc)"
      },
      {
        "mapperId": "C0007002",
        "queryId": "C0007002_Insert1",
        "queryType": "insert",
        "tables": [
          "doi_material_resc"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_MATERIAL_RESC ( YYYYMM,SEL_CODE,SITE,MAT_CODE,MAT_DESC,[SIZE],IN_QTY,UNIT_COST,IN_AMT,COST_GUBUN,MAT_GUBUN,MAT_CLASS,MODEL,MODEL_N_TYPE ) VALUES ( ? , ? , CASE WHEN ?='본사' Then 'HQ' WHEN ?='VINA' then 'VN' else left(?,2) end , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? );",
        "description": "INSERT 쿼리 (doi_material_resc)"
      },
      {
        "mapperId": "C0007002",
        "queryId": "C0007002_Update1",
        "queryType": "update",
        "tables": [
          "doi_material_resc"
        ],
        "columns": [],
        "sql": "UPDATE DOI_MATERIAL_RESC SET MAT_DESC = ? ,[SIZE] = ? ,IN_QTY = ? ,UNIT_COST = ? ,IN_AMT = ? ,COST_GUBUN = ? ,MAT_GUBUN = ? ,MAT_CLASS = ? WHERE 1=1 and YYYYMM = ? and SEL_CODE = ? and SITE = ? and MAT_CODE = ? and MODEL = ? and MODEL_N_TYPE = ? ;",
        "description": "UPDATE 쿼리 (doi_material_resc)"
      },
      {
        "mapperId": "C0007002",
        "queryId": "C0007002_Delete1",
        "queryType": "delete",
        "tables": [
          "doi_material_resc"
        ],
        "columns": [],
        "sql": "DELETE FROM DOI_MATERIAL_RESC WHERE 1=1 and YYYYMM = ? and SEL_CODE = ? and SITE = ? and MAT_CODE = ? and MODEL = ? and MODEL_N_TYPE = ?",
        "description": "DELETE 쿼리 (doi_material_resc)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007003",
      "screenName": "Tab 0 생산수불",
      "menuPath": "Tab 0 생산수불",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007003.vue",
      "tabs": [
        "TAB070001",
        "TAB070002"
      ],
      "description": "생산수불, 연구개발 수불"
    },
    "queries": [
      {
        "mapperId": "C0007003",
        "queryId": "C0007003_Sch1",
        "queryType": "select",
        "tables": [
          "doi_prod_subul"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "DW_SITE",
          "CASE",
          "구분",
          "구분_ord",
          "도우코드",
          "MODEL_N_TYPE",
          "도우모델",
          "작업구분",
          "org작업구분",
          "model",
          "Inch",
          "Site",
          "BOH_MONTH",
          "IN_MONTH",
          "BONUS_MONTH",
          "EOH_MONTH",
          "OUT_MONTH",
          "LOSS_MONTH"
        ],
        "sql": "select YYYYMM,SEL_CODE, DW_SITE as DW_SITE_ORG, CASE WHEN DW_SITE='HQ' then '본사' WHEN DW_SITE='VN' then 'VINA' end as DW_SITE, 구분,구분_ord,도우코드,MODEL_N_TYPE,도우모델,작업구분,org작업구분,model,Inch,Site,BOH_MONTH,IN_MONTH,BONUS_MONTH,EOH_MONTH,OUT_MONTH,LOSS_MONTH,NG_MONTH,수율제외_MONTH,REWORK진행_MONTH,SHIPPING_PLAN_MONTH,SHIPPING_ACTUAL_MONTH,material_loss from DOI_PROD_SUBUL where 1=1 order BY 도우코드,MODEL_N_TYPE,도우모델,구분_ord;",
        "description": "SELECT 쿼리 (doi_prod_subul)"
      },
      {
        "mapperId": "C0007003",
        "queryId": "C0007003_Sch2",
        "queryType": "select",
        "tables": [
          "doi_rnd_subul"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "DW_SITE",
          "CASE",
          "구분",
          "구분_ord",
          "도우코드",
          "MODEL_N_TYPE",
          "도우모델",
          "작업구분",
          "org작업구분",
          "model",
          "Inch",
          "Site",
          "BOH_MONTH",
          "IN_MONTH",
          "BONUS_MONTH",
          "EOH_MONTH",
          "OUT_MONTH",
          "LOSS_MONTH"
        ],
        "sql": "select YYYYMM,SEL_CODE, DW_SITE as DW_SITE_ORG, CASE WHEN DW_SITE='HQ' then '본사' WHEN DW_SITE='VN' then 'VINA' end as DW_SITE, 구분,구분_ord,도우코드,MODEL_N_TYPE,도우모델,작업구분,org작업구분,model,Inch,Site,BOH_MONTH,IN_MONTH,BONUS_MONTH,EOH_MONTH,OUT_MONTH,LOSS_MONTH,NG_MONTH,수율제외_MONTH,REWORK진행_MONTH,SHIPPING_PLAN_MONTH,SHIPPING_ACTUAL_MONTH,material_loss from DOI_RND_SUBUL where 1=1 order BY 도우코드,MODEL_N_TYPE,도우모델,구분_ord;",
        "description": "SELECT 쿼리 (doi_rnd_subul)"
      },
      {
        "mapperId": "C0007003",
        "queryId": "uploadProdSubul",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC UP_DOI_PROD_SUBUL ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "C0007003",
        "queryId": "checkduplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_prod_subul"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( YYYYMM varchar(6) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, DW_SITE varchar(5) COLLATE Korean_Wansung_CI_AS NOT NULL, 구분 varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, 구분_ord varchar(1) COLLATE Korean_Wansung_CI_AS NOT NULL, 도우코드 varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, MODEL_N_TYPE varchar(18) COLLATE Korean_Wansung_CI_AS NOT NULL, 도우모델 varchar(8) COLLATE Korean_Wan",
        "description": "SELECT 쿼리 (doi_prod_subul)"
      },
      {
        "mapperId": "C0007003",
        "queryId": "uploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_prod_subul"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "site",
          "GUBUN",
          "GUBUN_ORD",
          "DW_CODE",
          "MODEL_N_TYPE",
          "DW_MODEL",
          "WORK_GUBUN",
          "ORG_WORK_GUBUN",
          "MODEL",
          "INCH",
          "OUT_SITE",
          "BOH_MONTH",
          "IN_MONTH",
          "BONUS_MONTH",
          "EOH_MONTH",
          "OUT_MONTH",
          "LOSS_MONTH",
          "NG_MONTH"
        ],
        "sql": "CREATE TABLE #TempTable ( YYYYMM varchar(6) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, DW_SITE varchar(5) COLLATE Korean_Wansung_CI_AS NOT NULL, 구분 varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, 구분_ord varchar(1) COLLATE Korean_Wansung_CI_AS NOT NULL, 도우코드 varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, MODEL_N_TYPE varchar(18) COLLATE Korean_Wansung_CI_AS NOT NULL, 도우모델 varchar(8) COLLATE Korean_Wansung_CI_AS NULL, 작업구분 varchar(2) CO",
        "description": "INSERT 쿼리 (doi_prod_subul)"
      },
      {
        "mapperId": "C0007003",
        "queryId": "insertTab1Data",
        "queryType": "insert",
        "tables": [
          "doi_prod_subul"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_PROD_SUBUL ( YYYYMM, SEL_CODE, 구분 AS GUBUN, 구분_ord AS GUBUN_ORD, 도우코드 AS DW_CODE, MODEL_N_TYPE, 도우모델 AS DW_MODEL, 작업구분 AS WORK_GUBUN, org작업구분 AS ORG_WORK_GUBUN, MODEL, INCH, SITE AS OUT_SITE, BOH_MONTH, IN_MONTH, BONUS_MONTH, EOH_MONTH, OUT_MONTH, LOSS_MONTH, NG_MONTH, 수율제외_MONTH AS EXCEPT_MONTH, REWORK진행_MONTH AS REWORK_MONTH, SHIPPING_PLAN_MONTH, SHIPPING_ACTUAL_MONTH, MATERIAL_LOSS ) VALUES ( ? , ? , CASE WHEN ?='본사' Then 'HQ' WHEN ?='베트남' then 'VN' else left(?,2) end , ? , ? ",
        "description": "INSERT 쿼리 (doi_prod_subul)"
      },
      {
        "mapperId": "C0007003",
        "queryId": "updateTab1Data",
        "queryType": "update",
        "tables": [
          "doi_prod_subul"
        ],
        "columns": [],
        "sql": "UPDATE DOI_PROD_SUBUL SET SEL_CODE = ? ,구분 = ? ,구분_ord = ? ,도우코드 = ? ,MODEL_N_TYPE = ? ,도우모델 = ? ,작업구분 = ? ,org작업구분 = ? ,INCH = ? ,OUT_SITE = ? ,BOH_MONTH = ? ,IN_MONTH = ? ,BONUS_MONTH = ? ,EOH_MONTH = ? ,OUT_MONTH = ? ,LOSS_MONTH = ? ,NG_MONTH = ? ,수율제외_MONTH = ? ,REWORK진행_MONTH = ? ,SHIPPING_PLAN_MONTH = ? ,SHIPPING_ACTUAL_MONTH = ? ,MATERIAL_LOSS = ? WHERE 1=1 and yyyymm = ? and site = ? and model = ? ;",
        "description": "UPDATE 쿼리 (doi_prod_subul)"
      },
      {
        "mapperId": "C0007003",
        "queryId": "deleteTab1Data",
        "queryType": "delete",
        "tables": [
          "doi_prod_subul"
        ],
        "columns": [],
        "sql": "DELETE FROM DOI_PROD_SUBUL WHERE 1=1 and yyyymm = ? and sel_code = ? and site = ? and dw_model = ?",
        "description": "DELETE 쿼리 (doi_prod_subul)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007004",
      "screenName": "제품정보",
      "menuPath": "* 타시스템 > 제품정보",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007004.vue"
    },
    "queries": [
      {
        "mapperId": "C0007004",
        "queryId": "C0007004_Sch1",
        "queryType": "select",
        "tables": [
          "doi_stock"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "CASE",
          "MODEL",
          "MODEL_TYPE",
          "STOCK",
          "BOH",
          "[INPUT]",
          "[OUT]",
          "EOH",
          "INPUT_ETC",
          "INPUT_MOVING",
          "INPUT_PROD",
          "OUT_SHEET",
          "OUT_RETURN",
          "OUT_INVOICE",
          "OUT_ETC",
          "OUT_MOVING"
        ],
        "sql": "select YYYYMM, SEL_CODE, SITE as SITE_ORG, CASE WHEN SITE='HQ' then '본사' WHEN SITE='VN' then 'VINA' end as SITE, MODEL, MODEL_TYPE, STOCK, BOH, [INPUT], [OUT], EOH, INPUT_ETC, INPUT_MOVING, INPUT_PROD, OUT_SHEET, OUT_RETURN, OUT_INVOICE, OUT_ETC, OUT_MOVING from DOI_STOCK where 1=1 order BY MODEL, MODEL_TYPE;",
        "description": "SELECT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0007004",
        "queryId": "checkduplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_stock"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( YYYYMM varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, MODEL nvarchar(50) COLLATE Korean_Wansung_CI_AS NOT NULL, MODEL_TYPE nvarchar(50) COLLATE Korean_Wansung_CI_AS NOT NULL, STOCK nvarchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, BOH int NULL, [INPUT] int NULL, [OUT] int NULL, EOH int NULL, INPUT_ETC int NULL, INPUT",
        "description": "SELECT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0007004",
        "queryId": "uploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_stock"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "MODEL",
          "MODEL_TYPE",
          "STOCK",
          "BOH",
          "[INPUT]",
          "[OUT]",
          "EOH",
          "INPUT_ETC",
          "INPUT_MOVING",
          "INPUT_PROD",
          "OUT_SHEET",
          "OUT_RETURN",
          "OUT_INVOICE",
          "OUT_ETC",
          "OUT_MOVING"
        ],
        "sql": "CREATE TABLE #TempTable ( seq_no INT IDENTITY (1, 1) NOT NULL, YYYYMM varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, MODEL nvarchar(50) COLLATE Korean_Wansung_CI_AS NOT NULL, MODEL_TYPE nvarchar(50) COLLATE Korean_Wansung_CI_AS NOT NULL, STOCK nvarchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, BOH int NULL, [INPUT] int NULL, [OUT] int NULL, EOH int NULL, INPUT_ETC int NULL, INP",
        "description": "INSERT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0007004",
        "queryId": "C0007004_Insert1",
        "queryType": "insert",
        "tables": [
          "doi_stock"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_STOCK ( YYYYMM,SEL_CODE,SITE,MODEL,MODEL_TYPE,STOCK,BOH,[INPUT],[OUT],EOH,INPUT_ETC,INPUT_MOVING,INPUT_PROD,OUT_SHEET,OUT_RETURN,OUT_INVOICE,OUT_ETC,OUT_MOVING ) VALUES ( ? , ? , CASE WHEN ?='본사' Then 'HQ' WHEN ?='VINA' then 'VN' else left(?,2) end , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? );",
        "description": "INSERT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0007004",
        "queryId": "C0007004_Update1",
        "queryType": "update",
        "tables": [
          "doi_stock"
        ],
        "columns": [],
        "sql": "UPDATE DOI_STOCK SET BOH = ? ,[INPUT] = ? ,[OUT] = ? ,EOH = ? ,INPUT_ETC = ? ,INPUT_MOVING = ? ,INPUT_PROD = ? ,OUT_SHEET = ? ,OUT_RETURN = ? ,OUT_INVOICE = ? ,OUT_ETC = ? ,OUT_MOVING = ? WHERE 1=1 and yyyymm = ? and sel_code = ? and site = ? and model = ? and MODEL_TYPE = ? and STOCK = ? ;",
        "description": "UPDATE 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0007004",
        "queryId": "C0007004_Delete1",
        "queryType": "delete",
        "tables": [
          "doi_stock"
        ],
        "columns": [],
        "sql": "DELETE FROM DOI_STOCK WHERE 1=1 and yyyymm = ? and sel_code = ? and site = ? and model = ? and MODEL_TYPE = ? and STOCK = ?",
        "description": "DELETE 쿼리 (doi_stock)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007005",
      "screenName": "Tab 0 세금계산서",
      "menuPath": "Tab 0 세금계산서",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007005.vue",
      "tabs": [
        "TAB070003",
        "TAB070004"
      ],
      "description": "세금계산서, 수출신고필증"
    },
    "queries": [
      {
        "mapperId": "C0007005",
        "queryId": "C0007005_Sch1",
        "queryType": "select",
        "tables": [
          "doi_sale_resc"
        ],
        "columns": [],
        "sql": "select * FROM doi_sale_resc where 1=1 order by 1,2,3,4,5,6,7,8,9;",
        "description": "SELECT 쿼리 (doi_sale_resc)"
      },
      {
        "mapperId": "C0007005",
        "queryId": "C0007005_Sch2",
        "queryType": "select",
        "tables": [
          "doi_invoice_resc"
        ],
        "columns": [],
        "sql": "select * FROM DOI_INVOICE_RESC where 1=1 order by 1,2,3,4,5,6,7,8,9;",
        "description": "SELECT 쿼리 (doi_invoice_resc)"
      },
      {
        "mapperId": "C0007005",
        "queryId": "checkduplicateOrgList",
        "queryType": "select",
        "tables": [
          "doi_sale_resc"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( YYYYMM varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, 선택 varchar(1) COLLATE Korean_Wansung_CI_AS NULL, 출고처리 varchar(1) COLLATE Korean_Wansung_CI_AS NULL, 사업단위 nvarchar(5) COLLATE Korean_Wansung_CI_AS NULL, 거래명세서번호 varchar(12) COLLATE Korean_Wansung_CI_AS NOT NULL, 거래명세서일 varchar(10) COLLATE Korean_Wansung_CI_AS NULL, L",
        "description": "SELECT 쿼리 (doi_sale_resc)"
      },
      {
        "mapperId": "C0007005",
        "queryId": "uploadExcel",
        "queryType": "insert",
        "tables": [
          "doi_sale_resc"
        ],
        "columns": [
          "YYYYMM",
          "SEL_CODE",
          "SITE",
          "선택",
          "출고처리",
          "사업단위",
          "거래명세서번호",
          "거래명세서일",
          "Local구분",
          "출고구분",
          "부서",
          "담당자",
          "청구처",
          "거래처",
          "유통구조",
          "거래처번호",
          "중개인",
          "납품장소",
          "인도조건",
          "판매후보관"
        ],
        "sql": "CREATE TABLE #TempTable ( seq_no INT IDENTITY (1, 1) NOT NULL, YYYYMM varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SEL_CODE varchar(10) COLLATE Korean_Wansung_CI_AS NOT NULL, SITE varchar(4) COLLATE Korean_Wansung_CI_AS NOT NULL, 선택 varchar(1) COLLATE Korean_Wansung_CI_AS NULL, 출고처리 varchar(1) COLLATE Korean_Wansung_CI_AS NULL, 사업단위 nvarchar(5) COLLATE Korean_Wansung_CI_AS NULL, 거래명세서번호 varchar(12) COLLATE Korean_Wansung_CI_AS NOT NULL, 거래명세서일 varchar(10) COLLATE Korean_Wansung_CI_AS NULL,",
        "description": "INSERT 쿼리 (doi_sale_resc)"
      },
      {
        "mapperId": "C0007005",
        "queryId": "C0007005_Insert1",
        "queryType": "insert",
        "tables": [
          "doi_sale_resc"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_sale_resc ( YYYYMM,SEL_CODE,SITE,선택,출고처리,사업단위,거래명세서번호,거래명세서일,Local구분,출고구분 ,부서,담당자,청구처,거래처,유통구조,거래처번호,중개인,납품장소,인도조건,판매후보관 ,위탁,납품거래처,납기일,품명,품번,규격,판매단위,판매기준가,수량,부가세포함 ,통화,환율,판매단가,판매금액,부가세액,판매금액계,원화판매금액,원화부가세액,원화판매금액계,창고 ,보관위치,Lot_No,세금계산서_진행상태,배송상태,품목특이사항,매출시점,진행조회,원천조회,원천관리번호,원천번호 ,PO_No,반품,매출수량,매출금액계,미매출금액,세금계산서금액계,계산서미발행액,계산서미발행수량,기타출고구분,품목자산분류 ,단가소급여부,[수량(단가소급)],유상사급여부 ) VALUES ( ? ,? ,? ,#{선택} ,#{출고처리} ,#{사업단위} ,#{거래명세서번호} ,#{거래명세서일} ,#{local구분} ,#{출고구분} ,#{부서} ,#{담당자} ,#{청구처} ",
        "description": "INSERT 쿼리 (doi_sale_resc)"
      },
      {
        "mapperId": "C0007005",
        "queryId": "C0007005_Update1",
        "queryType": "update",
        "tables": [
          "doi_sale_resc"
        ],
        "columns": [],
        "sql": "UPDATE doi_sale_resc SET 선택=#{선택} ,출고처리=#{출고처리} ,사업단위=#{사업단위} ,거래명세서일=#{거래명세서일} ,Local구분=#{local구분} ,출고구분 =#{출고구분} ,부서=#{부서} ,담당자=#{담당자} ,청구처=#{청구처} ,거래처=#{거래처} ,유통구조=#{유통구조} ,거래처번호=#{거래처번호} ,중개인=#{중개인} ,납품장소=#{납품장소} ,인도조건=#{인도조건} ,판매후보관 =#{판매후보관} ,위탁=#{위탁} ,납품거래처=#{납품거래처} ,납기일=#{납기일} ,품명=#{품명} ,품번=#{품번} ,규격=#{규격} ,판매단위=#{판매단위} ,판매기준가=#{판매기준가} ,수량=#{수량} ,부가세포함 =#{부가세포함} ,통화=#{통화} ,환율=#{환율} ,판매단가=#{판매단가} ,판매금액=#{판매금액} ,부가세액=#{부가세액} ,판매금액계=#{판매금액계} ,원화판매금액=#{원화판매금액} ,원화부가세액=#{원화부가세액} ,원화판매금액계=#{원화",
        "description": "UPDATE 쿼리 (doi_sale_resc)"
      },
      {
        "mapperId": "C0007005",
        "queryId": "C0007005_Delete1",
        "queryType": "delete",
        "tables": [
          "doi_sale_resc"
        ],
        "columns": [],
        "sql": "DELETE FROM doi_sale_resc WHERE 1=1 AND YYYYMM = ? AND SEL_CODE= ? AND SITE= ? and 거래명세서번호 = #{거래명세서번호}",
        "description": "DELETE 쿼리 (doi_sale_resc)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007006",
      "screenName": "생산수불 자체 체크",
      "menuPath": "타시스템 > 생산수불 자체 체크",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007006.vue"
    },
    "queries": [
      {
        "mapperId": "C0007006",
        "queryId": "selectBalanceCheck",
        "queryType": "select",
        "tables": [
          "doi_prod_subul"
        ],
        "columns": [
          "--",
          "SEL_CODE",
          "DW_SITE",
          "구분",
          "구분_ORD",
          "도우코드",
          "MODEL_N_TYPE",
          "[도우모델]",
          "작업구분",
          "ORG작업구분",
          "[model]",
          "[Inch]",
          "SITE",
          "0)",
          "0))",
          "0)))",
          "LOSS"
        ],
        "sql": "SELECT -- 테이블 전체 컬럼 YYYYMM, SEL_CODE, DW_SITE, 구분, 구분_ORD, 도우코드, MODEL_N_TYPE, [도우모델], 작업구분, ORG작업구분, [model], [Inch], SITE, -- 수량 컬럼 ISNULL(BOH_MONTH, 0) AS BOH_MONTH, ISNULL(IN_MONTH, 0) AS IN_MONTH, ISNULL(BONUS_MONTH, 0) AS BONUS_MONTH, ISNULL(EOH_MONTH, 0) AS EOH_MONTH, ISNULL(OUT_MONTH, 0) AS OUT_MONTH, ISNULL(LOSS_MONTH, 0) AS LOSS_MONTH, ISNULL(NG_MONTH, 0) AS NG_MONTH, ISNULL(수율제외_MONTH, 0) AS 수율제외_MONTH, ISNULL(REWORK진행_MONTH, 0) AS REWORK진행_MONTH, ISNULL(SHIPPING_PLAN_MONTH, 0) AS SHI",
        "description": "SELECT 쿼리 (doi_prod_subul)"
      },
      {
        "mapperId": "C0007006",
        "queryId": "selectContinuityCheck",
        "queryType": "select",
        "tables": [
          "doi_prod_subul",
          "uniondata"
        ],
        "columns": [
          "1",
          "'yyyyMM')",
          "SEL_CODE",
          "DW_SITE",
          "구분",
          "구분_ORD",
          "도우코드",
          "MODEL_N_TYPE",
          "[도우모델]",
          "작업구분",
          "ORG작업구분",
          "[model]",
          "[Inch]",
          "SITE",
          "0",
          "0)"
        ],
        "sql": "WITH UnionData AS ( -- 전월 기말 (EOH) SELECT FORMAT(DATEADD(MONTH, 1, CAST(YYYYMM + '01' AS DATE)), 'yyyyMM') AS YYYYMM, SEL_CODE, DW_SITE, 구분, 구분_ORD, 도우코드, MODEL_N_TYPE, [도우모델], 작업구분, ORG작업구분, [model], [Inch], SITE, 0 AS BOH_MONTH, ISNULL(EOH_MONTH, 0) AS EOH_MONTH FROM DOI_PROD_SUBUL WHERE FORMAT(DATEADD(MONTH, 1, CAST(YYYYMM + '01' AS DATE)), 'yyyyMM') = UNION ALL -- 당월 기초 (BOH) SELECT YYYYMM, SEL_CODE, DW_SITE, 구분, 구분_ORD, 도우코드, MODEL_N_TYPE, [도우모델], 작업구분, ORG작업구분, [model], [Inch], SITE, ISNUL",
        "description": "SELECT 쿼리 (doi_prod_subul, uniondata)"
      },
      {
        "mapperId": "C0007006",
        "queryId": "selectSummary",
        "queryType": "select",
        "tables": [
          "doi_prod_subul"
        ],
        "columns": [
          "0)",
          "0))",
          "0)))",
          "0"
        ],
        "sql": "SELECT COUNT(*) AS TOTAL_COUNT, SUM(CASE WHEN ABS((ISNULL(BOH_MONTH, 0) + ISNULL(IN_MONTH, 0) + ISNULL(BONUS_MONTH, 0)) - (ISNULL(EOH_MONTH, 0) + ISNULL(OUT_MONTH, 0) + ISNULL(LOSS_MONTH, 0))) &lt;= 0.01 AND ABS(ISNULL(LOSS_MONTH, 0) - (ISNULL(NG_MONTH, 0) + ISNULL(수율제외_MONTH, 0) + ISNULL(REWORK진행_MONTH, 0))) &lt;= 0.01 THEN 1 ELSE 0 END) AS NORMAL_COUNT, SUM(CASE WHEN ABS((ISNULL(BOH_MONTH, 0) + ISNULL(IN_MONTH, 0) + ISNULL(BONUS_MONTH, 0)) - (ISNULL(EOH_MONTH, 0) + ISNULL(OUT_MONTH, 0) + ISNUL",
        "description": "SELECT 쿼리 (doi_prod_subul)"
      },
      {
        "mapperId": "C0007006",
        "queryId": "selectSummary2",
        "queryType": "select",
        "tables": [
          "doi_prod_subul",
          "uniondata",
          "continuitydata"
        ],
        "columns": [
          "1",
          "'yyyyMM')",
          "DW_SITE",
          "구분",
          "[도우모델]",
          "0",
          "0)"
        ],
        "sql": "WITH UnionData AS ( -- 전월 기말 (EOH) SELECT FORMAT(DATEADD(MONTH, 1, CAST(YYYYMM + '01' AS DATE)), 'yyyyMM') AS YYYYMM, DW_SITE, 구분, [도우모델], 0 AS BOH_MONTH, ISNULL(EOH_MONTH, 0) AS EOH_MONTH FROM DOI_PROD_SUBUL WHERE FORMAT(DATEADD(MONTH, 1, CAST(YYYYMM + '01' AS DATE)), 'yyyyMM') = UNION ALL -- 당월 기초 (BOH) SELECT YYYYMM, DW_SITE, 구분, [도우모델], ISNULL(BOH_MONTH, 0) AS BOH_MONTH, 0 AS EOH_MONTH FROM DOI_PROD_SUBUL WHERE 1=1 ), ContinuityData AS ( SELECT YYYYMM, SUM(BOH_MONTH) AS BOH_MONTH, SUM(EOH_MO",
        "description": "SELECT 쿼리 (doi_prod_subul, uniondata, continuitydata)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007007",
      "screenName": "입고수불 자체 체크",
      "menuPath": "타시스템 > 입고수불 자체 체크",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007007.vue"
    },
    "queries": [
      {
        "mapperId": "C0007007",
        "queryId": "selectBalanceCheck",
        "queryType": "select",
        "tables": [
          "doi_stock"
        ],
        "columns": [
          "--",
          "SEL_CODE",
          "SITE",
          "MODEL",
          "MODEL_TYPE",
          "STOCK",
          "0)",
          "0))",
          "0)))"
        ],
        "sql": "SELECT -- 테이블 전체 컬럼 YYYYMM, SEL_CODE, SITE, MODEL, MODEL_TYPE, STOCK, -- 수량 컬럼 ISNULL(BOH, 0) AS BOH, ISNULL([INPUT], 0) AS INPUT_QTY, ISNULL([OUT], 0) AS OUT_QTY, ISNULL(EOH, 0) AS EOH, ISNULL(INPUT_ETC, 0) AS INPUT_ETC, ISNULL(INPUT_MOVING, 0) AS INPUT_MOVING, ISNULL(INPUT_PROD, 0) AS INPUT_PROD, ISNULL(OUT_SHEET, 0) AS OUT_SHEET, ISNULL(OUT_RETURN, 0) AS OUT_RETURN, ISNULL(OUT_INVOICE, 0) AS OUT_INVOICE, ISNULL(OUT_ETC, 0) AS OUT_ETC, ISNULL(OUT_MOVING, 0) AS OUT_MOVING, -- IN-OUT 체크: BOH + I",
        "description": "SELECT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0007007",
        "queryId": "selectContinuityCheck",
        "queryType": "select",
        "tables": [
          "doi_stock",
          "uniondata"
        ],
        "columns": [
          "1",
          "'yyyyMM')",
          "SEL_CODE",
          "SITE",
          "MODEL",
          "MODEL_TYPE",
          "STOCK",
          "0",
          "0)"
        ],
        "sql": "WITH UnionData AS ( -- 전월 기말 (EOH) SELECT FORMAT(DATEADD(MONTH, 1, CAST(YYYYMM + '01' AS DATE)), 'yyyyMM') AS YYYYMM, SEL_CODE, SITE, MODEL, MODEL_TYPE, STOCK, 0 AS BOH, ISNULL(EOH, 0) AS EOH FROM DOI_STOCK WHERE FORMAT(DATEADD(MONTH, 1, CAST(YYYYMM + '01' AS DATE)), 'yyyyMM') = UNION ALL -- 당월 기초 (BOH) SELECT YYYYMM, SEL_CODE, SITE, MODEL, MODEL_TYPE, STOCK, ISNULL(BOH, 0) AS BOH, 0 AS EOH FROM DOI_STOCK WHERE 1=1 ) SELECT YYYYMM, SEL_CODE, SITE, MODEL, MODEL_TYPE, STOCK, SUM(BOH) AS BOH, SUM(E",
        "description": "SELECT 쿼리 (doi_stock, uniondata)"
      },
      {
        "mapperId": "C0007007",
        "queryId": "selectSummary",
        "queryType": "select",
        "tables": [
          "doi_stock"
        ],
        "columns": [
          "0)",
          "0))",
          "0)))",
          "0"
        ],
        "sql": "SELECT COUNT(*) AS TOTAL_COUNT, SUM(CASE WHEN ABS((ISNULL(BOH, 0) + ISNULL([INPUT], 0)) - (ISNULL([OUT], 0) + ISNULL(EOH, 0))) &lt;= 0.01 THEN 1 ELSE 0 END) AS NORMAL_COUNT, SUM(CASE WHEN ABS((ISNULL(BOH, 0) + ISNULL([INPUT], 0)) - (ISNULL([OUT], 0) + ISNULL(EOH, 0))) &gt; 0.01 THEN 1 ELSE 0 END) AS ERROR_COUNT, 0 AS WARNING_COUNT FROM DOI_STOCK WHERE 1=1",
        "description": "SELECT 쿼리 (doi_stock)"
      },
      {
        "mapperId": "C0007007",
        "queryId": "selectSummary2",
        "queryType": "select",
        "tables": [
          "doi_stock",
          "uniondata",
          "continuitydata"
        ],
        "columns": [
          "1",
          "'yyyyMM')",
          "SITE",
          "MODEL",
          "MODEL_TYPE",
          "STOCK",
          "0",
          "0)"
        ],
        "sql": "WITH UnionData AS ( -- 전월 기말 (EOH) SELECT FORMAT(DATEADD(MONTH, 1, CAST(YYYYMM + '01' AS DATE)), 'yyyyMM') AS YYYYMM, SITE, MODEL, MODEL_TYPE, STOCK, 0 AS BOH, ISNULL(EOH, 0) AS EOH FROM DOI_STOCK WHERE FORMAT(DATEADD(MONTH, 1, CAST(YYYYMM + '01' AS DATE)), 'yyyyMM') = UNION ALL -- 당월 기초 (BOH) SELECT YYYYMM, SITE, MODEL, MODEL_TYPE, STOCK, ISNULL(BOH, 0) AS BOH, 0 AS EOH FROM DOI_STOCK WHERE 1=1 ), ContinuityData AS ( SELECT YYYYMM, SUM(BOH) AS BOH, SUM(EOH) AS PREV_EOH, CASE WHEN SUM(EOH) = 0 T",
        "description": "SELECT 쿼리 (doi_stock, uniondata, continuitydata)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007008",
      "screenName": "생산/입고/판매 체크",
      "menuPath": "타시스템 > 생산/입고/판매 체크",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007008.vue"
    },
    "queries": [
      {
        "mapperId": "C0007008",
        "queryId": "selectProdToStock",
        "queryType": "select",
        "tables": [
          "doi_prod_subul",
          "doi_stock"
        ],
        "columns": [
          "S.YYYYMM)",
          "S.SEL_CODE)",
          "S.SITE)",
          "S.MODEL)",
          "S.MODEL_TYPE)",
          "0)",
          "CASE"
        ],
        "sql": "SELECT COALESCE(P.YYYYMM, S.YYYYMM) AS YYYYMM, COALESCE(P.SEL_CODE, S.SEL_CODE) AS SEL_CODE, COALESCE(P.SITE, S.SITE) AS SITE, COALESCE(P.MODEL, S.MODEL) AS MODEL, COALESCE(P.MODEL_TYPE, S.MODEL_TYPE) AS MODEL_TYPE, ISNULL(P.OUT_QTY, 0) AS PROD_OUT, ISNULL(S.INPUT_PROD, 0) AS STOCK_INPUT, ISNULL(P.OUT_QTY, 0) - ISNULL(S.INPUT_PROD, 0) AS DIFF_QTY, CASE WHEN ISNULL(P.OUT_QTY, 0) - ISNULL(S.INPUT_PROD, 0) = 0 THEN '일치' WHEN P.OUT_QTY IS NULL THEN '생산 데이터 없음' WHEN S.INPUT_PROD IS NULL THEN '입고 데이터 ",
        "description": "SELECT 쿼리 (doi_prod_subul, doi_stock)"
      },
      {
        "mapperId": "C0007008",
        "queryId": "selectStockToSale",
        "queryType": "select",
        "tables": [
          "doi_stock",
          "doi_sale_resc"
        ],
        "columns": [
          "SL.YYYYMM)",
          "SL.SEL_CODE)",
          "SL.SITE)",
          "SL.품번)",
          "S.MODEL_TYPE",
          "0)",
          "CASE"
        ],
        "sql": "SELECT COALESCE(S.YYYYMM, SL.YYYYMM) AS YYYYMM, COALESCE(S.SEL_CODE, SL.SEL_CODE) AS SEL_CODE, COALESCE(S.SITE, SL.SITE) AS SITE, COALESCE(S.MODEL, SL.품번) AS MODEL, S.MODEL_TYPE, ISNULL(S.OUT_INVOICE, 0) AS STOCK_OUT, ISNULL(SL.판매수량, 0) AS SALE_QTY, ISNULL(S.OUT_INVOICE, 0) - ISNULL(SL.판매수량, 0) AS DIFF_QTY, CASE WHEN ISNULL(S.OUT_INVOICE, 0) - ISNULL(SL.판매수량, 0) = 0 THEN '일치' WHEN S.OUT_INVOICE IS NULL THEN '입고 데이터 없음' WHEN SL.판매수량 IS NULL THEN '판매 데이터 없음' ELSE '불일치' END AS STATUS, CASE WHEN ISN",
        "description": "SELECT 쿼리 (doi_stock, doi_sale_resc)"
      },
      {
        "mapperId": "C0007008",
        "queryId": "selectSummary1",
        "queryType": "select",
        "tables": [
          "doi_prod_subul",
          "doi_stock",
          "data_check"
        ],
        "columns": [
          "CASE",
          "0)"
        ],
        "sql": "WITH DATA_CHECK AS ( SELECT CASE WHEN ISNULL(P.OUT_QTY, 0) - ISNULL(S.INPUT_PROD, 0) = 0 THEN '일치' WHEN P.OUT_QTY IS NULL THEN '생산 데이터 없음' WHEN S.INPUT_PROD IS NULL THEN '입고 데이터 없음' ELSE '불일치' END AS STATUS FROM ( SELECT YYYYMM, SEL_CODE, SITE, 도우모델 AS MODEL, 도우코드 AS MODEL_TYPE, SUM(OUT_MONTH) AS OUT_QTY FROM DOI_PROD_SUBUL WHERE GROUP BY YYYYMM, SEL_CODE, SITE, 도우모델, 도우코드 ) P FULL OUTER JOIN ( SELECT YYYYMM, SEL_CODE, SITE, MODEL, MODEL_TYPE, SUM([INPUT]) AS INPUT_PROD FROM DOI_STOCK WHERE GROU",
        "description": "SELECT 쿼리 (doi_prod_subul, doi_stock, data_check)"
      },
      {
        "mapperId": "C0007008",
        "queryId": "selectSummary2",
        "queryType": "select",
        "tables": [
          "doi_stock",
          "doi_sale_resc",
          "data_check"
        ],
        "columns": [
          "CASE",
          "0)"
        ],
        "sql": "WITH DATA_CHECK AS ( SELECT CASE WHEN ISNULL(S.OUT_INVOICE, 0) - ISNULL(SL.판매수량, 0) = 0 THEN '일치' WHEN S.OUT_INVOICE IS NULL THEN '입고 데이터 없음' WHEN SL.판매수량 IS NULL THEN '판매 데이터 없음' ELSE '불일치' END AS STATUS FROM ( SELECT YYYYMM, SEL_CODE, SITE, MODEL, MODEL_TYPE, SUM([OUT]) AS OUT_INVOICE FROM DOI_STOCK WHERE GROUP BY YYYYMM, SEL_CODE, SITE, MODEL, MODEL_TYPE ) S FULL OUTER JOIN ( SELECT YYYYMM, SEL_CODE, SITE, 품번, SUM(수량) AS 판매수량 FROM DOI_SALE_RESC WHERE GROUP BY YYYYMM, SEL_CODE, SITE, 품번 ) SL O",
        "description": "SELECT 쿼리 (doi_stock, doi_sale_resc, data_check)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "C0007009",
      "screenName": "불량반품",
      "menuPath": "타시스템 > 불량반품",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/c0007000/C0007009.vue"
    },
    "queries": [
      {
        "mapperId": "C0007009",
        "queryId": "selectRmaData",
        "queryType": "select",
        "tables": [
          "doi_rma_inout"
        ],
        "columns": [
          "SEL_CODE",
          "SITE",
          "모델명",
          "YYYYMM",
          "CASE",
          "RMA_IN",
          "RMA_OUT",
          "생성자",
          "생성시각"
        ],
        "sql": "SELECT ROW_NUMBER() OVER ( PARTITION BY YYYYMM, SEL_CODE, SITE, 모델명 ORDER BY 생성시각 ) AS ROW_SEQ, YYYYMM, SEL_CODE, SITE AS SITE_ORG, CASE WHEN SITE = 'HQ' THEN '본사' WHEN SITE = 'VN' THEN 'VINA' END AS SITE, 모델명, RMA_IN, RMA_OUT, 생성자, 생성시각 FROM DOI_RMA_INOUT WHERE 1=1 ORDER BY 모델명",
        "description": "SELECT 쿼리 (doi_rma_inout)"
      },
      {
        "mapperId": "C0007009",
        "queryId": "selectModelPopup",
        "queryType": "select",
        "tables": [
          "doi_model_mast"
        ],
        "columns": [
          "MODEL",
          "SPEC",
          "INCH"
        ],
        "sql": "SELECT MODEL, SPEC, INCH FROM DOI_MODEL_MAST WHERE 1=1 AND YYYYMM = '202507' ORDER BY MODEL",
        "description": "SELECT 쿼리 (doi_model_mast)"
      },
      {
        "mapperId": "C0007009",
        "queryId": "insertRmaData",
        "queryType": "insert",
        "tables": [
          "doi_rma_inout"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_RMA_INOUT ( YYYYMM, SEL_CODE, SITE, 모델명, RMA_IN, RMA_OUT, 생성자, 생성시각 ) VALUES ( ?, ?, CASE WHEN ? = '본사' THEN 'HQ' WHEN ? = '베트남' THEN 'VN' ELSE LEFT(?, 2) END, #{모델명}, ?, ?, #{생성자}, SYSDATETIME() )",
        "description": "INSERT 쿼리 (doi_rma_inout)"
      },
      {
        "mapperId": "C0007009",
        "queryId": "updateRmaData",
        "queryType": "update",
        "tables": [
          "doi_rma_inout",
          "t"
        ],
        "columns": [
          "SEL_CODE",
          "SITE",
          "모델명"
        ],
        "sql": ";WITH T AS ( SELECT ROW_NUMBER() OVER ( PARTITION BY YYYYMM, SEL_CODE, SITE, 모델명 ORDER BY 생성시각 ) AS ROW_SEQ, * FROM DOI_RMA_INOUT WHERE YYYYMM = ? AND SEL_CODE = ? AND SITE = ? AND 모델명 = #{모델명} ) UPDATE T SET RMA_IN = ?, RMA_OUT = ?, 생성자 = #{생성자}, 생성시각 = SYSDATETIME() WHERE ROW_SEQ = ?",
        "description": "UPDATE 쿼리 (doi_rma_inout, t)"
      },
      {
        "mapperId": "C0007009",
        "queryId": "deleteRmaData",
        "queryType": "delete",
        "tables": [
          "doi_rma_inout",
          "t"
        ],
        "columns": [
          "SEL_CODE",
          "SITE",
          "모델명"
        ],
        "sql": ";WITH T AS ( SELECT ROW_NUMBER() OVER ( PARTITION BY YYYYMM, SEL_CODE, SITE, 모델명 ORDER BY 생성시각 ) AS ROW_SEQ, * FROM DOI_RMA_INOUT WHERE YYYYMM = ? AND SEL_CODE = ? AND SITE = ? AND 모델명 = #{모델명} ) DELETE FROM T WHERE ROW_SEQ = ?",
        "description": "DELETE 쿼리 (doi_rma_inout, t)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001001",
      "screenName": "Tab 0 공정입고",
      "menuPath": "Tab 0 공정입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001001.vue",
      "tabs": [
        "TAB001101",
        "TAB001201",
        "TAB001301",
        "TAB001401",
        "TAB001501"
      ],
      "description": "공정입고, 공정출고, 재고실사, 재고현황, 원장정보"
    },
    "queries": [
      {
        "mapperId": "M0001001",
        "queryId": "dupGlassId",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [],
        "sql": "SELECT count(1) FROM dw_raw_mat_proc_in WHERE glass_id = ? and in_date = ?",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "getGlassInfo",
        "queryType": "select",
        "tables": [
          "dw_glass_mast"
        ],
        "columns": [
          "glass_material",
          "glass_size",
          "glass_thickness"
        ],
        "sql": "SELECT glass_material , glass_size , glass_thickness FROM dw_glass_mast WHERE glass_code = ?",
        "description": "SELECT 쿼리 (dw_glass_mast)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "getCutDateInfo",
        "queryType": "select",
        "tables": [
          "dw_date_code"
        ],
        "columns": [
          "'20'"
        ],
        "sql": "SELECT '20' + (SELECT chg_date FROM dw_date_code WHERE date_code = ?) + (SELECT chg_date FROM dw_date_code WHERE date_code = ?) + (SELECT chg_date FROM dw_date_code WHERE date_code = ?) AS cut_date",
        "description": "SELECT 쿼리 (dw_date_code)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "getUnitInfo",
        "queryType": "select",
        "tables": [
          "dw_mat_category"
        ],
        "columns": [
          "unit"
        ],
        "sql": "SELECT unit FROM dw_mat_category WHERE mat_category_code = '10'",
        "description": "SELECT 쿼리 (dw_mat_category)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "getRawMatInList",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_in",
          "dw_mat_close_info",
          "dw_raw_mat_proc_out"
        ],
        "columns": [
          "a.glass_id",
          "a.in_date",
          "a.in_time",
          "a.use_category",
          "a.box_num",
          "a.in_qty",
          "a.use_qty",
          "a.remain_qty",
          "a.unit",
          "a.use_yn",
          "a.worker_id",
          "a.worker_name",
          "a.glass_material",
          "a.glass_thickness",
          "a.glass_size",
          "a.cut_type",
          "a.cut_date",
          "a.comments",
          "a.create_date",
          "a.create_user"
        ],
        "sql": "SELECT a.glass_id , a.in_date , a.in_time , a.use_category , a.box_num , a.in_qty , a.in_qty as org_in_qty , a.use_qty , a.remain_qty , a.unit , a.use_yn , a.worker_id , a.worker_name , a.glass_material , a.glass_thickness , a.glass_size , a.cut_type , a.cut_date , a.comments , a.create_date , a.create_user , b.status , c.out_comments , case when isnull(b.close_yn,'N') = 'N' then 'Y' else 'N' end as editable FROM dw_raw_mat_proc_in a left outer join ( select * from dw_mat_close_info where mat_ca",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_in, dw_mat_close_info, dw_raw_mat_proc_out)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "checkDupGlassId",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [
          "glass_id",
          "in_date"
        ],
        "sql": "SELECT glass_id, in_date FROM dw_raw_mat_proc_in WHERE glass_id+in_date IN <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ?+ ? </foreach>",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(glass_id, '/'), 'NoData') AS glassId from dw_raw_mat_proc_in a where upper(a.glass_id)+in_date in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) + ? </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "getRawMatInInfo",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_in",
          "dw_common_code"
        ],
        "columns": [
          "top",
          "a.in_date",
          "A.use_category",
          "B.code_name",
          "A.glass_thickness",
          "A.glass_material",
          "A.unit",
          "a.remain_qty",
          "a.use_yn",
          "a.comments"
        ],
        "sql": "SELECT top 1 A.glass_id , a.in_date , A.use_category , B.code_name AS use_category_nm , A.glass_thickness , A.glass_material , A.unit ,a.remain_qty as stock_qty ,a.use_yn ,a.comments as in_comments FROM dw_raw_mat_proc_in A LEFT OUTER JOIN dw_common_code B ON B.maj_code = '74' AND B.code = A.use_category WHERE glass_id = ? order by a.remain_qty desc",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_in, dw_common_code)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "getRawMatOutList",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_out",
          "dw_raw_mat_proc_in",
          "dw_common_code",
          "dw_mat_close_info"
        ],
        "columns": [
          "A.out_no",
          "A.work_date",
          "A.shift_code",
          "A.out_seq",
          "A.out_date",
          "A.out_time",
          "A.glass_id",
          "A.in_date",
          "A.batch_no",
          "A.worker_name",
          "A.line",
          "A.step_code",
          "A.step_nm",
          "A.equip_no",
          "A.equip_nm",
          "A.unit",
          "0)",
          "A.good_qty",
          "A.error_rate",
          "A.error_qty"
        ],
        "sql": "SELECT A.out_no , A.work_date , A.shift_code , A.out_seq , A.out_date , A.out_time , A.glass_id , A.in_date , A.batch_no , A.worker_name , A.line , A.step_code , A.step_nm , A.equip_no , A.equip_nm , A.unit , isnull(I.remain_qty,0) remain_qty , isnull(I.remain_qty,0) + isnull(a.out_qty,0) as stock_qty , isnull(A.out_qty,0) out_qty , isnull(A.out_qty,0) AS org_out_qty , A.good_qty , A.error_rate , A.error_qty , A.error_ngport_qty , A.error_wash_qty , A.error_tkout_qty , A.error_etc_qty , A.commen",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_out, dw_raw_mat_proc_in, dw_common_code, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "checkRemainQty",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [
          "glass_id"
        ],
        "sql": "SELECT glass_id FROM dw_raw_mat_proc_in WHERE glass_id = ? and in_date = ? AND remain_qty - ? <![CDATA[<]]> 0",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "checkRemainDiffQty",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [
          "glass_id"
        ],
        "sql": "select glass_id from dw_raw_mat_proc_in a where upper(a.glass_id) = upper(?) and a.in_date = ? and remain_qty - ( ? - ? )<![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "selectEquipListPop",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast",
          "dw_step_mast"
        ],
        "columns": [
          "'DFB1'",
          "'999'",
          "'수동'",
          "'010'",
          "'적층'",
          "'09'",
          "'Front'",
          "''",
          "a.설비번호",
          "a.설비명",
          "a.설비약명",
          "a.공정코드",
          "b.공정명",
          "a.공정구분",
          "a.area",
          "a.비고"
        ],
        "sql": "SELECT 'DFB1' AS line , '999' AS 설비번호 , '수동' AS 설비명 , '수동' AS 설비약명 , '010' AS 공정코드 , '적층' AS 공정명 , '09' AS area_code , 'Front' AS area , '' AS 비고 UNION ALL SELECT a.line , a.설비번호 , a.설비명 , a.설비약명 , a.공정코드 , b.공정명 , a.공정구분 as area_code , a.area , a.비고 FROM dw_equipment_mast a LEFT OUTER JOIN dw_step_mast b ON ( a.line = b.line and a.공정코드 = b.공정코드 ) WHERE 1 = 1 AND a.사용여부 = 1 AND a.공정코드 = '010'",
        "description": "SELECT 쿼리 (dw_equipment_mast, dw_step_mast)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "selectGlassMaterialList",
        "queryType": "select",
        "tables": [
          "dw_glass_mast"
        ],
        "columns": [
          "distinct",
          "glass_thickness"
        ],
        "sql": "SELECT distinct glass_material, glass_thickness FROM dw_glass_mast ORDER BY glass_material, glass_thickness",
        "description": "SELECT 쿼리 (dw_glass_mast)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_id_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_raw_mat_proc_id_stock",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_id_stock)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "selectStockStatus",
        "queryType": "select",
        "tables": [
          "dw_mat_close_info"
        ],
        "columns": [
          "status"
        ],
        "sql": "select status from dw_mat_close_info a where a.stock_date = ? and a.mat_category_code = ? and a.mat_type_code = ?",
        "description": "SELECT 쿼리 (dw_mat_close_info)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "selectPreStockStatus",
        "queryType": "select",
        "tables": [
          "dw_mat_close_info"
        ],
        "columns": [
          "status"
        ],
        "sql": "select status from dw_mat_close_info a where a.stock_date = CONVERT(VARCHAR(8), DATEADD(DAY, -1, ? ), 112) and a.mat_category_code = ? and a.mat_type_code = ?",
        "description": "SELECT 쿼리 (dw_mat_close_info)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_id_stock"
        ],
        "columns": [],
        "sql": "select count(1) as cnt from dw_raw_mat_proc_id_stock where stock_date = ? and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_id_stock)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "selectRawMatIdStock",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_id_stock",
          "dw_common_code",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.glass_id",
          "a.use_category",
          "b.code_name",
          "a.glass_material",
          "a.glass_thickness",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.good_qty",
          "a.error_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments"
        ],
        "sql": "SELECT a.stock_date, a.glass_id, a.use_category, b.code_name as use_category_name, a.glass_material, a.glass_thickness, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.good_qty, a.error_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, case when c.status = 'CLOSE' then 'N' else 'Y' end as editable FROM dw_raw_mat_proc_id_stock a left outer join ( select code, code_name from dw_common_code where maj_code='74' ) b on ( a",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_id_stock, dw_common_code, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_id_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_raw_mat_proc_id_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_id_stock)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "selectRawMatMonthReport",
        "queryType": "select",
        "tables": [
          "dw_raw_mat_proc_stock",
          "basedata"
        ],
        "columns": [
          "glass_material",
          "glass_thickness",
          "use_category",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT glass_material, glass_thickness, use_category, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN '1' WHEN gubun = 'out_qty' THEN '2' WHEN gubun = 'good_qty' THEN '3' WHEN gubun = 'error_qty' THEN '4' WHEN gubun = 'stock_qty' THEN '6' WHEN gubun = 'real_stock_qty' THEN '5' WHEN gubun = 'diff_qty' THEN '7' END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '사용' WHEN gubun = 'good_qty' THEN '양품' WHEN gubun = 'error_qty' THEN 'L",
        "description": "SELECT 쿼리 (dw_raw_mat_proc_stock, basedata)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "getDateCodeList",
        "queryType": "select",
        "tables": [
          "dw_date_code"
        ],
        "columns": [
          "date_code",
          "chg_date"
        ],
        "sql": "SELECT date_code, chg_date FROM dw_date_code ORDER BY date_code",
        "description": "SELECT 쿼리 (dw_date_code)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "getGlassMstList",
        "queryType": "select",
        "tables": [
          "dw_glass_mast"
        ],
        "columns": [
          "glass_code",
          "glass_material",
          "glass_size",
          "glass_thickness"
        ],
        "sql": "SELECT glass_code , glass_material , glass_size , glass_thickness FROM dw_glass_mast ORDER BY glass_code",
        "description": "SELECT 쿼리 (dw_glass_mast)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "checkDupGlassMst",
        "queryType": "select",
        "tables": [
          "dw_glass_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "SELECT COALESCE(STRING_AGG(glass_code, '/'), 'NoData') AS glassCode FROM dw_glass_mast WHERE glass_code IN <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? </foreach>",
        "description": "SELECT 쿼리 (dw_glass_mast)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "insertRawMatIn",
        "queryType": "insert",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_raw_mat_proc_in ( glass_id , in_date , in_time , use_category , box_num , in_qty , use_qty , remain_qty , unit , use_yn , worker_id , worker_name , glass_material , glass_thickness , glass_size , cut_type , cut_date , comments , create_date , create_user ) VALUES ( ? , ? , ? , ? , ? , ? , 0 , ? , ? , ? , ? , ? , isnull(?,'') , isnull(?,0) , isnull(?,'') , ? , ? , ? , getdate() , ? )",
        "description": "INSERT 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "insertRawMatOut",
        "queryType": "insert",
        "tables": [
          "dw_raw_mat_proc_out"
        ],
        "columns": [
          "case",
          "'')",
          "12",
          "14)",
          "3)"
        ],
        "sql": "INSERT INTO dw_raw_mat_proc_out ( out_no , work_date , shift_code , out_seq , out_date , out_time , glass_id , in_date , batch_no , use_category , glass_material , glass_thickness , worker_name , line , step_code , step_nm , equip_no , equip_nm , unit , out_qty , good_qty , error_rate , error_qty , error_ngport_qty , error_wash_qty , error_tkout_qty , error_etc_qty , comments , create_date , create_user ) VALUES ( ( select case when isnull(max(out_no),'') = '' then 'GO' + ? + ? + '001' else 'GO'",
        "description": "INSERT 쿼리 (dw_raw_mat_proc_out)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "insertRawMatIdStock",
        "queryType": "insert",
        "tables": [
          "dw_raw_mat_proc_id_stock",
          "dw_raw_mat_proc_in",
          "dw_raw_mat_proc_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.glass_id",
          "a.use_category",
          "a.glass_material",
          "a.glass_thickness",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.good_qty",
          "a.error_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_raw_mat_proc_id_stock ( stock_date, glass_id, use_category, glass_material, glass_thickness, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, good_qty, error_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.glass_id, a.use_category, a.glass_material, a.glass_thickness, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.good_qty, a.error_qty, ( a.prev_stock_qty",
        "description": "INSERT 쿼리 (dw_raw_mat_proc_id_stock, dw_raw_mat_proc_in, dw_raw_mat_proc_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "insertRawMatStock",
        "queryType": "insert",
        "tables": [
          "dw_raw_mat_proc_stock",
          "dw_raw_mat_proc_id_stock"
        ],
        "columns": [
          "stock_date",
          "use_category",
          "glass_material",
          "glass_thickness",
          "unit",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_raw_mat_proc_stock ( stock_date, use_category, glass_material, glass_thickness, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, good_qty, error_qty, stock_qty, real_stock_qty, diff_qty, create_date, create_user ) select stock_date, use_category, glass_material, glass_thickness, unit, sum(prev_stock_qty) as prev_stock_qty, sum(prev_real_stock_qty) as prev_real_stock_qty, sum(in_qty) as in_qty, sum(out_qty) as out_qty, sum(good_qty) as good_qty, sum(error_qty) as error_q",
        "description": "INSERT 쿼리 (dw_raw_mat_proc_stock, dw_raw_mat_proc_id_stock)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "insertMatCloseInfo",
        "queryType": "insert",
        "tables": [
          "dw_mat_close_info",
          "set"
        ],
        "columns": [],
        "sql": "MERGE INTO dw_mat_close_info AS target USING ( SELECT ? AS stock_date, ? AS mat_category_code, ? AS mat_type_code ) AS source ON target.stock_date = source.stock_date AND target.mat_category_code = source.mat_category_code AND target.mat_type_code = source.mat_type_code WHEN MATCHED THEN UPDATE SET stock_summary_yn = 'Y', stock_summary_date = GETDATE(), stock_summary_charger = ?, update_date = GETDATE(), update_user = ? WHEN NOT MATCHED THEN INSERT ( stock_date, mat_category_code, mat_type_code,",
        "description": "INSERT 쿼리 (dw_mat_close_info, set)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "insertGlassMst",
        "queryType": "insert",
        "tables": [
          "dw_glass_mast"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_glass_mast ( glass_code , glass_material , glass_size , glass_thickness ) VALUES ( ? , ? , ? , ? )",
        "description": "INSERT 쿼리 (dw_glass_mast)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "updateRawMatIn",
        "queryType": "update",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_raw_mat_proc_in SET worker_name = ?, in_qty = isnull(?,0), remain_qty = remain_qty + ( isnull(?,0) - isnull(?,0)), comments = ? WHERE glass_id = ? and in_date = ?",
        "description": "UPDATE 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_raw_mat_proc_in SET use_qty = use_qty + ? , remain_qty = remain_qty - ? , use_yn = 'Y' WHERE glass_id = ? and in_date = ?",
        "description": "UPDATE 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_raw_mat_proc_in SET use_qty = use_qty - ? , remain_qty = remain_qty + ? , use_yn = case when ( use_qty - ? ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE glass_id = ? and in_date = ?",
        "description": "UPDATE 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "updateRemainDiffQty",
        "queryType": "update",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_raw_mat_proc_in SET use_qty = use_qty + ( ? - ? ), remain_qty = remain_qty - ( ? - ? ), use_yn = case when ( use_qty + ( ? - ? ) ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE glass_id = ? and in_date = ?",
        "description": "UPDATE 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "updateRawMatOut",
        "queryType": "update",
        "tables": [
          "dw_raw_mat_proc_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_raw_mat_proc_out SET worker_name = ? , line = ? , step_code = ? , step_nm = ? , equip_no = ? , equip_nm = ? , out_qty = isnull(?,0) , good_qty = isnull(?,0) - ( isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0) ) , error_rate = case when ? = 0 then 0 else cast(( isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0) ) * 100.0 / ? as decimal(5,2)) end , error_qty = isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0) , error_ngport_qty = isnull(?,0) , error_wash_qty = isnull(?,0) , ",
        "description": "UPDATE 쿼리 (dw_raw_mat_proc_out)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "updateRawMatIdStock",
        "queryType": "update",
        "tables": [
          "dw_raw_mat_proc_id_stock"
        ],
        "columns": [],
        "sql": "update dw_raw_mat_proc_id_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and glass_id = ?",
        "description": "UPDATE 쿼리 (dw_raw_mat_proc_id_stock)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "updatetMatCloseInfo",
        "queryType": "update",
        "tables": [
          "dw_mat_close_info"
        ],
        "columns": [],
        "sql": "update dw_mat_close_info set status = ?, update_date = getdate(), update_user = ? where stock_date = ? and mat_category_code = ? and mat_type_code = ?",
        "description": "UPDATE 쿼리 (dw_mat_close_info)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "updateGlassMst",
        "queryType": "update",
        "tables": [
          "dw_glass_mast"
        ],
        "columns": [],
        "sql": "UPDATE dw_glass_mast SET glass_material = ? , glass_size = ? , glass_thickness = ? WHERE glass_code = ?",
        "description": "UPDATE 쿼리 (dw_glass_mast)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "deleteRawMatIn",
        "queryType": "delete",
        "tables": [
          "dw_raw_mat_proc_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_raw_mat_proc_in WHERE glass_id = ? and in_date = ?",
        "description": "DELETE 쿼리 (dw_raw_mat_proc_in)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "deleteRawMatOut",
        "queryType": "delete",
        "tables": [
          "dw_raw_mat_proc_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_raw_mat_proc_out WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_raw_mat_proc_out)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001001",
        "queryId": "deleteRawMatIdStock",
        "queryType": "delete",
        "tables": [
          "dw_raw_mat_proc_id_stock"
        ],
        "columns": [],
        "sql": "delete from dw_raw_mat_proc_id_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_raw_mat_proc_id_stock)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "deleteRawMatStock",
        "queryType": "delete",
        "tables": [
          "dw_raw_mat_proc_stock"
        ],
        "columns": [],
        "sql": "delete from dw_raw_mat_proc_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_raw_mat_proc_stock)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "deletetMatCloseInfo",
        "queryType": "delete",
        "tables": [
          "dw_mat_close_info"
        ],
        "columns": [],
        "sql": "delete from dw_mat_close_info where stock_date = ? and mat_category_code = ? and mat_type_code = ?",
        "description": "DELETE 쿼리 (dw_mat_close_info)"
      },
      {
        "mapperId": "M0001001",
        "queryId": "deleteGlassMst",
        "queryType": "delete",
        "tables": [
          "dw_glass_mast"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_glass_mast WHERE glass_code = ?",
        "description": "DELETE 쿼리 (dw_glass_mast)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001002",
      "screenName": "Tab 0 공정입고",
      "menuPath": "Tab 0 공정입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001002.vue",
      "tabs": [
        "TAB001102",
        "TAB001202",
        "TAB001302",
        "TAB001402"
      ],
      "description": "공정입고, 공정출고, 재고실사, 재고현황"
    },
    "queries": [
      {
        "mapperId": "M0001002",
        "queryId": "getResinInfo",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name",
          "etc1",
          "etc2"
        ],
        "sql": "SELECT code , code_name , etc1 , etc2 FROM dw_common_code WHERE maj_code = '78' order by sort_order",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "dupMaterialId",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [],
        "sql": "SELECT count(1) FROM dw_sub_mat_resin_in WHERE material_id = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "getUnitInfo",
        "queryType": "select",
        "tables": [
          "dw_mat_category"
        ],
        "columns": [
          "unit_code",
          "unit"
        ],
        "sql": "SELECT unit_code , unit FROM dw_mat_category WHERE mat_category_code = '30' AND mat_type_code = 'RESIN'",
        "description": "SELECT 쿼리 (dw_mat_category)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "checkDupResinId",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "SELECT material_id FROM dw_sub_mat_resin_in WHERE material_id IN <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? </foreach>",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_resin_in a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "getSubMatResinInList",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_in",
          "dw_sub_mat_resin_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "material_id",
          "mat_type_code",
          "sub_mat_type_code",
          "in_date",
          "in_time",
          "unit",
          "in_qty",
          "use_qty",
          "remain_qty",
          "use_yn",
          "worker_id",
          "worker_name",
          "make_date",
          "make_elapse_days",
          "store_valid_days",
          "store_days",
          "case",
          "comments",
          "out_comments",
          "create_date"
        ],
        "sql": "select material_id , mat_type_code , sub_mat_type_code , in_date , in_time , unit , in_qty , use_qty , remain_qty , use_yn , worker_id , worker_name , make_date , make_elapse_days , store_valid_days , store_days , case when store_days > store_valid_days then 'Y' else 'N' end store_valid_pass_yn , comments , out_comments , create_date , create_user , editable from ( SELECT I.material_id , I.mat_type_code , I.sub_mat_type_code , I.in_date , I.in_time , I.unit , I.in_qty , I.use_qty , I.remain_qty ",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_in, dw_sub_mat_resin_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "getSubMatResinInInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_in",
          "dw_common_code"
        ],
        "columns": [
          "material_id",
          "sub_mat_type_code",
          "b.code_name",
          "unit",
          "remain_qty",
          "store_valid_days",
          "in_date+'",
          "2)",
          "in_date",
          "9",
          "a.comments"
        ],
        "sql": "SELECT material_id , sub_mat_type_code , b.code_name as sub_mat_type_name , unit , remain_qty , store_valid_days , RIGHT('00' + CAST(DATEDIFF(HOUR, in_date+' '+in_time, GETDATE()) AS VARCHAR), 2) +':'+ RIGHT('00' +CAST(DATEDIFF(MINUTE, in_date+' '+in_time, GETDATE())%60 AS VARCHAR), 2) AS store_time , DATEDIFF(day, in_date, DATEADD(HOUR, 9, GETUTCDATE())) AS store_days , a.comments as in_comments FROM dw_sub_mat_resin_in a left outer join ( select code, code_name from dw_common_code where maj_co",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_in, dw_common_code)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "getSubMatResinOutList",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_out",
          "dw_sub_mat_resin_in",
          "dw_mat_close_info"
        ],
        "columns": [
          "O.material_id",
          "O.mat_type_code",
          "O.sub_mat_type_code",
          "O.work_date",
          "O.shift_code",
          "O.out_seq",
          "O.out_date",
          "O.out_time",
          "O.worker_name",
          "O.line",
          "O.step_code",
          "O.step_nm",
          "O.equip_no",
          "O.equip_nm",
          "O.tank",
          "O.unit",
          "0)",
          "O.store_time",
          "O.store_days",
          "O.comments"
        ],
        "sql": "SELECT O.material_id , O.mat_type_code , O.sub_mat_type_code , O.work_date , O.shift_code , O.out_seq , O.out_date , O.out_time , O.worker_name , O.line , O.step_code , O.step_nm , O.equip_no , O.equip_nm , O.tank , O.unit , isnull(O.out_qty,0) out_qty , O.store_time , O.store_days , O.comments , I.comments as in_comments , isnull(I.remain_qty,0) remain_qty , I.store_valid_days , case when isnull(d.close_yn, 'N') = 'N' and <![CDATA[ ( ( datepart(hour,getdate()) < 8 and ( O.out_date = CONVERT(VAR",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_out, dw_sub_mat_resin_in, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "checkRemainQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_resin_in a where upper(a.material_id) = upper(?) and remain_qty - ? <![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_id_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_sub_mat_resin_id_stock",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_id_stock)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_id_stock"
        ],
        "columns": [],
        "sql": "select count(1) as cnt from dw_sub_mat_resin_id_stock where stock_date = ? and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_id_stock)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "selectSubMatResinIdStock",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_id_stock",
          "dw_common_code",
          "dw_mat_close_info",
          "dw_sub_mat_resin_in"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.sub_mat_type_name",
          "a.store_days",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments",
          "a.editable"
        ],
        "sql": "select a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.sub_mat_type_name, a.store_days, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, a.editable from ( SELECT a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, b.code_name as sub_mat_type_name, case when DATEDIFF(day, d.in_date, DATEADD(HOUR, 9, GETUTCDATE())) > b.store_valid_days and use_",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_id_stock, dw_common_code, dw_mat_close_info, dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_id_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_sub_mat_resin_id_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_id_stock)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "selectSubMatResinMonthReport",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_resin_stock",
          "dw_sub_mat_resin_equip_out",
          "dw_sub_mat_resin_in",
          "basedata",
          "outdata",
          "validdata",
          "dw_common_code"
        ],
        "columns": [
          "sub_mat_type_code",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT sub_mat_type_code, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN '10' WHEN gubun = 'out_qty' THEN '20' WHEN gubun = 'stock_qty' THEN '42' WHEN gubun = 'real_stock_qty' THEN '41' WHEN gubun = 'diff_qty' THEN '43' END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '투입' ELSE '재고' END AS item_name1, CASE WHEN gubun = 'in_qty' THEN '' WHEN gubun = 'out_qty' THEN '계' WHEN gubun = 'stock_qty' THEN '전산' WHEN gubun = 'real_stock_",
        "description": "SELECT 쿼리 (dw_sub_mat_resin_stock, dw_sub_mat_resin_equip_out, dw_sub_mat_resin_in, basedata, outdata, validdata, dw_common_code)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "insertSubMatResinIn",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_sub_mat_resin_in ( material_id , mat_type_code , sub_mat_type_code , in_date , in_time , unit , in_qty , use_qty , remain_qty , use_yn , worker_id , worker_name , make_date , make_elapse_days , store_valid_days , comments , create_date , create_user ) VALUES ( ? , ? , ? , ? , ? , ? , ? , 0 , ? , ? , ? , ? , ? , ? , ? , ? , getdate() , ? )",
        "description": "INSERT 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "insertSubMatResinOut",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_resin_out",
          "dw_sub_mat_resin_in"
        ],
        "columns": [
          "#{materialId}",
          "#{matTypeCode}",
          "#{subMatTypeCode}",
          "#{workDate}",
          "#{shiftCode}",
          "0)+1"
        ],
        "sql": "INSERT INTO dw_sub_mat_resin_out ( material_id , mat_type_code , sub_mat_type_code , work_date , shift_code , out_seq , out_date , out_time , worker_name , line , step_code , step_nm , equip_no , equip_nm , tank , unit , out_qty , store_time , store_days , comments , create_date , create_user ) SELECT ? , ? , ? , ? , ? , (select COALESCE(max(out_seq),0)+1 from dw_sub_mat_resin_out where work_date=? and mat_type_code='RESIN' and shift_code = ?) , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , ? , CAST(D",
        "description": "INSERT 쿼리 (dw_sub_mat_resin_out, dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "insertSubMatResinIdStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_resin_id_stock",
          "dw_sub_mat_resin_in",
          "dw_sub_mat_resin_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_resin_id_stock ( stock_date, material_id, mat_type_code, sub_mat_type_code, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, ( a.prev_stock_qty + a.in_qty - a.out_qty ) as stock_qty, case when b.status is null ",
        "description": "INSERT 쿼리 (dw_sub_mat_resin_id_stock, dw_sub_mat_resin_in, dw_sub_mat_resin_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "insertSubMatResinStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_resin_stock",
          "dw_sub_mat_resin_id_stock"
        ],
        "columns": [
          "stock_date",
          "mat_type_code",
          "sub_mat_type_code",
          "unit",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_resin_stock ( stock_date, mat_type_code, sub_mat_type_code, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, stock_qty, real_stock_qty, diff_qty, valid_days_past_qty, create_date, create_user ) select stock_date, mat_type_code, sub_mat_type_code, unit, sum(prev_stock_qty) as prev_stock_qty, sum(prev_real_stock_qty) as prev_real_stock_qty, sum(in_qty) as in_qty, sum(out_qty) as out_qty, sum(stock_qty)as stock_qty, sum(real_stock_qty) as real_stock_qty, sum(diff_q",
        "description": "INSERT 쿼리 (dw_sub_mat_resin_stock, dw_sub_mat_resin_id_stock)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "insertSubMatResinEquipOut",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_resin_equip_out",
          "dw_sub_mat_resin_out"
        ],
        "columns": [
          "work_date",
          "mat_type_code",
          "sub_mat_type_code",
          "equip_no",
          "equip_nm",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_resin_equip_out ( stock_date, mat_type_code, sub_mat_type_code, equip_no, equip_nm, out_qty, create_date, create_user ) select work_date, mat_type_code, sub_mat_type_code, equip_no, equip_nm, sum(out_qty) as out_qty, getdate(), ? from dw_sub_mat_resin_out a where work_date = ? group by work_date, mat_type_code, sub_mat_type_code, equip_no, equip_nm",
        "description": "INSERT 쿼리 (dw_sub_mat_resin_equip_out, dw_sub_mat_resin_out)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "updateSubMatResinIn",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_resin_in SET worker_name = ?, comments = ? WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_resin_in SET use_qty = use_qty + ? , remain_qty = remain_qty - ? , use_yn = 'Y' WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_resin_in SET use_qty = use_qty - ? , remain_qty = remain_qty + ? , use_yn = case when ( use_qty - ? ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "updateSubMatResinOut",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_resin_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_resin_out SET worker_name = ? , line = ? , step_code = ? , step_nm = ? , equip_no = ? , equip_nm = ? , tank = ? , comments = ? WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_resin_out)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "updateSubMatResinIdStock",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_resin_id_stock"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_resin_id_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_resin_id_stock)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "deleteSubMatResinIn",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_resin_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_resin_in WHERE material_id = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_resin_in)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "deleteSubMatResinOut",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_resin_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_resin_out WHERE material_id = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_resin_out)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001002",
        "queryId": "deleteSubMatResinIdStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_resin_id_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_resin_id_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_resin_id_stock)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "deleteSubMatResinStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_resin_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_resin_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_resin_stock)"
      },
      {
        "mapperId": "M0001002",
        "queryId": "deleteSubMatResinEquipOut",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_resin_equip_out"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_resin_equip_out where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_resin_equip_out)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001003",
      "screenName": "Tab 0 공정전 입고",
      "menuPath": "Tab 0 공정전 입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001003.vue",
      "tabs": [
        "TAB001103",
        "TAB001203",
        "TAB001303",
        "TAB001403"
      ],
      "description": "공정전 입고, 공정출고, 재고실사, 재고현황"
    },
    "queries": [
      {
        "mapperId": "M0001003",
        "queryId": "selectMatUnit",
        "queryType": "select",
        "tables": [
          "dw_mat_category"
        ],
        "columns": [
          "mat_type_name",
          "unit"
        ],
        "sql": "SELECT mat_type_name, unit FROM dw_mat_category WHERE mat_category_code = ? AND mat_type_code = ?",
        "description": "SELECT 쿼리 (dw_mat_category)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "selectMatToolIn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_in",
          "dw_sub_mat_tool_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.in_date",
          "a.in_time",
          "a.unit",
          "a.in_qty",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.worker_id",
          "a.worker_name",
          "a.comments",
          "b.comments",
          "a.create_date",
          "a.create_user",
          "case",
          "'N')"
        ],
        "sql": "SELECT a.material_id, a.mat_type_code, a.sub_mat_type_code, a.in_date, a.in_time, a.unit, a.in_qty, a.use_qty, a.remain_qty, a.use_yn, a.worker_id, a.worker_name, a.comments, b.comments as out_comments, a.create_date, a.create_user, case when isnull(c.close_yn,'N') = 'N' and a.use_yn = 'N' then 'Y' else 'N' end as editable FROM DW_SUB_MAT_TOOL_IN a LEFT OUTER JOIN DW_SUB_MAT_TOOL_OUT b ON a.material_id = b.material_id left outer join ( select * from dw_mat_close_info where mat_category_code ='40",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_in, dw_sub_mat_tool_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "selectBarcodeDupYn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [
          "CASE"
        ],
        "sql": "SELECT CASE WHEN count(1) <![CDATA[ > ]]> 0 THEN 'Y' ELSE 'N' END AS dupYn FROM DW_SUB_MAT_TOOL_IN a WHERE a.material_id = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from DW_SUB_MAT_TOOL_IN a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "checkInsertInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from DW_SUB_MAT_TOOL_IN a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "selectMatToolOut",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_out",
          "dw_common_code",
          "dw_sub_mat_tool_in",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "b.code_name",
          "a.work_date",
          "a.shift_code",
          "a.out_seq",
          "a.out_date",
          "a.out_time",
          "a.worker_name",
          "a.use_category",
          "a.line",
          "a.step_code",
          "a.step_nm",
          "a.equip_no",
          "a.equip_nm",
          "a.unit",
          "0)",
          "a.사용구분",
          "a.사용완료여부"
        ],
        "sql": "SELECT a.material_id, a.mat_type_code, a.sub_mat_type_code, b.code_name as sub_mat_type_name, a.work_date, a.shift_code, a.out_seq, a.out_date, a.out_time, a.worker_name, a.use_category, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.equip_nm as org_equip_nm, a.unit, isnull(a.out_qty,0) out_qty , isnull(a.error_work_qty,0) error_work_qty, isnull(a.error_mat_qty,0) error_mat_qty, a.사용구분, isnull(a.최대사용횟수,0) 최대사용횟수, isnull(a.사용횟수,0) 사용횟수, a.사용완료여부, a.폐기여부, a.comments, c.comments as in_co",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_out, dw_common_code, dw_sub_mat_tool_in, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "selectBarcodeInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_in",
          "dw_common_code"
        ],
        "columns": [
          "a.material_id",
          "a.sub_mat_type_code",
          "b.code_name",
          "a.remain_qty",
          "a.use_yn",
          "case",
          "b.etc1",
          "0",
          "'N'",
          "a.comments"
        ],
        "sql": "select a.material_id, a.sub_mat_type_code, b.code_name as sub_mat_type_name, a.remain_qty, a.use_yn, case when a.sub_mat_type_code = 'FGRIND' then '정삭' else b.code_name end as '사용구분', b.etc1 as 최대사용횟수, 0 as 사용횟수, 'N' as 사용완료여부, 'N' as 폐기여부, a.comments as in_comments from dw_sub_mat_tool_in a JOIN ( SELECT code, code_name, etc1 from dw_common_code WHERE maj_code='79' and use_yn = '1' ) b ON ( a.sub_mat_type_code = b.code ) where material_id = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_in, dw_common_code)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "checkRemainQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_tool_in a where upper(a.material_id) = upper(?) and remain_qty - ? <![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "checkEquipTool",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_out"
        ],
        "columns": [],
        "sql": "select count(*) as use_count from dw_sub_mat_tool_out where line = ? and equip_no = ? and 사용구분 = #{사용구분} and 사용완료여부 = 'N' and 폐기여부 = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_out)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_id_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_sub_mat_tool_id_stock",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_id_stock)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_id_stock"
        ],
        "columns": [],
        "sql": "select count(1) as cnt from dw_sub_mat_tool_id_stock where stock_date = ? and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_id_stock)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "selectSubMatToolIdStock",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_id_stock",
          "dw_common_code",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "b.code_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.error_work_qty",
          "a.error_mat_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments",
          "case"
        ],
        "sql": "SELECT a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, b.code_name as sub_mat_type_name, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.error_work_qty, a.error_mat_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, case when c.status = 'CLOSE' then 'N' else 'Y' end as editable FROM dw_sub_mat_tool_id_stock a left outer join ( select code, code_name from dw_common_code where maj_code='79' ) b on ( a.s",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_id_stock, dw_common_code, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_id_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_sub_mat_tool_id_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_id_stock)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "selectSubMatToolMonthReport",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_stock",
          "basedata",
          "dw_common_code"
        ],
        "columns": [
          "sub_mat_type_code",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT sub_mat_type_code, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN '1' WHEN gubun = 'out_qty' THEN '2' WHEN gubun = 'loss_qty' THEN '3' WHEN gubun = 'stock_qty' THEN '6' WHEN gubun = 'real_stock_qty' THEN '5' WHEN gubun = 'diff_qty' THEN '7' END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '투입' WHEN gubun = 'loss_qty' THEN 'Loss' ELSE '재고' END AS item_name1, CASE WHEN gubun = 'in_qty' THEN '' WHEN gubun = 'out_qty' THEN ",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_stock, basedata, dw_common_code)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "insertInData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_sub_mat_tool_in ( material_id, mat_type_code, sub_mat_type_code, in_date, in_time, unit, in_qty, use_qty, remain_qty, use_yn, worker_id, worker_name, comments, create_date, create_user ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, getdate(), ? )",
        "description": "INSERT 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "insertOutData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_tool_out"
        ],
        "columns": [
          "0)+1"
        ],
        "sql": "INSERT INTO dw_sub_mat_tool_out ( material_id, mat_type_code, sub_mat_type_code, work_date, shift_code, out_seq, out_date, out_time, worker_name, use_category, line, step_code, step_nm, equip_no, equip_nm, unit, out_qty, error_work_qty, error_mat_qty, 사용구분, 최대사용횟수, 사용횟수, 사용완료여부, 폐기여부, comments, create_date, create_user ) VALUES ( ?, ?, ?, ?, ?, (select COALESCE(max(out_seq),0)+1 from dw_sub_mat_tool_out where work_date=? and mat_type_code='TOOL' and shift_code = ?), ?, ?, ?, ?, ?, ?, ?, ?, ?, ?,",
        "description": "INSERT 쿼리 (dw_sub_mat_tool_out)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "insertSubMatToolIdStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_tool_id_stock",
          "dw_sub_mat_tool_in",
          "dw_sub_mat_tool_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.error_work_qty",
          "a.error_mat_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_tool_id_stock ( stock_date, material_id, mat_type_code, sub_mat_type_code, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, error_work_qty, error_mat_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.error_work_qty, a.error_mat_qty, ( a.prev_stock_qty +",
        "description": "INSERT 쿼리 (dw_sub_mat_tool_id_stock, dw_sub_mat_tool_in, dw_sub_mat_tool_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "insertSubMatToolStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_tool_stock",
          "dw_sub_mat_tool_id_stock"
        ],
        "columns": [
          "stock_date",
          "mat_type_code",
          "sub_mat_type_code",
          "unit",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_tool_stock ( stock_date, mat_type_code, sub_mat_type_code, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, error_work_qty, error_mat_qty, stock_qty, real_stock_qty, diff_qty, create_date, create_user ) select stock_date, mat_type_code, sub_mat_type_code, unit, sum(prev_stock_qty) as prev_stock_qty, sum(prev_real_stock_qty) as prev_real_stock_qty, sum(in_qty) as in_qty, sum(out_qty) as out_qty, sum(error_work_qty) as error_work_qty, sum(error_mat_qty) as error_m",
        "description": "INSERT 쿼리 (dw_sub_mat_tool_stock, dw_sub_mat_tool_id_stock)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "updateInData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tool_in SET sub_mat_type_code = ?, worker_name = ?, comments = ? WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tool_in SET use_qty = use_qty + ?, remain_qty = remain_qty - ?, use_yn = 'Y' WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tool_in SET use_qty = use_qty - ?, remain_qty = remain_qty + ?, use_yn = case when ( use_qty - ? ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "updateOutData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tool_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tool_out SET worker_name = ?, use_category = ?, line = ?, step_code = ?, step_nm = ?, equip_no = ?, equip_nm = ?, error_work_qty = ?, error_mat_qty = ?, 사용구분 = #{사용구분}, 최대사용횟수 = #{최대사용횟수}, 사용횟수 = #{사용횟수}, comments = ?, 사용완료여부 = case when #{최대사용횟수} = #{사용횟수} or #{사용완료여부} = 'Y' then 'Y' else 'N' end, 폐기여부 = #{폐기여부} WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tool_out)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "updateSubMatToolIdStock",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tool_id_stock"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_tool_id_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tool_id_stock)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "deleteInData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_tool_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_tool_in WHERE material_id = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_tool_in)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "deleteOutData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_tool_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_tool_out WHERE material_id = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_tool_out)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001003",
        "queryId": "deleteSubMatToolIdStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_tool_id_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_tool_id_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_tool_id_stock)"
      },
      {
        "mapperId": "M0001003",
        "queryId": "deleteSubMatToolStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_tool_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_tool_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_tool_stock)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001004",
      "screenName": "Tab 0 공정전 입고",
      "menuPath": "Tab 0 공정전 입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001004.vue",
      "tabs": [
        "TAB001104",
        "TAB001204",
        "TAB001504",
        "TAB001304",
        "TAB001404",
        "TAB001604"
      ],
      "description": "공정전 입고, 공정출고, 불량발생, 재고실사, 재고현황, Model별 필름정보"
    },
    "queries": [
      {
        "mapperId": "M0001004",
        "queryId": "selectMatFilmIn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_in",
          "dw_sub_mat_film_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.in_date",
          "a.in_time",
          "a.prod_category",
          "a.model_code",
          "a.film_name",
          "a.unit",
          "a.in_qty",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.worker_id",
          "a.worker_name",
          "a.comments",
          "b.out_comments",
          "a.create_date",
          "a.create_user",
          "case"
        ],
        "sql": "SELECT a.material_id, a.mat_type_code, a.sub_mat_type_code, a.in_date, a.in_time, a.prod_category, a.model_code, a.film_name, a.unit, a.in_qty, a.use_qty, a.remain_qty, a.use_yn, a.worker_id, a.worker_name, a.comments, b.out_comments, a.create_date, a.create_user, case when isnull(c.close_yn,'N') = 'N' and a.use_yn = 'N' then 'Y' else 'N' end as editable FROM dw_sub_mat_film_in a left outer join ( SELECT a.material_id, STRING_AGG(a.comments, ' / ') AS out_comments FROM dw_sub_mat_film_out a GROU",
        "description": "SELECT 쿼리 (dw_sub_mat_film_in, dw_sub_mat_film_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectBarcodeModelInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_in",
          "dw_model_code_info",
          "dw_common_code"
        ],
        "columns": [
          "a.dup_yn",
          "#{materialId}",
          "'')",
          "b.division",
          "b.sdc_code",
          "b.sub_mat_type_code",
          "c.code_name"
        ],
        "sql": "select a.dup_yn, ? as material_id, COALESCE(b.model_code,'') as model_code, b.division, b.sdc_code, b.sub_mat_type_code, c.code_name as film_name from ( SELECT CASE WHEN count(1) <![CDATA[ > ]]> 0 THEN 'Y' ELSE 'N' END AS dup_yn FROM dw_sub_mat_film_in a WHERE a.material_id = ? ) a left outer join ( select model_code, division, sdc_code, film_front_code, film_back_code, case when substring(?,1,10) = film_front_code then 'FRONT' when substring(?,1,10) = film_back_code then 'BACK' else '' end as s",
        "description": "SELECT 쿼리 (dw_sub_mat_film_in, dw_model_code_info, dw_common_code)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_film_in a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "checkInsertInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_film_in a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectMatFilmOut",
        "queryType": "select",
        "tables": [
          "d88_pfl",
          "dw_sub_mat_film_out",
          "dw_sub_mat_film_in",
          "dw_common_code",
          "dw_mat_close_info",
          "pfl_log"
        ],
        "columns": [
          "sub_mat_type_code",
          "material_id",
          "work_date",
          "설비호기"
        ],
        "sql": "WITH pfl_log AS ( select sub_mat_type_code, material_id, work_date, 설비호기, count(distinct cell_id) log_qty from ( select sub_mat_type_code, material_id, start_yyyymmdd, start_hhmmss, <![CDATA[ case when start_hhmmss < '080000' then CONVERT(CHAR(8), DATEADD(DAY, -1, CAST(start_yyyymmdd AS DATE)), 112) else start_yyyymmdd end as work_date, case when start_hhmmss < '080000' or start_hhmmss >= '200000' then 'N' else 'D' end as shift_code, ]]> 설비호기, cell_id from ( select 'FRONT' sub_mat_type_code, fil",
        "description": "SELECT 쿼리 (d88_pfl, dw_sub_mat_film_out, dw_sub_mat_film_in, dw_common_code, dw_mat_close_info, pfl_log)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectBarcodeInfo",
        "queryType": "select",
        "tables": [
          "d88_pfl",
          "dw_sub_mat_film_in",
          "dw_common_code"
        ],
        "columns": [
          "a.material_id",
          "a.sub_mat_type_code",
          "a.film_name",
          "a.prod_category",
          "c.code_name",
          "a.model_code",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.comments",
          "case"
        ],
        "sql": "select a.material_id, a.sub_mat_type_code, a.film_name, a.prod_category, c.code_name as prod_category_name, a.model_code, a.use_qty, a.remain_qty, a.remain_qty as stock_qty, a.use_yn, a.comments as in_comments, case when a.sub_mat_type_code = 'FRONT' then ( select count(distinct cell_id) from d88_PFL공정LOG파일 where film_id_하부 = a.material_id and 설비호기 = ? AND ( ? = 'D' and START_TIME BETWEEN ?+' 080000' AND ?+' 195959' or ? = 'N' and START_TIME BETWEEN ?+' 200000' AND CONVERT(VARCHAR(8), DATEADD(DA",
        "description": "SELECT 쿼리 (d88_pfl, dw_sub_mat_film_in, dw_common_code)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectOutLogQty",
        "queryType": "select",
        "tables": [
          "d88_pfl"
        ],
        "columns": [],
        "sql": "select count(distinct cell_id) as log_qty from d88_PFL공정LOG파일 a where a.설비호기 = ? and ( ?='FRONT' AND a.film_id_하부 = ? or ?='BACK' AND a.film_id_상부 = ? ) AND ( ? = 'D' and START_TIME BETWEEN ?+' 080000' AND ?+' 195959' or ? = 'N' and START_TIME BETWEEN ?+' 200000' AND CONVERT(VARCHAR(8), DATEADD(DAY, 1, ?), 112)+' 075959' )",
        "description": "SELECT 쿼리 (d88_pfl)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "checkRemainQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_film_in a where upper(a.material_id) = upper(?) and remain_qty - ? <![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "checkRemainDiffQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_film_in a where upper(a.material_id) = upper(?) and remain_qty - ( ? - ? )<![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectMatFilmError",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_out",
          "dw_common_code",
          "dw_sub_mat_film_error"
        ],
        "columns": [
          "a.work_date",
          "a.shift_code",
          "c.code_name",
          "a.prod_category",
          "d.code_name",
          "a.model_code",
          "a.line",
          "a.step_code",
          "a.step_nm",
          "a.equip_no",
          "a.equip_nm",
          "a.unit",
          "a.worker_name",
          "0)"
        ],
        "sql": "select a.work_date, a.shift_code, c.code_name as shift_name, a.prod_category, d.code_name as prod_category_name, a.model_code, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.unit, a.worker_name, sum(case when a.sub_mat_type_code = 'BACK' then isnull(a.error_qty,0) else 0 end ) as back_error_qty, sum(case when a.sub_mat_type_code = 'BACK' then isnull(a.error_pm_qty,0) else 0 end ) as back_error_pm_qty, sum(case when a.sub_mat_type_code = 'BACK' then isnull(a.error_drop_qty,0) else 0 en",
        "description": "SELECT 쿼리 (dw_sub_mat_film_out, dw_common_code, dw_sub_mat_film_error)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_id_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_sub_mat_film_id_stock",
        "description": "SELECT 쿼리 (dw_sub_mat_film_id_stock)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_id_stock"
        ],
        "columns": [],
        "sql": "select count(1) as cnt from dw_sub_mat_film_id_stock where stock_date = ? and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_film_id_stock)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectSubMatFilmIdStock",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_id_stock",
          "dw_common_code",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.prod_category",
          "b.code_name",
          "a.model_code",
          "a.film_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments"
        ],
        "sql": "SELECT a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.prod_category, b.code_name as prod_category_name, a.model_code, a.film_name, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, case when c.status = 'CLOSE' then 'N' else 'Y' end as editable FROM dw_sub_mat_film_id_stock a left outer join ( select code, code_name from dw_common_code where maj_code='74' ) ",
        "description": "SELECT 쿼리 (dw_sub_mat_film_id_stock, dw_common_code, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_id_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_sub_mat_film_id_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_film_id_stock)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectSubMatFilmMonthReport",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_film_stock",
          "basedata",
          "dw_common_code"
        ],
        "columns": [
          "prod_category",
          "model_code",
          "sub_mat_type_code",
          "film_name",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT prod_category, model_code, sub_mat_type_code, film_name, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN '1' WHEN gubun = 'out_qty' THEN '2' WHEN gubun = 'loss_qty' THEN '3' WHEN gubun = 'stock_qty' THEN '6' WHEN gubun = 'real_stock_qty' THEN '5' WHEN gubun = 'diff_qty' THEN '7' END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '사용' WHEN gubun = 'loss_qty' THEN 'Loss' ELSE '재고' END AS item_name1, CASE WHEN gubun = 'in_qty",
        "description": "SELECT 쿼리 (dw_sub_mat_film_stock, basedata, dw_common_code)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "selectModelCodeInfo",
        "queryType": "select",
        "tables": [
          "dw_model_code_info"
        ],
        "columns": [
          "model_code",
          "division",
          "sdc_code",
          "film_front_code",
          "film_back_code"
        ],
        "sql": "SELECT model_code, division, sdc_code, film_front_code, film_back_code FROM dw_model_code_info a where 1 = 1 order by model_code, division, sdc_code, film_front_code, film_back_code",
        "description": "SELECT 쿼리 (dw_model_code_info)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "checkModelData",
        "queryType": "select",
        "tables": [
          "dw_model_code_info"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(model_code+'-'+division, '/'), 'NoData') AS model from dw_model_code_info a where upper(a.model_code) + '-' + a.division in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) + '-' + ? </foreach>",
        "description": "SELECT 쿼리 (dw_model_code_info)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "insertInData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_sub_mat_film_in ( material_id, mat_type_code, sub_mat_type_code, in_date, in_time, prod_category, model_code, film_name, unit, in_qty, use_qty, remain_qty, use_yn, worker_id, worker_name, comments, create_date, create_user ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, 0, ?, ?, ?, ?, ?, getdate(), ? )",
        "description": "INSERT 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "insertOutData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_film_out"
        ],
        "columns": [
          "case",
          "'')",
          "12",
          "14)",
          "3)"
        ],
        "sql": "INSERT INTO dw_sub_mat_film_out ( out_no, mat_type_code, sub_mat_type_code, work_date, shift_code, out_seq, out_date, out_time, material_id, prod_category, model_code, film_name, worker_name, line, step_code, step_nm, equip_no, equip_nm, unit, out_qty, good_qty, error_rate, error_qty, error_pm_qty, error_drop_qty, error_ngbox_qty, error_equip_qty, error_appearance_qty, comments, create_date, create_user ) VALUES ( ( select case when isnull(max(out_no),'') = '' then 'LO' + ? + ? + '001' else 'LO'",
        "description": "INSERT 쿼리 (dw_sub_mat_film_out)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "insertSubMatFilmIdStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_film_id_stock",
          "dw_sub_mat_film_in",
          "dw_sub_mat_film_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.prod_category",
          "a.model_code",
          "a.film_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_film_id_stock ( stock_date, material_id, mat_type_code, sub_mat_type_code, prod_category, model_code, film_name, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.prod_category, a.model_code, a.film_name, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, ( a.",
        "description": "INSERT 쿼리 (dw_sub_mat_film_id_stock, dw_sub_mat_film_in, dw_sub_mat_film_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "insertSubMatFilmStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_film_stock",
          "dw_sub_mat_film_id_stock",
          "dw_sub_mat_film_error"
        ],
        "columns": [
          "a.stock_date",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.prod_category",
          "a.model_code",
          "a.film_name",
          "a.unit",
          "0)",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_film_stock ( stock_date, mat_type_code, sub_mat_type_code, prod_category, model_code, film_name, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, error_qty, error_pm_qty, error_drop_qty, error_ngbox_qty, error_equip_qty, error_appearance_qty, stock_qty, real_stock_qty, diff_qty, create_date, create_user ) select a.stock_date, a.mat_type_code, a.sub_mat_type_code, a.prod_category, a.model_code, a.film_name, a.unit, isnull(a.prev_stock_qty,0), isnull(a.prev_real_s",
        "description": "INSERT 쿼리 (dw_sub_mat_film_stock, dw_sub_mat_film_id_stock, dw_sub_mat_film_error)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "updateInData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_film_in SET sub_mat_type_code = ?, worker_name = ?, in_qty = ?, remain_qty = ?, comments = ? WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_film_in SET use_qty = use_qty + ?, remain_qty = remain_qty - ?, use_yn = 'Y' WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_film_in SET use_qty = use_qty - ?, remain_qty = remain_qty + ?, use_yn = case when ( use_qty - ? ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "updateRemainDiffQty",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_film_in SET use_qty = use_qty + ( ? - ? ), remain_qty = remain_qty - ( ? - ? ), use_yn = case when ( use_qty + ( ? - ? ) ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "updateOutData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_film_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_film_out SET worker_name = ?, line = ?, step_code = ?, step_nm = ?, equip_no = ?, equip_nm = ?, out_qty = isnull(?,0), good_qty = isnull(?,0) - ( isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0) ), error_rate = case when isnull(?,0) = 0 then 0 else cast( ( isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0) ) * 100.0 / isnull(?,0) as decimal(5,2)) end, error_qty = isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0) + isnull(?,0), error_pm_qt",
        "description": "UPDATE 쿼리 (dw_sub_mat_film_out)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "updateMatFilmError",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_film_error",
          "set"
        ],
        "columns": [],
        "sql": "MERGE INTO dw_sub_mat_film_error AS target USING ( VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ? ) ) AS source ( work_date, shift_code, prod_category, model_code, line, step_code, step_nm, equip_no, equip_nm, error_date, error_time, worker_name, unit, back_error_qty, back_error_pm_qty, back_error_drop_qty, back_error_ngbox_qty, back_error_equip_qty, back_error_appearance_qty, front_error_qty, front_error_pm_qty, front_error_drop_qty, front_error_ngbox_q",
        "description": "UPDATE 쿼리 (dw_sub_mat_film_error, set)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "updateSubMatFilmIdStock",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_film_id_stock"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_film_id_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_film_id_stock)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "updateModelCodeInfo",
        "queryType": "update",
        "tables": [
          "dw_model_code_info"
        ],
        "columns": [],
        "sql": "UPDATE dw_model_code_info SET division = ?, sdc_code = ?, film_front_code = ?, film_back_code = ? WHERE model_code = ?",
        "description": "UPDATE 쿼리 (dw_model_code_info)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "deleteInData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_film_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_film_in WHERE material_id = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_film_in)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "deleteOutData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_film_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_film_out WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_film_out)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001004",
        "queryId": "deleteSubMatFilmIdStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_film_id_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_film_id_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_film_id_stock)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "deleteSubMatFilmStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_film_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_film_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_film_stock)"
      },
      {
        "mapperId": "M0001004",
        "queryId": "deleteModelCodeInfo",
        "queryType": "delete",
        "tables": [
          "dw_model_code_info"
        ],
        "columns": [],
        "sql": "delete from dw_model_code_info where model_code = ?",
        "description": "DELETE 쿼리 (dw_model_code_info)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001005",
      "screenName": "Tab 0 공정전 입고",
      "menuPath": "Tab 0 공정전 입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001005.vue",
      "tabs": [
        "TAB001105",
        "TAB001205",
        "TAB001305",
        "TAB001405",
        "TAB001505"
      ],
      "description": "공정전 입고, 공정출고, 재고실사, 재고현황, Tray코드별 모델정보"
    },
    "queries": [
      {
        "mapperId": "M0001005",
        "queryId": "selectMatTrayIn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_in",
          "dw_sub_mat_tray_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.in_date",
          "a.in_time",
          "a.model",
          "a.tray_code",
          "a.unit",
          "a.in_qty",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.worker_id",
          "a.worker_name",
          "a.comments",
          "b.out_comments",
          "a.create_date",
          "a.create_user",
          "case",
          "'N')"
        ],
        "sql": "SELECT a.material_id, a.mat_type_code, a.sub_mat_type_code, a.in_date, a.in_time, a.model, a.tray_code, a.unit, a.in_qty, a.use_qty, a.remain_qty, a.use_yn, a.worker_id, a.worker_name, a.comments, b.out_comments, a.create_date, a.create_user, case when isnull(c.close_yn,'N') = 'N' and a.use_yn = 'N' then 'Y' else 'N' end as editable FROM dw_sub_mat_tray_in a left outer join ( SELECT a.material_id, a.in_date, STRING_AGG(a.comments, ' / ') AS out_comments FROM dw_sub_mat_tray_out a GROUP BY a.mate",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_in, dw_sub_mat_tray_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectBarcodeModelInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_in",
          "dw_tray_code_info"
        ],
        "columns": [
          "a.dup_yn",
          "#{materialId}",
          "#{trayCode}",
          "'')",
          "CASE",
          "29",
          "2))",
          "2)"
        ],
        "sql": "select a.dup_yn, ? as material_id, ? as tray_code, COALESCE(b.model,'') as model, CASE WHEN ISNUMERIC(SUBSTRING(?, 29,2)) = 1 THEN CAST(SUBSTRING(?, 29,2) AS INT) ELSE 0 END AS in_qty from ( SELECT CASE WHEN count(1) > 0 THEN 'Y' ELSE 'N' END AS dup_yn FROM dw_sub_mat_tray_in a WHERE a.material_id = ? and a.in_date = ? ) a left outer join ( select model from dw_tray_code_info a where tray_code = ? ) b on ( 1 = 1 )",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_in, dw_tray_code_info)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_tray_in a where upper(a.material_id)+in_date in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) + ? </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "checkInsertInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_tray_in a where upper(a.material_id)+in_date in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) + ? </foreach>",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectUseEquipList",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast",
          "dw_step_mast"
        ],
        "columns": [
          "a.line",
          "a.설비번호",
          "a.설비명",
          "a.설비약명",
          "a.chamber",
          "a.공정코드",
          "b.공정약어",
          "a.공정구분",
          "a.area",
          "a.비고"
        ],
        "sql": "SELECT a.line , a.설비번호 , a.설비명 , a.설비약명 , a.chamber , a.공정코드 , b.공정약어 as 공정명 , a.공정구분 as area_code , a.area , a.비고 FROM dw_equipment_mast a LEFT OUTER JOIN dw_step_mast b ON ( a.line = b.line and a.공정코드 = b.공정코드 ) where 1 = 1 and a.사용여부 = '1'",
        "description": "SELECT 쿼리 (dw_equipment_mast, dw_step_mast)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectMatTrayOut",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_out",
          "dw_sub_mat_tray_in",
          "dw_common_code",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.out_no",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "c.code_name",
          "a.work_date",
          "a.shift_code",
          "a.out_seq",
          "a.out_date",
          "a.out_time",
          "a.material_id",
          "a.in_date",
          "a.model",
          "a.worker_name",
          "a.line",
          "a.step_code",
          "a.step_nm",
          "a.equip_no",
          "a.equip_nm",
          "a.unit",
          "0)"
        ],
        "sql": "SELECT a.out_no, a.mat_type_code, a.sub_mat_type_code, c.code_name as sub_mat_type_name, a.work_date, a.shift_code, a.out_seq, a.out_date, a.out_time, a.material_id, a.in_date, a.model, a.worker_name, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.unit, isnull(b.remain_qty,0) remain_qty, isnull(b.remain_qty,0) + isnull(a.out_qty,0) as stock_qty, isnull(a.out_qty,0) out_qty, isnull(a.out_qty,0) as org_out_qty, isnull(a.use_qty,0) use_qty, isnull(a.error_qty,0) error_qty, a.comments, b.",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_out, dw_sub_mat_tray_in, dw_common_code, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectBarcodeInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_in",
          "dw_common_code"
        ],
        "columns": [
          "top",
          "a.in_date",
          "a.sub_mat_type_code",
          "b.code_name",
          "a.model",
          "a.tray_code",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.comments"
        ],
        "sql": "select top 1 a.material_id, a.in_date, a.sub_mat_type_code, b.code_name as sub_mat_type_name, a.model, a.tray_code, a.use_qty, a.remain_qty, a.remain_qty as stock_qty, a.use_yn, a.comments as in_comments from dw_sub_mat_tray_in a JOIN ( SELECT code, code_name from dw_common_code WHERE maj_code='81' ) b ON ( a.sub_mat_type_code = b.code ) where material_id = ? order by a.remain_qty desc",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_in, dw_common_code)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "checkRemainQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_tray_in a where upper(a.material_id) = upper(?) and in_date = ? and remain_qty - ? <![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "checkRemainDiffQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_tray_in a where upper(a.material_id) = upper(?) and in_date = ? and remain_qty - ( ? - ? )<![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_id_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_sub_mat_tray_id_stock",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_id_stock)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_id_stock"
        ],
        "columns": [],
        "sql": "select count(1) as cnt from dw_sub_mat_tray_id_stock where stock_date = ? and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_id_stock)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectSubMatTrayIdStock",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_id_stock",
          "dw_common_code",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "b.code_name",
          "a.model",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.use_qty",
          "a.error_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments"
        ],
        "sql": "SELECT a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, b.code_name as sub_mat_type_name, a.model, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.use_qty, a.error_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, case when c.status = 'CLOSE' then 'N' else 'Y' end as editable FROM dw_sub_mat_tray_id_stock a left outer join ( select code, code_name from dw_common_code where maj_code='81' ) b on ( a.sub",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_id_stock, dw_common_code, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_id_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_sub_mat_tray_id_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_id_stock)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectSubMatTrayMonthReport",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tray_stock",
          "basedata"
        ],
        "columns": [
          "model",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT model, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN '1' WHEN gubun = 'out_qty' THEN '2' WHEN gubun = 'loss_qty' THEN '3' WHEN gubun = 'use_qty' THEN '4' WHEN gubun = 'stock_qty' THEN '6' WHEN gubun = 'real_stock_qty' THEN '5' WHEN gubun = 'diff_qty' THEN '7' END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '투입' WHEN gubun = 'loss_qty' THEN '투입' WHEN gubun = 'use_qty' THEN '투입' ELSE '재고' END AS item_name1, CASE WHEN gu",
        "description": "SELECT 쿼리 (dw_sub_mat_tray_stock, basedata)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "selectTrayCodeInfo",
        "queryType": "select",
        "tables": [
          "dw_tray_code_info"
        ],
        "columns": [
          "tray_code",
          "model"
        ],
        "sql": "SELECT tray_code, model FROM dw_tray_code_info a where 1 = 1 order by tray_code, model",
        "description": "SELECT 쿼리 (dw_tray_code_info)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "checkTrayCodeData",
        "queryType": "select",
        "tables": [
          "dw_tray_code_info"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(tray_code, '/'), 'NoData') AS trayCode from dw_tray_code_info a where upper(a.tray_code) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_tray_code_info)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "insertInData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_sub_mat_tray_in ( material_id, mat_type_code, sub_mat_type_code, in_date, in_time, model, tray_code, unit, in_qty, use_qty, remain_qty, use_yn, worker_id, worker_name, comments, create_date, create_user ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, 0, ?, ?, ?, ?, ?, getdate(), ? )",
        "description": "INSERT 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "insertOutData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_tray_out"
        ],
        "columns": [
          "case",
          "'')",
          "12",
          "14)",
          "3)"
        ],
        "sql": "INSERT INTO dw_sub_mat_tray_out ( a.out_no, a.mat_type_code, a.sub_mat_type_code, a.work_date, a.shift_code, a.out_seq, a.out_date, a.out_time, a.material_id, a.in_date, a.model, a.worker_name, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.unit, a.out_qty, a.use_qty, a.error_qty, a.comments, a.create_date, a.create_user ) VALUES ( ( select case when isnull(max(out_no),'') = '' then 'TO' + ? + ? + '001' else 'TO' + ? + ? + RIGHT('000' + cast((cast(substring(max(out_no),12,14) as int) ",
        "description": "INSERT 쿼리 (dw_sub_mat_tray_out)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "insertSubMatTrayIdStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_tray_id_stock",
          "dw_sub_mat_tray_in",
          "dw_sub_mat_tray_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.model",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.use_qty",
          "a.error_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_tray_id_stock ( stock_date, material_id, mat_type_code, sub_mat_type_code, model, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, use_qty, error_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.model, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.use_qty, a.error_qty, ( a.prev_stock_qty + a.in_",
        "description": "INSERT 쿼리 (dw_sub_mat_tray_id_stock, dw_sub_mat_tray_in, dw_sub_mat_tray_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "insertSubMatTrayStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_tray_stock",
          "dw_sub_mat_tray_id_stock"
        ],
        "columns": [
          "a.stock_date",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.model",
          "a.unit",
          "0)",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_tray_stock ( stock_date, mat_type_code, sub_mat_type_code, model, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, use_qty, error_qty, stock_qty, real_stock_qty, diff_qty, create_date, create_user ) select a.stock_date, a.mat_type_code, a.sub_mat_type_code, a.model, a.unit, isnull(a.prev_stock_qty,0), isnull(a.prev_real_stock_qty,0), isnull(a.in_qty,0), isnull(a.out_qty,0), isnull(a.use_qty,0), isnull(a.error_qty,0), isnull(a.stock_qty,0), isnull(a.real_stock_qt",
        "description": "INSERT 쿼리 (dw_sub_mat_tray_stock, dw_sub_mat_tray_id_stock)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "updateInData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tray_in SET sub_mat_type_code = ?, worker_name = ?, in_qty = ?, remain_qty = ?, comments = ? WHERE material_id = ? and in_date = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tray_in SET use_qty = use_qty + ?, remain_qty = remain_qty - ?, use_yn = 'Y' WHERE material_id = ? and in_date = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tray_in SET use_qty = use_qty - ?, remain_qty = remain_qty + ?, use_yn = case when ( use_qty - ? ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ? and in_date = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "updateRemainDiffQty",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tray_in SET use_qty = use_qty + ( ? - ? ), remain_qty = remain_qty - ( ? - ? ), use_yn = case when ( use_qty + ( ? - ? ) ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ? and in_date = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "updateOutData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tray_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_tray_out SET worker_name = ?, line = ?, step_code = ?, step_nm = ?, equip_no = ?, equip_nm = ?, out_qty = isnull(?,0) + isnull(?,0), use_qty = ?, error_qty = ?, comments = ? WHERE out_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tray_out)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "updateSubMatTrayIdStock",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tray_id_stock"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_tray_id_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_tray_id_stock)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "updateTrayCodeInfo",
        "queryType": "update",
        "tables": [
          "dw_tray_code_info"
        ],
        "columns": [],
        "sql": "UPDATE dw_tray_code_info SET model = ? WHERE tray_code = ?",
        "description": "UPDATE 쿼리 (dw_tray_code_info)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "deleteInData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_tray_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_tray_in WHERE material_id = ? and in_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_tray_in)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "deleteOutData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_tray_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_tray_out WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_tray_out)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001005",
        "queryId": "deleteSubMatTrayIdStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_tray_id_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_tray_id_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_tray_id_stock)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "deleteSubMatTrayStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_tray_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_tray_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_tray_stock)"
      },
      {
        "mapperId": "M0001005",
        "queryId": "deleteTrayCodeInfo",
        "queryType": "delete",
        "tables": [
          "dw_tray_code_info"
        ],
        "columns": [],
        "sql": "delete from dw_tray_code_info where tray_code = ?",
        "description": "DELETE 쿼리 (dw_tray_code_info)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001006",
      "screenName": "Tab 0 공정전 입고",
      "menuPath": "Tab 0 공정전 입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001006.vue",
      "tabs": [
        "TAB001106",
        "TAB001206",
        "TAB001506",
        "TAB001306",
        "TAB001406"
      ],
      "description": "공정전 입고, 공정투입, 공정창고 반납, 재고실사, 재고현황"
    },
    "queries": [
      {
        "mapperId": "M0001006",
        "queryId": "selectMatChemicalIn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_in",
          "dw_sub_mat_chemical_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.in_date",
          "a.in_time",
          "a.chemical_name",
          "a.unit",
          "a.in_qty",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.worker_id",
          "a.worker_name",
          "a.comments",
          "b.out_comments",
          "a.create_date",
          "a.create_user",
          "case",
          "'N')"
        ],
        "sql": "SELECT a.material_id, a.mat_type_code, a.sub_mat_type_code, a.in_date, a.in_time, a.chemical_name, a.unit, a.in_qty, a.use_qty, a.remain_qty, a.use_yn, a.worker_id, a.worker_name, a.comments, b.out_comments, a.create_date, a.create_user, case when isnull(c.close_yn,'N') = 'N' and a.use_yn = 'N' then 'Y' else 'N' end as editable FROM dw_sub_mat_chemical_in a left outer join ( SELECT a.material_id, STRING_AGG(a.comments, ' / ') AS out_comments FROM dw_sub_mat_chemical_out a GROUP BY a.material_id ",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_in, dw_sub_mat_chemical_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectBarcodeChemicalInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_in",
          "dw_common_code"
        ],
        "columns": [
          "a.dup_yn",
          "#{materialId}",
          "#{subMatTypeCode}",
          "'')"
        ],
        "sql": "select a.dup_yn, ? as material_id, ? as sub_mat_type_code, COALESCE(b.code_name,'') as chemical_name from ( SELECT CASE WHEN count(1) > 0 THEN 'Y' ELSE 'N' END AS dup_yn FROM dw_sub_mat_chemical_in a WHERE a.material_id = ? ) a left outer join ( SELECT code, code_name from dw_common_code WHERE maj_code='80' and code = ? ) b on ( 1 = 1 )",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_in, dw_common_code)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_chemical_in a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "checkInsertInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_chemical_in a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectMatChemicalOut",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_out",
          "dw_sub_mat_chemical_in",
          "dw_sub_mat_chemical_return",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.out_no",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.work_date",
          "a.shift_code",
          "a.out_seq",
          "a.out_date",
          "a.out_time",
          "a.material_id",
          "a.chemical_name",
          "a.worker_name",
          "a.line",
          "a.step_code",
          "a.step_nm",
          "a.equip_no",
          "a.equip_nm",
          "a.unit",
          "0)",
          "0))",
          "a.comments"
        ],
        "sql": "SELECT a.out_no, a.mat_type_code, a.sub_mat_type_code, a.work_date, a.shift_code, a.out_seq, a.out_date, a.out_time, a.material_id, a.chemical_name, a.worker_name, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.unit, isnull(b.remain_qty,0) remain_qty, isnull(a.out_qty,0) as stock_qty, isnull(a.out_qty,0) out_qty, isnull(a.out_qty,0) as org_out_qty, isnull(a.return_qty,0) return_qty, ( isnull(a.out_qty,0) - isnull(a.return_qty,0)) as use_qty, a.comments, b.comments as in_comments, a.cr",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_out, dw_sub_mat_chemical_in, dw_sub_mat_chemical_return, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectUseEquipList",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [],
        "sql": "select * from ( SELECT distinct a.line , a.설비약명 FROM dw_equipment_mast a where 1 = 1 and a.사용여부 = '1' ) a order by line, 설비약명",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectBarcodeInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_in",
          "dw_sub_mat_chemical_return"
        ],
        "columns": [
          "a.material_id",
          "a.sub_mat_type_code",
          "a.chemical_name",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.comments",
          "b.return_no"
        ],
        "sql": "select a.material_id, a.sub_mat_type_code, a.chemical_name, a.use_qty, a.remain_qty, a.remain_qty as stock_qty, a.use_yn, a.comments as in_comments, b.return_no from dw_sub_mat_chemical_in a left outer join ( select * from dw_sub_mat_chemical_return where confirm_yn = 'N' ) b on ( a.material_id = b.material_id ) where a. material_id = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_in, dw_sub_mat_chemical_return)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "checkRemainQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_in",
          "dw_sub_mat_chemical_return"
        ],
        "columns": [
          "'LACK_QTY'",
          "material_id"
        ],
        "sql": "select 'LACK_QTY' as check_code, material_id from dw_sub_mat_chemical_in a where upper(a.material_id) = upper(?) and remain_qty - ? <![CDATA[ < 0 ]]> union all select 'RETURN_CONFIRM' as check_code, material_id from dw_sub_mat_chemical_return a where upper(a.material_id) = upper(?) and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_in, dw_sub_mat_chemical_return)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "checkRemainDiffQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_chemical_in a where upper(a.material_id) = upper(?) and remain_qty - ( ? - ? )<![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectMatChemicalReturn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_return",
          "dw_sub_mat_chemical_out",
          "dw_common_code",
          "dw_sub_mat_chemical_in",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.return_no",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.work_date",
          "a.shift_code",
          "c.code_name",
          "a.out_no",
          "b.out_seq",
          "b.out_date",
          "b.out_time",
          "a.material_id",
          "a.chemical_name",
          "b.worker_name",
          "b.equip_nm",
          "b.step_nm",
          "b.unit",
          "b.out_qty",
          "a.return_qty",
          "a.return_date",
          "a.return_time"
        ],
        "sql": "SELECT a.return_no, a.mat_type_code, a.sub_mat_type_code, a.work_date, a.shift_code, c.code_name as shift_name, a.out_no, b.out_seq, b.out_date, b.out_time, a.material_id, a.chemical_name, b.worker_name as out_worker_name, b.equip_nm, b.step_nm, b.unit, b.out_qty, a.return_qty as org_return_qty, a.return_qty, a.return_date, a.return_time, a.worker_name, a.comments, a.confirm_yn, a.create_date, a.create_user, case when isnull(e.close_yn, 'N') = 'N' and <![CDATA[ ( ( datepart(hour,getdate()) < 8 a",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_return, dw_sub_mat_chemical_out, dw_common_code, dw_sub_mat_chemical_in, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectBarcodeOutInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_out",
          "dw_common_code",
          "dw_sub_mat_chemical_return"
        ],
        "columns": [
          "a.out_no",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.work_date",
          "a.shift_code",
          "a.shift_name",
          "a.out_seq",
          "a.out_date",
          "a.out_time",
          "a.material_id",
          "a.chemical_name",
          "a.out_worker_name",
          "a.line",
          "a.step_code",
          "a.step_nm",
          "a.equip_no",
          "a.equip_nm",
          "a.unit",
          "a.out_qty",
          "b.return_no"
        ],
        "sql": "select a.out_no, a.mat_type_code, a.sub_mat_type_code, a.work_date, a.shift_code, a.shift_name, a.out_seq, a.out_date, a.out_time, a.material_id, a.chemical_name, a.out_worker_name, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.unit, a.out_qty, b.return_no, b.return_date, b.return_time, b.worker_name from ( select a.out_no, a.mat_type_code, a.sub_mat_type_code, a.work_date, a.shift_code, b.code_name as shift_name, a.out_seq, a.out_date, a.out_time, a.material_id, a.chemical_name, a.w",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_out, dw_common_code, dw_sub_mat_chemical_return)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "checkExistsReturnData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_return"
        ],
        "columns": [
          "return_no",
          "return_date",
          "return_time",
          "worker_name"
        ],
        "sql": "select return_no, return_date, return_time, worker_name from dw_sub_mat_chemical_return a where a.out_no = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_return)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "checkOrgReturnQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_return"
        ],
        "columns": [
          "return_qty"
        ],
        "sql": "select return_qty from dw_sub_mat_chemical_return a where a.return_no = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_return)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_id_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_sub_mat_chemical_id_stock",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_id_stock)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_id_stock"
        ],
        "columns": [],
        "sql": "select count(1) as cnt from dw_sub_mat_chemical_id_stock where stock_date = ? and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_id_stock)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectSubMatChemicalIdStock",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_id_stock",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.chemical_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.return_qty",
          "a.use_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments",
          "case"
        ],
        "sql": "SELECT a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.chemical_name, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.return_qty, a.use_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, case when c.status = 'CLOSE' then 'N' else 'Y' end as editable FROM dw_sub_mat_chemical_id_stock a left outer join ( select * from dw_mat_close_info where mat_category_code='30' and mat_type_code='CHEMICAL' ) c on (",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_id_stock, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_id_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_sub_mat_chemical_id_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_id_stock)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "selectSubMatChemicalMonthReport",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_chemical_stock",
          "basedata"
        ],
        "columns": [
          "sub_mat_type_code",
          "chemical_name",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT sub_mat_type_code, chemical_name, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN '1' WHEN gubun = 'out_qty' THEN '2' WHEN gubun = 'return_qty' THEN '3' WHEN gubun = 'use_qty' THEN '4' WHEN gubun = 'stock_qty' THEN '6' WHEN gubun = 'real_stock_qty' THEN '5' WHEN gubun = 'diff_qty' THEN '7' END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '불출' WHEN gubun = 'return_qty' THEN '반납' WHEN gubun = 'use_qty' THEN '사용' ELSE '재고' ",
        "description": "SELECT 쿼리 (dw_sub_mat_chemical_stock, basedata)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "insertInData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_sub_mat_chemical_in ( material_id, mat_type_code, sub_mat_type_code, in_date, in_time, chemical_name, unit, in_qty, use_qty, remain_qty, use_yn, worker_id, worker_name, comments, create_date, create_user ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, 0, ?, ?, ?, ?, ?, getdate(), ? )",
        "description": "INSERT 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "insertOutData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_chemical_out"
        ],
        "columns": [
          "case",
          "'')",
          "12",
          "14)",
          "3)"
        ],
        "sql": "INSERT INTO dw_sub_mat_chemical_out ( out_no, mat_type_code, sub_mat_type_code, work_date, shift_code, out_seq, out_date, out_time, material_id, chemical_name, worker_name, line, step_code, step_nm, equip_no, equip_nm, unit, out_qty, return_qty, comments, create_date, create_user ) VALUES ( ( select case when isnull(max(out_no),'') = '' then 'CO' + ? + ? + '001' else 'CO' + ? + ? + RIGHT('000' + cast((cast(substring(max(out_no),12,14) as int) + 1) as varchar),3) end as out_no from dw_sub_mat_che",
        "description": "INSERT 쿼리 (dw_sub_mat_chemical_out)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "insertReturnData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_chemical_return"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_sub_mat_chemical_return ( return_no, mat_type_code, sub_mat_type_code, work_date, shift_code, out_no, material_id, chemical_name, return_date, return_time, worker_name, unit, return_qty, comments, confirm_yn, create_date, create_user ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, ?, isnull(?,0), ?, ?, getdate(), ? )",
        "description": "INSERT 쿼리 (dw_sub_mat_chemical_return)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "insertSubMatChemicalIdStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_chemical_id_stock",
          "dw_sub_mat_chemical_in",
          "dw_sub_mat_chemical_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.chemical_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.return_qty",
          "a.use_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_chemical_id_stock ( stock_date, material_id, mat_type_code, sub_mat_type_code, chemical_name, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, return_qty, use_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.chemical_name, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.return_qty, a.use_qty, ( a.",
        "description": "INSERT 쿼리 (dw_sub_mat_chemical_id_stock, dw_sub_mat_chemical_in, dw_sub_mat_chemical_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "insertSubMatChemicalStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_chemical_stock",
          "dw_sub_mat_chemical_id_stock"
        ],
        "columns": [
          "a.stock_date",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.chemical_name",
          "a.unit",
          "0)",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_chemical_stock ( stock_date, mat_type_code, sub_mat_type_code, chemical_name, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, return_qty, use_qty, stock_qty, real_stock_qty, diff_qty, create_date, create_user ) select a.stock_date, a.mat_type_code, a.sub_mat_type_code, a.chemical_name, a.unit, isnull(a.prev_stock_qty,0), isnull(a.prev_real_stock_qty,0), isnull(a.in_qty,0), isnull(a.out_qty,0), isnull(a.return_qty,0), isnull(a.use_qty,0), isnull(a.stock_qty,0), ",
        "description": "INSERT 쿼리 (dw_sub_mat_chemical_stock, dw_sub_mat_chemical_id_stock)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateInData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_in SET worker_name = ?, in_qty = ?, remain_qty = ?, comments = ? WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_in SET use_qty = use_qty + ?, remain_qty = remain_qty - ?, use_yn = 'Y' WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_in SET use_qty = use_qty - ?, remain_qty = remain_qty + ?, use_yn = case when ( use_qty - ? ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateRemainDiffQty",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_in SET use_qty = use_qty + ( ? - ? ), remain_qty = remain_qty - ( ? - ? ), use_yn = case when ( use_qty + ( ? - ? ) ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateOutData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_out SET worker_name = ?, line = ?, step_code = ?, step_nm = ?, equip_no = ?, equip_nm = ?, out_qty = isnull(?,0), comments = ? WHERE out_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_out)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateReturnData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_return"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_return SET worker_name = ?, return_qty = isnull(?,0), confirm_yn = ?, comments = ? WHERE return_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_return)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateReturnQtyForOuData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_out SET return_qty = ? WHERE out_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_out)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateReturnQtyZeroForOuData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_out SET return_qty = 0 WHERE out_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_out)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateRemainQtyMinusForReturn",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_in SET use_qty = use_qty + ?, remain_qty = remain_qty - ? WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateRemainQtyPlusForReturn",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_in SET use_qty = use_qty - ?, remain_qty = remain_qty + ? WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateRemainDiffQtyForReturn",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_chemical_in SET use_qty = use_qty - ( ? - ? ), remain_qty = remain_qty + ( ? - ? ) WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "updateSubMatChemicalIdStock",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_chemical_id_stock"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_chemical_id_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_chemical_id_stock)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "deleteInData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_chemical_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_chemical_in WHERE material_id = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_chemical_in)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "deleteOutData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_chemical_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_chemical_out WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_chemical_out)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "deleteReturnData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_chemical_return"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_chemical_return WHERE return_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_chemical_return)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001006",
        "queryId": "deleteSubMatChemicalIdStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_chemical_id_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_chemical_id_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_chemical_id_stock)"
      },
      {
        "mapperId": "M0001006",
        "queryId": "deleteSubMatChemicalStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_chemical_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_chemical_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_chemical_stock)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001007",
      "screenName": "Tab 0 공정전 입고",
      "menuPath": "Tab 0 공정전 입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001007.vue",
      "tabs": [
        "TAB001107",
        "TAB001207",
        "TAB001307",
        "TAB001407"
      ],
      "description": "공정전 입고, 공정투입, 재고실사, 재고현황"
    },
    "queries": [
      {
        "mapperId": "M0001007",
        "queryId": "selectMatFilterIn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_in",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.in_no",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.in_date",
          "a.in_time",
          "a.filter_name",
          "a.unit",
          "a.in_qty",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.worker_id",
          "a.worker_name",
          "a.comments",
          "a.create_date",
          "a.create_user",
          "case",
          "'N')"
        ],
        "sql": "SELECT a.in_no, a.mat_type_code, a.sub_mat_type_code, a.in_date, a.in_time, a.filter_name, a.unit, a.in_qty, a.use_qty, a.remain_qty, a.use_yn, a.worker_id, a.worker_name, a.comments, a.create_date, a.create_user, case when isnull(c.close_yn,'N') = 'N' and a.use_yn = 'N' then 'Y' else 'N' end as editable FROM dw_sub_mat_filter_in a left outer join ( select * from dw_mat_close_info where mat_category_code ='40' and mat_type_code='FILTER' ) c on ( a.in_date = c.stock_date ) WHERE a.in_date between",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_in, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(in_no, '/'), 'NoData') AS inNo from dw_sub_mat_filter_in a where upper(a.in_no) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_in)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "selectMatFilterOut",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_out",
          "dw_sub_mat_filter_in",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.out_no",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.work_date",
          "a.shift_code",
          "a.out_seq",
          "a.out_date",
          "a.out_time",
          "a.filter_name",
          "a.worker_name",
          "a.line",
          "a.step_code",
          "a.step_nm",
          "a.equip_no",
          "a.equip_nm",
          "a.unit",
          "0)",
          "a.comments",
          "a.create_date",
          "a.create_user"
        ],
        "sql": "SELECT a.out_no, a.mat_type_code, a.sub_mat_type_code, a.work_date, a.shift_code, a.out_seq, a.out_date, a.out_time, a.filter_name, a.worker_name, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.unit, isnull(b.remain_qty,0) remain_qty, isnull(b.remain_qty,0) + isnull(a.out_qty,0) as stock_qty, isnull(a.out_qty,0) out_qty, isnull(a.out_qty,0) as org_out_qty, a.comments, a.create_date, a.create_user, case when isnull(d.close_yn, 'N') = 'N' and <![CDATA[ ( ( datepart(hour,getdate()) < 8 a",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_out, dw_sub_mat_filter_in, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "selectFilterInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_in"
        ],
        "columns": [
          "sub_mat_type_code",
          "filter_name"
        ],
        "sql": "select sub_mat_type_code , filter_name, sum(remain_qty) as remain_qty from dw_sub_mat_filter_in where sub_mat_type_code = ? and remain_qty > 0 group by sub_mat_type_code, filter_name",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_in)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "insertOutData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_out"
        ],
        "columns": [
          "case",
          "'')",
          "12",
          "14)",
          "3)"
        ],
        "sql": "INSERT INTO dw_sub_mat_filter_out ( out_no, mat_type_code, sub_mat_type_code, work_date, shift_code, out_seq, out_date, out_time, filter_name, worker_name, line, step_code, step_nm, equip_no, equip_nm, unit, out_qty, comments, create_date, create_user ) OUTPUT inserted.out_no VALUES ( ( select case when isnull(max(out_no),'') = '' then 'FO' + ? + ? + '001' else 'FO' + ? + ? + RIGHT('000' + cast((cast(substring(max(out_no),12,14) as int) + 1) as varchar),3) end as out_no from dw_sub_mat_filter_ou",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_out)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_sub_mat_filter_stock",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_stock)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_stock"
        ],
        "columns": [],
        "sql": "select count(1) as cnt from dw_sub_mat_filter_stock where stock_date = ? and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_stock)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "selectSubMatFilterStock",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_stock",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.filter_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments",
          "case"
        ],
        "sql": "SELECT a.stock_date, a.mat_type_code, a.sub_mat_type_code, a.filter_name, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, case when c.status = 'CLOSE' then 'N' else 'Y' end as editable FROM dw_sub_mat_filter_stock a left outer join ( select * from dw_mat_close_info where mat_category_code='40' and mat_type_code='FILTER' ) c on ( a.stock_date = c.stock_date ) where a.stock_date",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_stock, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_sub_mat_filter_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_stock)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "selectSubMatFilterMonthReport",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_filter_stock",
          "dw_sub_mat_filter_equip_out",
          "basedata",
          "equipdata"
        ],
        "columns": [
          "sub_mat_type_code",
          "filter_name",
          "'Total'",
          "''",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT sub_mat_type_code, filter_name, 'Total' as step, '' as equip, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN '1' WHEN gubun = 'out_qty' THEN '2' WHEN gubun = 'stock_qty' THEN '4' WHEN gubun = 'real_stock_qty' THEN '3' WHEN gubun = 'diff_qty' THEN '5' END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '사용' ELSE '재고' END AS item_name1, CASE WHEN gubun = 'stock_qty' THEN '전산' WHEN gubun = 'real_stock_qty' THEN '실물' WHEN gubu",
        "description": "SELECT 쿼리 (dw_sub_mat_filter_stock, dw_sub_mat_filter_equip_out, basedata, equipdata)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "insertInData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_filter_in",
          "dw_common_code"
        ],
        "columns": [
          "case",
          "'')",
          "11",
          "13)",
          "3)"
        ],
        "sql": "INSERT INTO dw_sub_mat_filter_in ( in_no, mat_type_code, sub_mat_type_code, in_date, in_time, filter_name, unit, in_qty, use_qty, remain_qty, use_yn, worker_id, worker_name, comments, create_date, create_user ) VALUES ( ( select case when isnull(max(in_no),'') = '' then 'FI' + ? + '001' else 'FI' + ? + RIGHT('000' + cast((cast(substring(max(in_no),11,13) as int) + 1) as varchar),3) end as in_no from dw_sub_mat_filter_in where in_date = ? ), ?, ?, ?, ?, ( select code_name from dw_common_code wher",
        "description": "INSERT 쿼리 (dw_sub_mat_filter_in, dw_common_code)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "insertOutDetailData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_filter_in",
          "dw_sub_mat_filter_out_detail",
          "fifo"
        ],
        "columns": [
          "in_no",
          "remain_qty"
        ],
        "sql": "WITH fifo AS ( SELECT in_no, remain_qty, SUM(remain_qty) OVER (ORDER BY in_no) AS cumulative_qty FROM dw_sub_mat_filter_in WHERE sub_mat_type_code = ? and remain_qty <![CDATA[ > ]]> 0 ) INSERT INTO dw_sub_mat_filter_out_detail ( out_no, in_no, use_qty, create_date, create_user ) select ?, in_no, out_qty, getdate(), ? from ( SELECT in_no, remain_qty, CASE WHEN cumulative_qty <![CDATA[ <= ]]> ? THEN remain_qty ELSE remain_qty - (cumulative_qty - ?) END AS out_qty FROM fifo WHERE cumulative_qty - r",
        "description": "INSERT 쿼리 (dw_sub_mat_filter_in, dw_sub_mat_filter_out_detail, fifo)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "insertSubMatFilterStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_filter_stock",
          "dw_sub_mat_filter_in",
          "dw_sub_mat_filter_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.filter_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_filter_stock ( stock_date, mat_type_code, sub_mat_type_code, filter_name, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.mat_type_code, a.sub_mat_type_code, a.filter_name, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, ( a.prev_stock_qty + a.in_qty - a.out_qty ) as stock_qty, case when b.status is null or",
        "description": "INSERT 쿼리 (dw_sub_mat_filter_stock, dw_sub_mat_filter_in, dw_sub_mat_filter_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "insertSubMatFilterEquipOut",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_filter_equip_out",
          "dw_sub_mat_filter_out"
        ],
        "columns": [
          "work_date",
          "mat_type_code",
          "sub_mat_type_code",
          "filter_name",
          "line",
          "step_code",
          "step_nm",
          "equip_no",
          "equip_nm",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_filter_equip_out ( stock_date, mat_type_code, sub_mat_type_code, filter_name, line, step_code, step_nm, equip_no, equip_nm, out_qty, create_date, create_user ) select work_date, mat_type_code, sub_mat_type_code, filter_name, line, step_code, step_nm, equip_no, equip_nm, sum(out_qty), getdate(), ? from dw_sub_mat_filter_out where work_date = ? GROUP BY work_date, mat_type_code, sub_mat_type_code, filter_name, line, step_code, step_nm, equip_no, equip_nm",
        "description": "INSERT 쿼리 (dw_sub_mat_filter_equip_out, dw_sub_mat_filter_out)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "updateInData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_filter_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_filter_in SET sub_mat_type_code = ?, filter_name = ?, worker_name = ?, in_qty = ?, remain_qty = ?, comments = ? WHERE in_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_filter_in)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "a",
          "dw_sub_mat_filter_in",
          "dw_sub_mat_filter_out_detail"
        ],
        "columns": [],
        "sql": "UPDATE a SET use_qty = a.use_qty + b.use_qty, remain_qty = a.remain_qty - b.use_qty, use_yn = 'Y' from dw_sub_mat_filter_in a join dw_sub_mat_filter_out_detail b on ( a.in_no = b.in_no ) WHERE b.out_no = ?",
        "description": "UPDATE 쿼리 (a, dw_sub_mat_filter_in, dw_sub_mat_filter_out_detail)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "a",
          "dw_sub_mat_filter_in",
          "dw_sub_mat_filter_out_detail"
        ],
        "columns": [],
        "sql": "UPDATE a SET use_qty = a.use_qty - b.use_qty, remain_qty = a.remain_qty + b.use_qty, use_yn = case when (a.use_qty - b.use_qty) <![CDATA[ <=0 ]]> then 'N' else 'Y' end from dw_sub_mat_filter_in a join dw_sub_mat_filter_out_detail b on ( a.in_no = b.in_no ) WHERE b.out_no = ?",
        "description": "UPDATE 쿼리 (a, dw_sub_mat_filter_in, dw_sub_mat_filter_out_detail)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "updateOutData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_filter_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_filter_out SET worker_name = ?, line = ?, step_code = ?, step_nm = ?, equip_no = ?, equip_nm = ?, out_qty = isnull(?,0), comments = ? WHERE out_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_filter_out)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "updateSubMatFilterStock",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_filter_stock"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_filter_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and mat_type_code = ? and sub_mat_type_code = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_filter_stock)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "deleteInData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_filter_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_filter_in WHERE in_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_filter_in)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "deleteOutDetailData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_filter_out_detail"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_filter_out_detail WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_filter_out_detail)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "deleteOutData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_filter_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_filter_out WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_filter_out)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001007",
        "queryId": "deleteSubMatFilterStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_filter_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_filter_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_filter_stock)"
      },
      {
        "mapperId": "M0001007",
        "queryId": "deleteSubMatFilterEquipOut",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_filter_equip_out"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_filter_equip_out where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_filter_equip_out)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001008",
      "screenName": "Tab 0 공정전 입고",
      "menuPath": "Tab 0 공정전 입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001008.vue",
      "tabs": [
        "TAB001108",
        "TAB001208",
        "TAB001308",
        "TAB001408"
      ],
      "description": "공정전 입고, 공정투입, 재고실사, 재고현황"
    },
    "queries": [
      {
        "mapperId": "M0001008",
        "queryId": "selectMatDummyIn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_in",
          "dw_sub_mat_dummy_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.in_date",
          "a.in_time",
          "a.size",
          "a.unit",
          "a.in_qty",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.worker_id",
          "a.worker_name",
          "a.comments",
          "b.out_comments",
          "a.create_date",
          "a.create_user",
          "case",
          "'N')"
        ],
        "sql": "SELECT a.material_id, a.mat_type_code, a.sub_mat_type_code, a.in_date, a.in_time, a.size, a.unit, a.in_qty, a.use_qty, a.remain_qty, a.use_yn, a.worker_id, a.worker_name, a.comments, b.out_comments, a.create_date, a.create_user, case when isnull(c.close_yn,'N') = 'N' and a.use_yn = 'N' then 'Y' else 'N' end as editable FROM dw_sub_mat_dummy_in a left outer join ( SELECT a.material_id, STRING_AGG(a.comments, ' / ') AS out_comments FROM dw_sub_mat_dummy_out a GROUP BY a.material_id ) b on ( a.mate",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_in, dw_sub_mat_dummy_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "selectBarcodeDupYn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [
          "CASE"
        ],
        "sql": "SELECT CASE WHEN count(1) <![CDATA[ > ]]> 0 THEN 'Y' ELSE 'N' END AS dupYn FROM dw_sub_mat_dummy_in a WHERE a.material_id = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_dummy_in a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "checkInsertInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(material_id, '/'), 'NoData') AS materialId from dw_sub_mat_dummy_in a where upper(a.material_id) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "selectMatDummyOut",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_out",
          "dw_sub_mat_dummy_in",
          "dw_common_code",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.out_no",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.work_date",
          "a.shift_code",
          "a.out_seq",
          "a.out_date",
          "a.out_time",
          "a.material_id",
          "c.code_name",
          "a.worker_name",
          "a.use_category",
          "a.line",
          "a.step_code",
          "a.step_nm",
          "a.equip_no",
          "a.equip_nm",
          "a.unit",
          "0)",
          "a.comments"
        ],
        "sql": "SELECT a.out_no, a.mat_type_code, a.sub_mat_type_code, a.work_date, a.shift_code, a.out_seq, a.out_date, a.out_time, a.material_id, c.code_name as size, a.worker_name, a.use_category, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.unit, isnull(b.remain_qty,0) remain_qty, isnull(b.remain_qty,0) + isnull(a.out_qty,0) as stock_qty, isnull(a.out_qty,0) out_qty, isnull(a.out_qty,0) as org_out_qty, isnull(a.error_work_qty,0) error_work_qty, isnull(a.error_mat_qty,0) error_mat_qty, a.comment",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_out, dw_sub_mat_dummy_in, dw_common_code, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "selectBarcodeInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [
          "a.material_id",
          "a.sub_mat_type_code",
          "a.size",
          "a.unit",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.comments"
        ],
        "sql": "select a.material_id, a.sub_mat_type_code, a.size, a.unit, a.use_qty, a.remain_qty, a.remain_qty as stock_qty, a.use_yn, a.comments as in_comments from dw_sub_mat_dummy_in a where material_id = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "checkRemainQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_dummy_in a where upper(a.material_id) = upper(?) and remain_qty - ? <![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "checkRemainDiffQty",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id from dw_sub_mat_dummy_in a where upper(a.material_id) = upper(?) and remain_qty - ( ? - ? )<![CDATA[ < 0 ]]>",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "insertOutData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_out",
          "dw_common_code"
        ],
        "columns": [
          "case",
          "'')",
          "12",
          "14)",
          "3)"
        ],
        "sql": "INSERT INTO dw_sub_mat_dummy_out ( out_no, mat_type_code, sub_mat_type_code, work_date, shift_code, out_seq, out_date, out_time, material_id, worker_name, use_category, line, step_code, step_nm, equip_no, equip_nm, unit, out_qty, error_work_qty, error_mat_qty, comments, create_date, create_user ) OUTPUT inserted.out_no VALUES ( ( select case when isnull(max(out_no),'') = '' then 'DO' + ? + ? + '001' else 'DO' + ? + ? + RIGHT('000' + cast((cast(substring(max(out_no),12,14) as int) + 1) as varchar",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_out, dw_common_code)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_id_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_sub_mat_dummy_id_stock",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_id_stock)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_id_stock"
        ],
        "columns": [],
        "sql": "select count(1) as cnt from dw_sub_mat_dummy_id_stock where stock_date = ? and confirm_yn = 'N'",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_id_stock)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "selectSubMatDummyIdStock",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_id_stock",
          "dw_common_code",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "b.code_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.error_work_qty",
          "a.error_mat_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments",
          "case"
        ],
        "sql": "SELECT a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, b.code_name as size, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.error_work_qty, a.error_mat_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, case when c.status = 'CLOSE' then 'N' else 'Y' end as editable FROM dw_sub_mat_dummy_id_stock a left outer join ( select code, code_name from dw_common_code where maj_code='92' ) b on ( a.sub_mat_type_",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_id_stock, dw_common_code, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_id_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_sub_mat_dummy_id_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_id_stock)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "selectSubMatDummyMonthReport",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_dummy_stock",
          "dw_sub_mat_dummy_out",
          "outdata",
          "dw_common_code",
          "basedata",
          "outsumdata",
          "dw_sub_mat_tool_stock"
        ],
        "columns": [
          "sub_mat_type_code",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT sub_mat_type_code, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN 10 WHEN gubun = 'out_qty' THEN 20 WHEN gubun = 'loss_qty' THEN 30 WHEN gubun = 'real_stock_qty' THEN 50 WHEN gubun = 'stock_qty' THEN 60 WHEN gubun = 'diff_qty' THEN 70 END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '투입' WHEN gubun = 'loss_qty' THEN 'Loss' ELSE '재고' END AS item_name1, CASE WHEN gubun = 'in_qty' THEN '' WHEN gubun = 'out_qty' THEN '' WHE",
        "description": "SELECT 쿼리 (dw_sub_mat_dummy_stock, dw_sub_mat_dummy_out, outdata, dw_common_code, basedata, outsumdata, dw_sub_mat_tool_stock)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "insertInData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_dummy_in",
          "dw_common_code"
        ],
        "columns": [
          "code_name"
        ],
        "sql": "INSERT INTO dw_sub_mat_dummy_in ( material_id, mat_type_code, sub_mat_type_code, in_date, in_time, size, unit, in_qty, use_qty, remain_qty, use_yn, worker_id, worker_name, comments, create_date, create_user ) VALUES ( ?, ?, ?, ?, ?, ( select code_name from dw_common_code where maj_code='92' and code=?), ?, ?, 0, ?, ?, ?, ?, ?, getdate(), ? )",
        "description": "INSERT 쿼리 (dw_sub_mat_dummy_in, dw_common_code)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "insertSubMatDummyIdStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_dummy_id_stock",
          "dw_sub_mat_dummy_in",
          "dw_sub_mat_dummy_out",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.material_id",
          "a.mat_type_code",
          "a.sub_mat_type_code",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.error_work_qty",
          "a.error_mat_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_dummy_id_stock ( stock_date, material_id, mat_type_code, sub_mat_type_code, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, error_work_qty, error_mat_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.material_id, a.mat_type_code, a.sub_mat_type_code, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.error_work_qty, a.error_mat_qty, ( a.prev_stock_qty ",
        "description": "INSERT 쿼리 (dw_sub_mat_dummy_id_stock, dw_sub_mat_dummy_in, dw_sub_mat_dummy_out, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "insertSubMatDummyStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_dummy_stock",
          "dw_sub_mat_dummy_id_stock"
        ],
        "columns": [
          "stock_date",
          "mat_type_code",
          "sub_mat_type_code",
          "unit",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_dummy_stock ( stock_date, mat_type_code, sub_mat_type_code, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, error_work_qty, error_mat_qty, stock_qty, real_stock_qty, diff_qty, create_date, create_user ) select stock_date, mat_type_code, sub_mat_type_code, unit, sum(prev_stock_qty) as prev_stock_qty, sum(prev_real_stock_qty) as prev_real_stock_qty, sum(in_qty) as in_qty, sum(out_qty) as out_qty, sum(error_work_qty) as error_work_qty, sum(error_mat_qty) as error_",
        "description": "INSERT 쿼리 (dw_sub_mat_dummy_stock, dw_sub_mat_dummy_id_stock)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "updateInData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_dummy_in",
          "dw_common_code"
        ],
        "columns": [
          "code_name"
        ],
        "sql": "UPDATE dw_sub_mat_dummy_in SET sub_mat_type_code = ?, size = ( select code_name from dw_common_code where maj_code='92' and code=?), worker_name = ?, in_qty = ?, remain_qty = ?, comments = ? WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_dummy_in, dw_common_code)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_dummy_in SET use_qty = use_qty + ?, remain_qty = remain_qty - ?, use_yn = 'Y' WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_dummy_in SET use_qty = use_qty - ?, remain_qty = remain_qty + ?, use_yn = case when ( use_qty - ? ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "updateRemainDiffQty",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_dummy_in SET use_qty = use_qty + ( ? - ? ), remain_qty = remain_qty - ( ? - ? ), use_yn = case when ( use_qty + ( ? - ? ) ) <![CDATA[ <=0 ]]> then 'N' else 'Y' end WHERE material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "updateOutData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_dummy_out",
          "dw_common_code"
        ],
        "columns": [
          "code_name"
        ],
        "sql": "UPDATE dw_sub_mat_dummy_out SET worker_name = ?, line = ?, step_code = ?, step_nm = ?, equip_no = case when ? = 'E' then ? else ? end, equip_nm = case when ? = 'E' then ( select code_name from dw_common_code where maj_code='90' and code= ? ) else ? end, out_qty = isnull(?,0), error_work_qty = isnull(?,0), error_mat_qty = isnull(?,0), comments = ? WHERE out_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_dummy_out, dw_common_code)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "updateSubMatDummyIdStock",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_dummy_id_stock"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_dummy_id_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and material_id = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_dummy_id_stock)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "deleteInData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_dummy_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_dummy_in WHERE material_id = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_dummy_in)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "deleteOutData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_dummy_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_dummy_out WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_dummy_out)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001008",
        "queryId": "deleteSubMatDummyIdStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_dummy_id_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_dummy_id_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_dummy_id_stock)"
      },
      {
        "mapperId": "M0001008",
        "queryId": "deleteSubMatDummyStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_dummy_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_dummy_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_dummy_stock)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001009",
      "screenName": "Tab 0 공정전 입고",
      "menuPath": "Tab 0 공정전 입고",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001009.vue",
      "tabs": [
        "TAB001109",
        "TAB001209",
        "TAB001309",
        "TAB001409",
        "TAB001509"
      ],
      "description": "공정전 입고, 공정투입, 재고실사, 재고현황, 품목관리"
    },
    "queries": [
      {
        "mapperId": "M0001009",
        "queryId": "selectMatEtcIn",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_in",
          "dw_mat_category",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.in_no",
          "a.mat_category_code",
          "b.mat_category_name",
          "a.mat_type_code",
          "b.mat_type_name",
          "a.in_date",
          "a.in_time",
          "a.unit",
          "a.in_qty",
          "a.use_qty",
          "a.remain_qty",
          "a.use_yn",
          "a.worker_id",
          "a.worker_name",
          "a.comments",
          "case",
          "'N')"
        ],
        "sql": "SELECT a.in_no, a.mat_category_code, b.mat_category_name, a.mat_type_code, b.mat_type_name, a.in_date, a.in_time, a.unit, a.in_qty, a.use_qty, a.remain_qty, a.use_yn, a.worker_id, a.worker_name, a.comments, case when isnull(c.close_yn,'N') = 'N' and a.use_yn = 'N' then 'Y' else 'N' end as editable FROM dw_sub_mat_etc_in a left outer join dw_mat_category b on ( a.mat_category_code = b.mat_category_code and a.mat_type_code = b.mat_type_code ) left outer join dw_mat_close_info c on ( a.mat_category",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_in, dw_mat_category, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "checkUseInData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(in_no, '/'), 'NoData') AS inNo from dw_sub_mat_etc_in a where upper(a.in_no) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach> and a.use_yn = 'Y'",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_in)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectMatEtcOut",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_out",
          "dw_sub_mat_etc_in",
          "dw_mat_category",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.out_no",
          "a.mat_category_code",
          "c.mat_category_name",
          "a.mat_type_code",
          "c.mat_type_name",
          "a.work_date",
          "a.shift_code",
          "a.out_seq",
          "a.out_date",
          "a.out_time",
          "a.worker_name",
          "a.line",
          "a.step_code",
          "a.step_nm",
          "a.equip_no",
          "a.equip_nm",
          "a.unit",
          "0)",
          "a.comments",
          "a.create_date"
        ],
        "sql": "SELECT a.out_no, a.mat_category_code, c.mat_category_name, a.mat_type_code, c.mat_type_name, a.work_date, a.shift_code, a.out_seq, a.out_date, a.out_time, a.worker_name, a.line, a.step_code, a.step_nm, a.equip_no, a.equip_nm, a.unit, isnull(b.remain_qty,0) remain_qty, isnull(b.remain_qty,0) + isnull(a.out_qty,0) as stock_qty, isnull(a.out_qty,0) out_qty, isnull(a.out_qty,0) as org_out_qty, a.comments, a.create_date, a.create_user, case when isnull(d.close_yn, 'N') = 'N' and <![CDATA[ ( ( datepar",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_out, dw_sub_mat_etc_in, dw_mat_category, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectEtcInfo",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_in",
          "dw_mat_category"
        ],
        "columns": [
          "a.mat_category_code",
          "b.mat_category_name",
          "a.mat_type_code",
          "b.mat_type_name"
        ],
        "sql": "select a.mat_category_code, b.mat_category_name, a.mat_type_code, b.mat_type_name, sum(remain_qty) as remain_qty from dw_sub_mat_etc_in a join dw_mat_category b on ( a.mat_category_code = b.mat_category_code and a.mat_type_code = b.mat_type_code ) where a.mat_category_code = ? and a.mat_type_code = ? and a.remain_qty > 0 group by a.mat_category_code, b.mat_category_name, a.mat_type_code, b.mat_type_name",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_in, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "insertOutData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_out"
        ],
        "columns": [
          "case",
          "'')",
          "23",
          "25)",
          "3)"
        ],
        "sql": "INSERT INTO dw_sub_mat_etc_out ( out_no, mat_category_code, mat_type_code, work_date, shift_code, out_seq, out_date, out_time, worker_name, line, step_code, step_nm, equip_no, equip_nm, unit, out_qty, comments, create_date, create_user ) OUTPUT inserted.out_no VALUES ( ( select case when isnull(max(out_no),'') = '' then 'O' + ? + '_' + ? + '_' + ? + ? + '001' else 'O' + ? + '_' + ? + '_' + ? + ? + RIGHT('000' + cast((cast(substring(max(out_no),23,25) as int) + 1) as varchar),3) end as out_no fro",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_out)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectStockStatus",
        "queryType": "select",
        "tables": [
          "dw_mat_close_info",
          "dw_mat_category"
        ],
        "columns": [
          "top"
        ],
        "sql": "select top 1 a.status from dw_mat_close_info a left outer join dw_mat_category b on ( a.mat_category_code = b.mat_category_code and a.mat_type_code = b.mat_type_code ) where b.etc_yn = 'Y' and a.stock_date = ?",
        "description": "SELECT 쿼리 (dw_mat_close_info, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectPreStockStatus",
        "queryType": "select",
        "tables": [
          "dw_mat_close_info",
          "dw_mat_category"
        ],
        "columns": [
          "top"
        ],
        "sql": "select top 1 status from dw_mat_close_info a left outer join dw_mat_category b on ( a.mat_category_code = b.mat_category_code and a.mat_type_code = b.mat_type_code ) where b.etc_yn = 'Y' and a.stock_date = CONVERT(VARCHAR(8), DATEADD(DAY, -1, ? ), 112)",
        "description": "SELECT 쿼리 (dw_mat_close_info, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectMaxStockDate",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_stock"
        ],
        "columns": [
          "9",
          "112))",
          "112)"
        ],
        "sql": "SELECT CONVERT(VARCHAR(8), ISNULL(max(stock_date), CONVERT(VARCHAR(8), DATEADD(HOUR, 9, GETUTCDATE()), 112)), 112) AS stockDate FROM dw_sub_mat_etc_stock",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_stock)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectConfirmN",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_stock",
          "dw_mat_category"
        ],
        "columns": [
          "a.mat_category_code",
          "b.mat_category_name",
          "a.mat_type_code",
          "b.mat_type_name"
        ],
        "sql": "select a.mat_category_code, b.mat_category_name, a.mat_type_code, b.mat_type_name, count(1) as cnt from dw_sub_mat_etc_stock a join dw_mat_category b on ( a.mat_category_code = b.mat_category_code and a.mat_type_code = b.mat_type_code ) where a.stock_date = ? and a.confirm_yn = 'N' group by a.mat_category_code, b.mat_category_name, a.mat_type_code, b.mat_type_name",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_stock, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectSubMatEtcStock",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_stock",
          "dw_mat_category",
          "dw_mat_close_info"
        ],
        "columns": [
          "a.stock_date",
          "a.mat_category_code",
          "b.mat_category_name",
          "a.mat_type_code",
          "b.mat_type_name",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "a.stock_qty",
          "a.real_stock_qty",
          "a.diff_qty",
          "a.confirm_yn",
          "a.charger_id",
          "a.charger_name",
          "a.comments",
          "case"
        ],
        "sql": "SELECT a.stock_date, a.mat_category_code, b.mat_category_name, a.mat_type_code, b.mat_type_name, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, a.stock_qty, a.real_stock_qty, a.diff_qty, a.confirm_yn, a.charger_id, a.charger_name, a.comments, case when c.status = 'CLOSE' then 'N' else 'Y' end as editable FROM dw_sub_mat_etc_stock a left outer join dw_mat_category b on ( a.mat_category_code = b.mat_category_code and a.mat_type_code = b.mat_type_code) left outer join dw_mat_",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_stock, dw_mat_category, dw_mat_close_info)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "createTempMatStockTable",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_stock"
        ],
        "columns": [],
        "sql": "SELECT * INTO ? FROM dw_sub_mat_etc_stock WHERE stock_date = ?",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_stock)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectSubMatEtcMonthReport",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_stock",
          "basedata",
          "dw_mat_category"
        ],
        "columns": [
          "mat_category_code",
          "mat_type_code",
          "stock_date",
          "sort_order",
          "gubun",
          "CASE",
          "qty"
        ],
        "sql": "WITH BaseData AS ( SELECT mat_category_code, mat_type_code, stock_date, sort_order, gubun, CASE WHEN gubun = 'in_qty' THEN '1' WHEN gubun = 'out_qty' THEN '2' WHEN gubun = 'stock_qty' THEN '4' WHEN gubun = 'real_stock_qty' THEN '3' WHEN gubun = 'diff_qty' THEN '5' END AS item_order, CASE WHEN gubun = 'in_qty' THEN '입고' WHEN gubun = 'out_qty' THEN '사용' ELSE '재고' END AS item_name1, CASE WHEN gubun = 'stock_qty' THEN '전산' WHEN gubun = 'real_stock_qty' THEN '실물' WHEN gubun = 'diff_qty' THEN '차이' ELS",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_stock, basedata, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectMatCategoryList",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_in",
          "dw_mat_category"
        ],
        "columns": [
          "a.mat_category_code",
          "a.mat_type_code",
          "a.mat_category_name",
          "a.mat_type_name",
          "a.unit_code",
          "a.unit",
          "a.etc_yn",
          "CASE"
        ],
        "sql": "SELECT a.mat_category_code, a.mat_type_code, a.mat_category_name, a.mat_type_name, a.unit_code, a.unit, a.etc_yn, CASE WHEN EXISTS ( SELECT 1 FROM dw_sub_mat_etc_in b WHERE b.mat_category_code = a.mat_category_code AND b.mat_type_code = a.mat_type_code ) THEN 'N' ELSE 'Y' END AS editable FROM dw_mat_category a where 1 = 1 order by a.mat_category_code, a.mat_type_code",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_in, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectMatCategoryStatusList",
        "queryType": "select",
        "tables": [
          "dw_mat_category"
        ],
        "columns": [
          "a.mat_category_code",
          "a.mat_type_code",
          "a.mat_category_name",
          "a.mat_type_name",
          "a.etc_yn"
        ],
        "sql": "SELECT a.mat_category_code, a.mat_type_code, a.mat_category_name, a.mat_type_name, a.etc_yn FROM dw_mat_category a where etc_yn = 'N' union all SELECT 'ETC', '', '포장재/기타자재', '전체', 'Y' etc_yn",
        "description": "SELECT 쿼리 (dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "checkUsedInMatCategoryData",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_etc_in"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(a.mat_category_code + ' ' + a.mat_type_code, '/'), 'NoData') AS matCategory from dw_sub_mat_etc_in a where ( upper(a.mat_category_code) + upper(a.mat_type_code) ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) + upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_sub_mat_etc_in)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "checkMatCategoryData",
        "queryType": "select",
        "tables": [
          "dw_mat_category"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(a.mat_category_code + ' ' + a.mat_type_code, '/'), 'NoData') AS matCategory from dw_mat_category a where ( upper(a.mat_category_code) + upper(a.mat_type_code) ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) + upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "selectEtcYnList",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "SELECT code item_value, code_name item_text FROM dw_common_code WHERE maj_code = ? and use_yn = 1 and etc1 = 'Y' order by sort_order,code",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "insertInData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_etc_in"
        ],
        "columns": [
          "case",
          "'')",
          "20",
          "22)",
          "3)"
        ],
        "sql": "INSERT INTO dw_sub_mat_etc_in ( in_no, mat_category_code, mat_type_code, in_date, in_time, unit, in_qty, use_qty, remain_qty, use_yn, worker_id, worker_name, comments, create_date, create_user ) VALUES ( ( select case when isnull(max(in_no),'') = '' then 'I' + ? + '_' + ? + '_' + ? + '001' else 'I' + ? + '_' + ? + '_' + ? + RIGHT('000' + cast((cast(substring(max(in_no),20,22) as int) + 1) as varchar),3) end as in_no from dw_sub_mat_etc_in where mat_category_code = ? and mat_type_code = ? and in_",
        "description": "INSERT 쿼리 (dw_sub_mat_etc_in)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "insertOutDetailData",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_etc_in",
          "dw_sub_mat_etc_out_detail",
          "fifo"
        ],
        "columns": [
          "in_no",
          "remain_qty"
        ],
        "sql": "WITH fifo AS ( SELECT in_no, remain_qty, SUM(remain_qty) OVER (ORDER BY in_no) AS cumulative_qty FROM dw_sub_mat_etc_in WHERE mat_category_code = ? and mat_type_code = ? and remain_qty <![CDATA[ > ]]> 0 ) INSERT INTO dw_sub_mat_etc_out_detail ( out_no, in_no, use_qty, create_date, create_user ) select ?, in_no, out_qty, getdate(), ? from ( SELECT in_no, remain_qty, CASE WHEN cumulative_qty <![CDATA[ <= ]]> ? THEN remain_qty ELSE remain_qty - (cumulative_qty - ?) END AS out_qty FROM fifo WHERE cu",
        "description": "INSERT 쿼리 (dw_sub_mat_etc_in, dw_sub_mat_etc_out_detail, fifo)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "insertMatCloseInfo",
        "queryType": "insert",
        "tables": [
          "dw_mat_close_info",
          "dw_mat_category",
          "set"
        ],
        "columns": [
          "#{stockDate}",
          "a.mat_category_code",
          "a.mat_type_code"
        ],
        "sql": "MERGE INTO dw_mat_close_info AS target USING ( SELECT ? AS stock_date, a.mat_category_code, a.mat_type_code from dw_mat_category a where a.etc_yn = 'Y' ) AS source ON target.stock_date = source.stock_date AND target.mat_category_code = source.mat_category_code AND target.mat_type_code = source.mat_type_code WHEN MATCHED THEN UPDATE SET stock_summary_yn = 'Y', stock_summary_date = GETDATE(), stock_summary_charger = ?, update_date = GETDATE(), update_user = ? WHEN NOT MATCHED THEN INSERT ( stock_d",
        "description": "INSERT 쿼리 (dw_mat_close_info, dw_mat_category, set)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "insertSubMatEtcStock",
        "queryType": "insert",
        "tables": [
          "dw_sub_mat_etc_stock",
          "dw_sub_mat_etc_in",
          "dw_sub_mat_etc_out",
          "dw_mat_close_info",
          "dw_mat_category"
        ],
        "columns": [
          "a.stock_date",
          "a.mat_category_code",
          "a.mat_type_code",
          "a.unit",
          "a.prev_stock_qty",
          "a.prev_real_stock_qty",
          "a.in_qty",
          "a.out_qty",
          "case",
          "#{workerId}"
        ],
        "sql": "INSERT INTO dw_sub_mat_etc_stock ( stock_date, mat_category_code, mat_type_code, unit, prev_stock_qty, prev_real_stock_qty, in_qty, out_qty, stock_qty, real_stock_qty, diff_qty, confirm_yn, charger_id, charger_name, comments, create_date, create_user ) select a.stock_date, a.mat_category_code, a.mat_type_code, a.unit, a.prev_stock_qty, a.prev_real_stock_qty, a.in_qty, a.out_qty, ( a.prev_stock_qty + a.in_qty - a.out_qty ) as stock_qty, case when b.status is null or b.status = 'SUMMARY' or b.real",
        "description": "INSERT 쿼리 (dw_sub_mat_etc_stock, dw_sub_mat_etc_in, dw_sub_mat_etc_out, dw_mat_close_info, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "updateInData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_etc_in"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_etc_in SET worker_name = ?, in_qty = ?, remain_qty = ?, comments = ? WHERE in_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_etc_in)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "updateRemainQtyMinus",
        "queryType": "update",
        "tables": [
          "a",
          "dw_sub_mat_etc_in",
          "dw_sub_mat_etc_out_detail"
        ],
        "columns": [],
        "sql": "UPDATE a SET use_qty = a.use_qty + b.use_qty, remain_qty = a.remain_qty - b.use_qty, use_yn = 'Y' from dw_sub_mat_etc_in a join dw_sub_mat_etc_out_detail b on ( a.in_no = b.in_no ) WHERE b.out_no = ?",
        "description": "UPDATE 쿼리 (a, dw_sub_mat_etc_in, dw_sub_mat_etc_out_detail)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "updateRemainQtyPlus",
        "queryType": "update",
        "tables": [
          "a",
          "dw_sub_mat_etc_in",
          "dw_sub_mat_etc_out_detail"
        ],
        "columns": [],
        "sql": "UPDATE a SET use_qty = a.use_qty - b.use_qty, remain_qty = a.remain_qty + b.use_qty, use_yn = case when (a.use_qty - b.use_qty) <![CDATA[ <=0 ]]> then 'N' else 'Y' end from dw_sub_mat_etc_in a join dw_sub_mat_etc_out_detail b on ( a.in_no = b.in_no ) WHERE b.out_no = ?",
        "description": "UPDATE 쿼리 (a, dw_sub_mat_etc_in, dw_sub_mat_etc_out_detail)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "updateOutData",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_etc_out"
        ],
        "columns": [],
        "sql": "UPDATE dw_sub_mat_etc_out SET worker_name = ?, line = ?, step_code = ?, step_nm = ?, equip_no = ?, equip_nm = ?, out_qty = isnull(?,0), comments = ? WHERE out_no = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_etc_out)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "updatetMatCloseInfo",
        "queryType": "update",
        "tables": [
          "dw_mat_close_info",
          "dw_mat_category"
        ],
        "columns": [
          "1"
        ],
        "sql": "update dw_mat_close_info set status = ?, update_date = getdate(), update_user = ? where stock_date = ? and exists ( select 1 from dw_mat_category b where b.etc_yn = 'Y' and dw_mat_close_info.mat_category_code = b.mat_category_code and dw_mat_close_info.mat_type_code = b.mat_type_code )",
        "description": "UPDATE 쿼리 (dw_mat_close_info, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "updateSubMatEtcStock",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_etc_stock"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_etc_stock set charger_name = ?, real_stock_qty = isnull(?,0), diff_qty = isnull(?,0) - stock_qty, confirm_yn = ?, comments = ? where stock_date = ? and mat_category_code = ? and mat_type_code = ?",
        "description": "UPDATE 쿼리 (dw_sub_mat_etc_stock)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "updateMatCategory",
        "queryType": "update",
        "tables": [
          "dw_mat_category"
        ],
        "columns": [],
        "sql": "UPDATE dw_mat_category SET mat_type_code = ?, mat_type_name = ?, unit_code = ?, unit = ? WHERE mat_category_code = ? and mat_type_code = ?",
        "description": "UPDATE 쿼리 (dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "deleteInData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_etc_in"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_etc_in WHERE in_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_etc_in)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "deleteOutDetailData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_etc_out_detail"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_etc_out_detail WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_etc_out_detail)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "deleteOutData",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_etc_out"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_sub_mat_etc_out WHERE out_no = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_etc_out)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "deletetMatCloseInfo",
        "queryType": "delete",
        "tables": [
          "dw_mat_close_info",
          "dw_mat_category"
        ],
        "columns": [
          "1"
        ],
        "sql": "delete from dw_mat_close_info where stock_date = ? and exists ( select 1 from dw_mat_category b where b.etc_yn = 'Y' and dw_mat_close_info.mat_category_code = b.mat_category_code and dw_mat_close_info.mat_type_code = b.mat_type_code )",
        "description": "DELETE 쿼리 (dw_mat_close_info, dw_mat_category)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "dropTempMatStockTable",
        "queryType": "delete",
        "tables": [],
        "columns": [],
        "sql": "DROP TABLE ?",
        "description": "DELETE 쿼리 ()"
      },
      {
        "mapperId": "M0001009",
        "queryId": "deleteSubMatEtcStock",
        "queryType": "delete",
        "tables": [
          "dw_sub_mat_etc_stock"
        ],
        "columns": [],
        "sql": "delete from dw_sub_mat_etc_stock where stock_date = ?",
        "description": "DELETE 쿼리 (dw_sub_mat_etc_stock)"
      },
      {
        "mapperId": "M0001009",
        "queryId": "deleteMatCategory",
        "queryType": "delete",
        "tables": [
          "dw_mat_category"
        ],
        "columns": [],
        "sql": "delete from dw_mat_category WHERE mat_category_code = ? and mat_type_code = ?",
        "description": "DELETE 쿼리 (dw_mat_category)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0001010",
      "screenName": "Tab 0 자재 마스터",
      "menuPath": "Tab 0 자재 마스터",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0001000/M0001010.vue",
      "tabs": [
        "TAB001701"
      ],
      "description": "자재 마스터"
    },
    "queries": [
      {
        "mapperId": "M0001010",
        "queryId": "M0001010_Sch1",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "select * from d04_자재마스터파일 order by 자재코드,호환코드,자재품명",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0001010",
        "queryId": "M0001010_Insert1",
        "queryType": "insert",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "INSERT INTO d04_자재마스터파일 ( 자재코드,호환코드,자재품명,P_CODE,자재재질,자재두께,자재규격,자재단위,단가,공급단위,사용량_cell,사용처,납기,매입처,비고,사용여부 ) VALUES ( #{자재코드}, #{호환코드}, #{자재품명}, ?, #{자재재질}, #{자재두께}, #{자재규격}, #{자재단위}, #{단가}, #{공급단위}, #{사용량Cell}, #{사용처}, #{납기}, #{매입처}, #{비고}, #{사용여부} )",
        "description": "INSERT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0001010",
        "queryId": "M0001010_Update1",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "UPDATE d04_자재마스터파일 SET 호환코드 = #{호환코드} ,자재품명 = #{자재품명} ,P_CODE = ? ,자재재질 = #{자재재질} ,자재두께 = #{자재두께} ,자재규격 = #{자재규격} ,자재단위 = #{자재단위} ,단가 = #{단가} ,공급단위 = #{공급단위} ,사용량_cell = #{사용량Cell} ,사용처 = #{사용처} ,납기 = #{납기} ,매입처 = #{매입처} ,비고 = #{비고} ,사용여부 = #{사용여부} WHERE 1=1 and 자재코드 = #{자재코드} and 자재코드 is not null",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0001010",
        "queryId": "M0001010_Delete1",
        "queryType": "delete",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "delete from d04_자재마스터파일 where 1=1 and 자재코드 = #{자재코드} and 자재코드 is not null",
        "description": "DELETE 쿼리 (d04_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0002001",
      "screenName": "Tab 0 라인/AREA 마스터",
      "menuPath": "Tab 0 라인/AREA 마스터",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0002000/M0002001.vue",
      "tabs": [
        "TAB007000",
        "TAB008000",
        "TAB020002",
        "TAB020003",
        "TAB020008"
      ],
      "description": "라인/AREA 마스터, 설비 마스터, 설비현황, 설비로그관리"
    },
    "queries": [
      {
        "mapperId": "M0002001",
        "queryId": "selectLineList",
        "queryType": "select",
        "tables": [
          "dw_line_mast"
        ],
        "columns": [
          "line",
          "line_decs",
          "site",
          "use_yn",
          "create_date",
          "create_name"
        ],
        "sql": "SELECT line, line_decs, site, use_yn, create_date, create_name FROM dw_line_mast",
        "description": "SELECT 쿼리 (dw_line_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "selectAreaList",
        "queryType": "select",
        "tables": [
          "dw_area_mast"
        ],
        "columns": [
          "LINE",
          "AREA",
          "공정구분",
          "AREA_ORD",
          "use_yn",
          "create_date",
          "create_name"
        ],
        "sql": "SELECT LINE, AREA, 공정구분, AREA_ORD, use_yn, create_date, create_name FROM dw_area_mast WHERE 1 = 1 order by line, AREA_ORD",
        "description": "SELECT 쿼리 (dw_area_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "checkDeleteArea",
        "queryType": "select",
        "tables": [
          "dw_area_mast",
          "dw_step_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(공정구분+'-'+area, '/'), 'NoData') AS area from dw_area_mast a where (line + '-' + 공정구분 ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + #{item.공정구분} </foreach> and exists ( select 1 from dw_step_mast b where a.line = b.line and a.공정구분 = b.공정구분 )",
        "description": "SELECT 쿼리 (dw_area_mast, dw_step_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "checkInsertArea",
        "queryType": "select",
        "tables": [
          "dw_area_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+공정구분, '/'), 'NoData') AS area from dw_area_mast a where (line + '-' + 공정구분 ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + #{item.공정구분} </foreach>",
        "description": "SELECT 쿼리 (dw_area_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "selectEquipList",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast",
          "dw_step_mast"
        ],
        "columns": [
          "a.line",
          "a.설비번호",
          "a.설비명",
          "a.설비약명",
          "a.chamber",
          "a.공정코드",
          "b.공정명",
          "a.공정구분",
          "a.area",
          "case",
          "a.비고",
          "a.생성일",
          "a.생성자"
        ],
        "sql": "SELECT a.line, a.설비번호, a.설비명, a.설비약명, a.chamber, a.공정코드, b.공정명, a.공정구분 as area_code, a.area, case when a.사용여부 = 1 then 'Y' else 'N' end as 사용여부, a.비고, a.생성일, a.생성자 FROM dw_equipment_mast a left outer join dw_step_mast b on ( a.line = b.line and a.공정코드 = b.공정코드 ) WHERE 1 = 1",
        "description": "SELECT 쿼리 (dw_equipment_mast, dw_step_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "checkInsertEquip",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+설비번호, '/'), 'NoData') AS equip from dw_equipment_mast a where (line + '-' + 설비번호 ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + #{item.설비번호} </foreach>",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "selectEquipPmVsAct",
        "queryType": "select",
        "tables": [
          "dw_",
          "dw_copy"
        ],
        "columns": [
          "case",
          "날짜",
          "112)"
        ],
        "sql": "select a.* <foreach item=\"day\" collection=\"days\" index=\"index\" open=\"\" separator=\"\" close=\"\" > ,case when CONVERT(VARCHAR(8), 날짜, 112) = ? then 'Y' else null end as day${index + 1} </foreach> from ( select a.공장코드 ,a.seq_no ,a.공정 ,a.설비명 ,a.pm_기준 ,a.누적실적 ,a.pm_최근실행일 ,seq ,case when seq = 0 then '예정일' when seq = 1 then '계획일' when seq = 2 then '실행일' end 구분 ,case when seq = 0 then a.pm_예정일 when seq = 1 then b.pm_계획일 when seq = 2 then b.pm_실행일 end 날짜 from dw_설비관리_PM계획실적 a left outer join dw_설비관리_PM계획실",
        "description": "SELECT 쿼리 (dw_, dw_copy)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "updateLine",
        "queryType": "update",
        "tables": [
          "dw_line_mast"
        ],
        "columns": [],
        "sql": "UPDATE dw_line_mast SET line = ?, line_decs = ?, site = ?, use_yn = ? WHERE line = ?",
        "description": "UPDATE 쿼리 (dw_line_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "updateArea",
        "queryType": "update",
        "tables": [
          "dw_area_mast"
        ],
        "columns": [],
        "sql": "UPDATE dw_area_mast SET AREA = ?, AREA_ORD = ?, use_yn = ? WHERE LINE = ? AND 공정구분 = #{공정구분}",
        "description": "UPDATE 쿼리 (dw_area_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "updateEquip",
        "queryType": "update",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [],
        "sql": "UPDATE dw_equipment_mast SET 설비명 = #{설비명}, 설비약명 = #{설비약명}, chamber = ?, 공정코드 = #{공정코드}, 공정구분 = ?, area = ?, 사용여부 = case when #{사용여부} = 'Y' then 1 else 0 end, 비고 = #{비고} WHERE line = ? AND 설비번호 = #{설비번호}",
        "description": "UPDATE 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "updateEquipPmVsAct",
        "queryType": "update",
        "tables": [
          "dw_",
          "set"
        ],
        "columns": [],
        "sql": "MERGE INTO dw_설비관리_PM계획실적내역 tg USING ( select #{공장코드} as 공장코드 ,? as seqNo ,#{공정} as 공정 ,#{설비명} as 설비명 ,#{pm기준} as pm_기준 ,#{누적실적} as 누적실적 ,#{pm최근실행일} as pm_최근실행일 ) AS src ON tg.공장코드 = src.공장코드 and tg.공정 = src.공정 and tg.설비명 = src.설비명 WHEN MATCHED THEN UPDATE SET pm_기준 = #{pm기준} ,누적실적 = #{누적실적} ,pm_최근실행일 = cast(#{pm최근실행일} as date) WHEN NOT MATCHED THEN INSERT ( 공장코드 ,seq_no ,공정 ,설비명 ,pm_기준 ,누적실적 ,pm_최근실행일 ) VALUES ( #{공장코드} ,? ,#{공정} ,#{설비명} ,#{pm기준} ,#{누적실적} ,cast(#{pm최근실행일} as date) ,cast(? as da",
        "description": "UPDATE 쿼리 (dw_, set)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "updateEquipCumulPerf",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "update dw_설비관리_PM계획실적 set 누적실적 = #{누적실적} where 공장코드 = #{공장코드} and 공정 = #{공정} and 설비명 = #{설비명}; update dw_설비관리_PM계획실적내역 set 누적실적 = #{누적실적} where 공장코드 = #{공장코드} and 공정 = #{공정} and 설비명 = #{설비명};",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "deleteLine",
        "queryType": "delete",
        "tables": [
          "dw_line_mast"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_line_mast WHERE line = ?",
        "description": "DELETE 쿼리 (dw_line_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "deleteArea",
        "queryType": "delete",
        "tables": [
          "dw_area_mast"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_area_mast WHERE LINE = ? AND 공정구분 = #{공정구분}",
        "description": "DELETE 쿼리 (dw_area_mast)"
      },
      {
        "mapperId": "M0002001",
        "queryId": "deleteEquip",
        "queryType": "delete",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_equipment_mast WHERE line = ? AND 설비번호 = #{설비번호}",
        "description": "DELETE 쿼리 (dw_equipment_mast)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0002002",
      "screenName": "Tab 0 모델마스터",
      "menuPath": "Tab 0 모델마스터",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0002000/M0002002.vue",
      "tabs": [
        "TAB009000",
        "TAB010000",
        "TAB020001",
        "TAB020004",
        "TAB020005"
      ],
      "description": "모델마스터, 제품마스터, 제품개발이력관리, 모델기본정보, 모델별 모니터링"
    },
    "queries": [
      {
        "mapperId": "M0002002",
        "queryId": "selectModelList",
        "queryType": "select",
        "tables": [
          "dw_model_mast",
          "dw_model_image"
        ],
        "columns": [
          "a.MODEL",
          "a.code",
          "description",
          "Tray_Cell",
          "use_yn",
          "create_date",
          "create_name",
          "case"
        ],
        "sql": "SELECT a.MODEL, a.code, description, Tray_Cell, use_yn, create_date, create_name, case when image_data is NULL THEN 0 ELSE 1 END image_exist FROM dw_model_mast a left outer join dw_model_image b on a.model = b.model WHERE 1 = 1",
        "description": "SELECT 쿼리 (dw_model_mast, dw_model_image)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "checkDeleteModel",
        "queryType": "select",
        "tables": [
          "dw_model_mast",
          "dw_product_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(model, '/'), 'NoData') AS model from dw_model_mast a where a.model in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? </foreach> and exists ( select 1 from dw_product_mast b where a.model = b.model )",
        "description": "SELECT 쿼리 (dw_model_mast, dw_product_mast)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "checkInsertModel",
        "queryType": "select",
        "tables": [
          "dw_model_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(model, '/'), 'NoData') AS model from dw_model_mast a where upper(a.model) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_model_mast)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "checkInsertModelCode",
        "queryType": "select",
        "tables": [
          "dw_model_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(code, '/'), 'NoData') AS code from dw_model_mast a where upper(a.code) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_model_mast)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "selectProductList",
        "queryType": "select",
        "tables": [
          "dw_product_mast",
          "dw_model_mast"
        ],
        "columns": [
          "a.line",
          "a.Prod_code",
          "a.Model",
          "b.description",
          "a.Inch",
          "a.Glass_thick",
          "a.Version",
          "a.spec",
          "a.Unit",
          "a.Unit_code",
          "a.customer_name",
          "a.customer_code",
          "a.Sheet",
          "a.Block",
          "a.Cell",
          "a.RUN_SIZE",
          "case",
          "a.Note",
          "a.create_date",
          "a.create_name"
        ],
        "sql": "SELECT a.line, a.Prod_code, a.Model, b.description as model_name, a.Inch, a.Glass_thick, a.Version, a.spec, a.Unit, a.Unit_code, a.customer_name, a.customer_code, a.Sheet, a.Block, a.Cell, a.RUN_SIZE, case when a.Mass_Prod = '1' then 'Y' else 'N' end as Mass_Prod, a.Note, a.create_date, a.create_name FROM dw_product_mast a left outer join dw_model_mast b on ( a.model = b.model) WHERE 1 = 1 AND Prod_code LIKE ? + '%' order by a.line, a.Prod_code",
        "description": "SELECT 쿼리 (dw_product_mast, dw_model_mast)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "checkDeleteProduct",
        "queryType": "select",
        "tables": [
          "dw_product_mast",
          "dw_product_process"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+Prod_code, '/'), 'NoData') AS prodCode from dw_product_mast a where (line + '-' + Prod_code ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + ? </foreach> and exists ( select 1 from dw_product_process b where a.line = b.line and a.Prod_code = b.prod_code )",
        "description": "SELECT 쿼리 (dw_product_mast, dw_product_process)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "checkInsertProduct",
        "queryType": "select",
        "tables": [
          "dw_product_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+Prod_code, '/'), 'NoData') AS prodCode from dw_product_mast a where (line + '-' + upper(Prod_code) ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_product_mast)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "insertModel",
        "queryType": "insert",
        "tables": [
          "dw_model_mast_input"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_model_mast_input ( MODEL, code, description, Tray_Cell, use_yn, create_date, create_name ) VALUES ( ?, ?, ?, ?, ?, GETDATE(), ? )",
        "description": "INSERT 쿼리 (dw_model_mast_input)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "insertProduct",
        "queryType": "insert",
        "tables": [
          "dw_product_mast_input"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_product_mast_input ( line, Prod_code, Model, Inch, Glass_thick, Version, Spec, Unit, Unit_code, customer_name, customer_code, Sheet, Block, Cell, Run_Size, Mass_Prod, Note, create_date, create_name ) VALUES ( ?, ?, ?, ISNULL(?,0), ISNULL(?,0), ?, ?, ?, ?, ?, ?, ISNULL(?,0), ISNULL(?,0), ISNULL(?,0), ISNULL(?,0), case when ? = 'Y' then '1' else '0' end, ?, GETDATE(), ? )",
        "description": "INSERT 쿼리 (dw_product_mast_input)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "updateModel",
        "queryType": "update",
        "tables": [
          "dw_model_mast_input"
        ],
        "columns": [],
        "sql": "UPDATE dw_model_mast_input SET code = ?, description = ?, Tray_Cell = ?, use_yn = ? WHERE MODEL = ?",
        "description": "UPDATE 쿼리 (dw_model_mast_input)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "updateProduct",
        "queryType": "update",
        "tables": [
          "dw_product_mast_input"
        ],
        "columns": [],
        "sql": "UPDATE dw_product_mast_input SET Model = ?, Inch = ISNULL(?,0), Glass_thick = ?, Version = ?, Spec = ?, Unit = ?, Unit_code = ?, customer_name = ?, customer_code = ?, Sheet = ISNULL(?,0), Block = ISNULL(?,0), Cell = ISNULL(?,0), Run_Size = ISNULL(?,0), Mass_Prod = case when ? = 'Y' then '1' else '0' end, Note = ? where line = ? and Prod_code = ?",
        "description": "UPDATE 쿼리 (dw_product_mast_input)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "uploadFilmImage",
        "queryType": "update",
        "tables": [
          "set"
        ],
        "columns": [],
        "sql": "MERGE dw_model_image AS tg USING (select ? model) AS src ON tg.model = src.model WHEN MATCHED THEN UPDATE SET image_data = ?,upload_date = getdate() WHEN NOT MATCHED THEN INSERT (model, code, image_data, upload_date) VALUES(?, ?, ?, getdate());",
        "description": "UPDATE 쿼리 (set)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "deleteModel",
        "queryType": "delete",
        "tables": [
          "dw_model_mast_input"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_model_mast_input WHERE MODEL = ?",
        "description": "DELETE 쿼리 (dw_model_mast_input)"
      },
      {
        "mapperId": "M0002002",
        "queryId": "deleteProduct",
        "queryType": "delete",
        "tables": [
          "dw_product_mast_input"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_product_mast_input WHERE line = ? and Prod_code = ?",
        "description": "DELETE 쿼리 (dw_product_mast_input)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0002003",
      "screenName": "Tab 0 제품 공정 마스터",
      "menuPath": "Tab 0 제품 공정 마스터",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0002000/M0002003.vue",
      "tabs": [
        "TAB011000",
        "TAB012000",
        "TAB013000",
        "TAB014000",
        "TAB020006",
        "TAB020007"
      ],
      "description": "제품 공정 마스터, 공정 마스터, 공정 스텝 마스터, 스텝 마스터, 공정별 모니터링, 공정별 불량코드"
    },
    "queries": [
      {
        "mapperId": "M0002003",
        "queryId": "selectProdProcList",
        "queryType": "select",
        "tables": [
          "dw_product_process",
          "dw_product_mast",
          "dw_model_mast"
        ],
        "columns": [
          "a.line",
          "a.prod_code",
          "a.model",
          "c.description",
          "b.inch",
          "b.Glass_thick",
          "b.Version",
          "b.Sheet",
          "b.Block",
          "b.RUN_SIZE",
          "b.spec",
          "a.process_id",
          "a.version",
          "a.create_date",
          "a.create_name"
        ],
        "sql": "SELECT a.line, a.prod_code, a.model, c.description as model_name, b.inch, b.Glass_thick , b.Version as prod_version, b.Sheet, b.Block, b.RUN_SIZE, b.spec, a.process_id, a.version, a.create_date, a.create_name FROM dw_product_process a left outer join dw_product_mast b on ( a.line = b.line and a.prod_code = b.prod_code ) left outer join dw_model_mast c on ( a.model = c.model ) WHERE a.line LIKE ? + '%' AND a.Prod_code LIKE ? + '%'",
        "description": "SELECT 쿼리 (dw_product_process, dw_product_mast, dw_model_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "checkInsertProdProc",
        "queryType": "select",
        "tables": [
          "dw_product_process"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+Prod_code+'-'+process_id, '/'), 'NoData') AS prodProcess from dw_product_process a where (line + '-' + upper(Prod_code) + '-' + upper(process_id) ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + upper(?) + '-' + upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_product_process)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "selectProcessList",
        "queryType": "select",
        "tables": [
          "dw_process_mast"
        ],
        "columns": [
          "line",
          "process_id",
          "description",
          "version",
          "create_date",
          "create_name"
        ],
        "sql": "SELECT line, process_id, description, version, create_date, create_name FROM dw_process_mast",
        "description": "SELECT 쿼리 (dw_process_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "selectProcess",
        "queryType": "select",
        "tables": [
          "dw_process_mast"
        ],
        "columns": [
          "line",
          "description"
        ],
        "sql": "select line + '-' + process_id + '-' + 'v' + cast(version as varchar) as process, description from dw_process_mast",
        "description": "SELECT 쿼리 (dw_process_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "checkDeleteProcess",
        "queryType": "select",
        "tables": [
          "dw_process_mast",
          "dw_product_process"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+process_id, '/'), 'NoData') AS process from dw_process_mast a where (line + '-' + process_id ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + ? </foreach> and exists ( select 1 from dw_product_process b where a.line = b.line and a.process_id = b.process_id )",
        "description": "SELECT 쿼리 (dw_process_mast, dw_product_process)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "checkInsertProcess",
        "queryType": "select",
        "tables": [
          "dw_process_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+process_id, '/'), 'NoData') AS process from dw_process_mast a where (line + '-' + upper(process_id) ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_process_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "selectProcessPlanList",
        "queryType": "select",
        "tables": [
          "dw_process_plan",
          "splitnextprocess",
          "dw_step_mast",
          "nextprocessnames",
          "aggregatedresults"
        ],
        "columns": [
          "p.line",
          "p.process_id",
          "p.version",
          "p.공정코드",
          "p.공정명",
          "p.공정약어",
          "p.다음공정",
          "p.Area",
          "p.공정구분",
          "p.use_yn",
          "p.등록일",
          "p.등록자"
        ],
        "sql": "WITH SplitNextProcess AS ( SELECT p.line, p.process_id, p.version, p.공정코드, p.공정명, p.공정약어, p.다음공정, p.Area, p.공정구분, p.use_yn, p.등록일, p.등록자, LTRIM(RTRIM(s.value)) AS 다음공정코드 FROM dw_process_plan p CROSS APPLY STRING_SPLIT(p.다음공정, ',') s WHERE 1 = 1 ), NextProcessNames AS ( SELECT sp.line, sp.process_id, sp.version, sp.공정코드, sp.공정명, sp.공정약어, sp.다음공정, sp.Area, sp.공정구분, sp.use_yn, sp.등록일, sp.등록자, sm.공정코드 AS 다음공정코드, sm.공정약어 AS 다음공정명 FROM SplitNextProcess sp LEFT JOIN dw_step_mast sm ON sp.다음공정코드 = sm.공정",
        "description": "SELECT 쿼리 (dw_process_plan, splitnextprocess, dw_step_mast, nextprocessnames, aggregatedresults)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "checkDeleteProcessPlan",
        "queryType": "select",
        "tables": [
          "dw_process_mast",
          "dw_prod_proc_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+process_id, '/'), 'NoData') AS process from dw_process_mast a where (line + '-' + process_id ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + ? </foreach> and exists ( select 1 from dw_prod_proc_mast b where a.line = b.line and a.process_id = b.process_id )",
        "description": "SELECT 쿼리 (dw_process_mast, dw_prod_proc_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "checkInsertProcessPlan",
        "queryType": "select",
        "tables": [
          "dw_process_plan"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(line+'-'+process_id+'-'+cast(version as varchar)+'-'+공정코드, '/'), 'NoData') AS processPlan from dw_process_plan a where (line + '-' + upper(process_id) + '-' + cast(version as varchar) + '-' + upper(공정코드) ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > ? + '-' + upper(?) + '-' + ? + '-' + upper(#{item.공정코드}) </foreach>",
        "description": "SELECT 쿼리 (dw_process_plan)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "selectStepList",
        "queryType": "select",
        "tables": [
          "dw_step_mast"
        ],
        "columns": [
          "a.line",
          "a.공정코드",
          "a.공정명",
          "a.공정약어",
          "a.공정구분",
          "a.area",
          "case",
          "a.작업순서",
          "a.목표치",
          "a.remark",
          "a.create_date",
          "a.create_name"
        ],
        "sql": "SELECT a.line, a.공정코드, a.공정명, a.공정약어, a.공정구분 as area_code, a.area, case when a.치수관리 = '1' then 'Y' else 'N' end as 치수관리, a.작업순서, a.목표치, case when a.작업여부 = '1' then 'Y' else 'N' end as 작업여부, a.remark, a.create_date, a.create_name FROM dw_step_mast a where 1 = 1 order by a.공정코드, a.공정구분, a.작업순서",
        "description": "SELECT 쿼리 (dw_step_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "checkDeleteStep",
        "queryType": "select",
        "tables": [
          "dw_step_mast",
          "dw_process_plan"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(공정코드, '/'), 'NoData') AS 공정코드 from dw_step_mast a where (공정코드) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > #{item.공정코드} </foreach> and exists ( select 1 from dw_process_plan b where a.line = b.line and a.공정코드 = b.공정코드 )",
        "description": "SELECT 쿼리 (dw_step_mast, dw_process_plan)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "checkInsertStep",
        "queryType": "select",
        "tables": [
          "dw_step_mast"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(공정코드, '/'), 'NoData') AS step from dw_step_mast a where (upper(공정코드)) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(#{item.공정코드}) </foreach>",
        "description": "SELECT 쿼리 (dw_step_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "selectSourceProcess",
        "queryType": "select",
        "tables": [
          "dw_process_mast"
        ],
        "columns": [
          "line",
          "process_id",
          "description"
        ],
        "sql": "select line,process_id,description 공정설명 from dw_process_mast;",
        "description": "SELECT 쿼리 (dw_process_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "selectTargetProcess",
        "queryType": "select",
        "tables": [
          "dw_process_mast",
          "dw_process_plan"
        ],
        "columns": [
          "line",
          "process_id",
          "description"
        ],
        "sql": "select line,process_id,description 공정설명 from dw_process_mast a where not exists (select 1 from dw_process_plan b where a.process_id=b.process_id);",
        "description": "SELECT 쿼리 (dw_process_mast, dw_process_plan)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "saveNewProdProcess",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Set_신규제품_공정마스터 @yyyymmdd = ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0002003",
        "queryId": "updateProdProc",
        "queryType": "update",
        "tables": [
          "dw_product_process"
        ],
        "columns": [],
        "sql": "UPDATE dw_product_process SET process_id = ?, version = ? WHERE line = ? AND prod_code = ?",
        "description": "UPDATE 쿼리 (dw_product_process)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "updateProcess",
        "queryType": "update",
        "tables": [
          "dw_process_mast"
        ],
        "columns": [],
        "sql": "UPDATE dw_process_mast SET description = ?, version = ?, create_date = GETDATE(), create_name = ? WHERE line = ? AND process_id = ?",
        "description": "UPDATE 쿼리 (dw_process_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "updateProcessPlan",
        "queryType": "update",
        "tables": [
          "dw_process_plan"
        ],
        "columns": [],
        "sql": "UPDATE dw_process_plan SET 다음공정 = #{다음공정코드}, use_yn = case when ? = 'Y' then '1' else '0' end WHERE line = ? AND process_id = ? and version = ? AND 공정코드 = #{공정코드}",
        "description": "UPDATE 쿼리 (dw_process_plan)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "updateStep",
        "queryType": "update",
        "tables": [
          "dw_step_mast"
        ],
        "columns": [],
        "sql": "UPDATE dw_step_mast SET 공정명 = #{공정명}, 공정약어 = #{공정약어}, area = ?, 공정구분 = ?, 치수관리 = CASE WHEN #{치수관리} = 'Y' THEN 1 ELSE 0 END, 작업순서 = ISNULL(#{작업순서},0), 목표치 = ISNULL(#{목표치},0.0), 작업여부 = CASE WHEN #{작업여부} = 'Y' THEN 1 ELSE 0 END, Remark = ? where line = ? and 공정코드 = #{공정코드}",
        "description": "UPDATE 쿼리 (dw_step_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "deleteProdProc",
        "queryType": "delete",
        "tables": [
          "dw_product_process"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_product_process WHERE line = ? AND prod_code = ? and process_id = ?",
        "description": "DELETE 쿼리 (dw_product_process)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "deleteProcess",
        "queryType": "delete",
        "tables": [
          "dw_process_mast"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_process_mast WHERE line = ? AND process_id = ?",
        "description": "DELETE 쿼리 (dw_process_mast)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "deleteProcessPlan",
        "queryType": "delete",
        "tables": [
          "dw_process_plan"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_process_plan WHERE line = ? AND process_id = ? and version = ? AND 공정코드 = #{공정코드}",
        "description": "DELETE 쿼리 (dw_process_plan)"
      },
      {
        "mapperId": "M0002003",
        "queryId": "deleteStep",
        "queryType": "delete",
        "tables": [
          "dw_step_mast"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_step_mast WHERE line = ? and 공정코드 = #{공정코드}",
        "description": "DELETE 쿼리 (dw_step_mast)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0003001",
      "screenName": "Tab 0 생산 실적 입력",
      "menuPath": "Tab 0 생산 실적 입력",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0003000/M0003001.vue",
      "tabs": [
        "TAB031000",
        "TAB023000",
        "TAB024000"
      ],
      "description": "생산 실적 입력, 작업 이력 조회, 설비 로그 조회"
    },
    "queries": [
      {
        "mapperId": "M0003001",
        "queryId": "selectBack1ProdStat",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d03_",
          "d05_",
          "d04_"
        ],
        "columns": [
          "b.거래처명",
          "a.제품코드",
          "c.제품모델",
          "c.제품Inch",
          "c.제품버젼",
          "d.자재품명",
          "c.제품규격",
          "a.입고일자",
          "112)",
          "a.CELL수",
          "e.작업종료",
          "e.양품수량",
          "a.작업지시일자",
          "a.발행자",
          "a.승인일자",
          "a.승인자",
          "e.특이사항",
          "0)"
        ],
        "sql": "select /*Back#1 - 제품현황*/ a.거래처코드 ,b.거래처명 ,a.제품코드 ,c.제품모델 ,c.제품Inch ,c.제품버젼 ,d.자재품명 --Glass ,c.제품규격 --Cell size ,convert(date, a.입고일자, 112) as 입고일자 ,a.CELL수 ,convert(date, e.작업종료, 112) as 작업종료 ,e.양품수량 ,convert(date, a.작업지시일자, 112) as 작업지시일자 ,a.발행자 ,convert(date, a.승인일자, 112) as 승인일자 ,a.승인자 ,e.특이사항 ,e.양품수량 / NULLIF(a.CELL수,0) as yield from d22_RUN제조MST a WITH (NOLOCK) left outer join d03_거래처마스터파일 b on (a.거래처코드=b.거래처코드) left outer join d05_제품마스터파일 c on (a.제품코드 = c.제품코드) left outer join d04_자재마스터파일 ",
        "description": "SELECT 쿼리 (d22_run, d03_, d05_, d04_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectRunProdVLR",
        "queryType": "select",
        "tables": [
          "d22_run",
          "dw_equipment_mast"
        ],
        "columns": [
          "a.RUN_NO",
          "a.공정코드",
          "레시피",
          "a.LOT_NO",
          "a.LOT_등분",
          "a.작업시작",
          "a.시작시각",
          "a.작업종료",
          "a.종료시각",
          "a.작업일자",
          "a.작업자",
          "a.작업조",
          "a.Machine_Code",
          "b.설비약명",
          "a.SHIFT",
          "a.책임자",
          "a.책임자시작",
          "a.책임자종료",
          "a.선임자",
          "a.P_CODE"
        ],
        "sql": "select /*selectRunProdVLR*/ a.공장코드 ,a.RUN_NO ,a.공정코드 ,레시피 ,a.LOT_NO ,a.LOT_등분 ,a.작업시작 ,a.시작시각 ,a.작업종료 ,a.종료시각 ,a.작업일자 ,a.작업자 ,a.작업조 ,a.Machine_Code ,b.설비약명 ,a.SHIFT ,a.책임자 ,a.책임자시작 ,a.책임자종료 ,a.선임자 ,a.P_CODE ,a.작업구분 ,a.투입수량 ,a.검사수량 ,a.불량수량 ,a.양품수량 ,a.확인자 ,c.특기사항 as 특이사항 ,양품수량 / NULLIF(투입수량,0) * 100 as 수율 ,a.차수 from d22_RUN제조VLR a WITH (NOLOCK) left outer join dw_equipment_mast b on (a.공정코드 = b.공정코드 and a.Machine_Code = b.설비번호) left outer join d22_RUN제조MST c WITH (NOLOCK) on (a.run_no = c.run_no) ",
        "description": "SELECT 쿼리 (d22_run, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog022",
        "queryType": "select",
        "tables": [
          "getrework"
        ],
        "columns": [
          "a.공장코드",
          "a.run_no",
          "'022'",
          "a.차수",
          "'00')",
          "a.bef_공정코드",
          "a.NXT_공정코드",
          "a.박리작업구분",
          "a.작업자",
          "a.작업조",
          "a.작업시작",
          "a.시작시각",
          "a.shift",
          "a.f_cstno",
          "a.f_수량",
          "a.f_불량수량",
          "a.작업종료",
          "a.종료시각",
          "a.투입수량",
          "a.machine_code"
        ],
        "sql": "/*rework - 022 작업시작 한번도 안했다면*/ select a.공장코드 ,a.run_no ,'022' as 공정코드 ,a.차수 ,FORMAT(row_number() over (order by a.f_cstno),'00') as SEQ ,a.bef_공정코드 ,a.NXT_공정코드 ,a.박리작업구분 ,a.작업자 ,a.작업조 ,a.작업시작 ,a.시작시각 ,a.shift ,a.f_cstno ,a.f_수량 ,a.f_불량수량 ,a.작업종료 ,a.종료시각 ,a.투입수량 ,a.machine_code ,a.배출구 ,a.t_runno ,a.in_cstno ,a.t_cstno ,a.t_cstno2 ,a.t_수량2 ,a.t_불량수량 ,a.특이사항 ,a.저장여부 ,a.재공적용_여부 ,a.mbox_no + '/'+a.bef_runno as lot_no ,a.mbox_no + '|' + a.f_cstno + '|' + a.t_cstno as pkey ,count(1) over(partition by a",
        "description": "SELECT 쿼리 (getrework)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcess022",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "공장코드",
          "RUN_NO",
          "공정코드",
          "SEQ",
          "LOT_NO",
          "BEF_공정코드",
          "NXT_공정코드",
          "박리작업구분",
          "작업자",
          "작업조",
          "작업시작",
          "시작시각",
          "SHIFT",
          "F_CSTNO",
          "F_수량",
          "F_불량수량",
          "작업종료",
          "종료시각",
          "투입수량",
          "Machine_Code"
        ],
        "sql": "/*rework - 022 - 카세트 정보 있다면*/ select 공장코드, RUN_NO, 공정코드, SEQ, LOT_NO, BEF_공정코드, NXT_공정코드, 박리작업구분, 작업자, 작업조, 작업시작, 시작시각, SHIFT, F_CSTNO, F_수량, F_불량수량, 작업종료, 종료시각, 투입수량, Machine_Code, 배출구, T_RUNNO, IN_CSTNO, T_CSTNO, 특이사항 ,차수 ,count(1) over(partition by t_cstno) as t_cnt ,sum(t_수량) over(partition by t_cstno) as t_수량 ,t_수량 as t_org수량 ,case when len(isnull(lot_no,'')) > 0 then LEFT(LOT_NO, CHARINDEX('/', LOT_NO) - 1) else '' end as mbox_no ,case when len(isnull(lot_no,'')) > 0 then SUBSTRING(LOT_NO,",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog023",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "a.작업종료",
          "a.종료시각",
          "a.f_cstno)",
          "'00')",
          "설비cell수량",
          "a.lot_no+'|'+"
        ],
        "sql": "/*back#1 - 박리(023) 작업시작 한번도 안했다면*/ select a.* ,FORMAT(row_number() over (order by a.zone,a.작업종료,a.종료시각,a.f_cstno),'00') as SEQ ,count(t_수량) over(partition by t_cstno) as t_cnt ,설비cell수량 as t_org수량 ,a.lot_no+'|'+ a.f_cstno + '|' + a.t_cstno as pkey ,sum(t_수량) over(partition by lot_no) as cal_cell from ( select '2' as 공장코드 ,run_no ,'023' as 공정코드 ,lot_no ,lot기준_총Cell수량 as cell ,보정_Lot기준_설비처리총Cell수량 as adj_cell ,설비cell수량 ,case when CHARINDEX('add_cstno', t_cstno, 1) > 0 then null else t_cstno end as",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessM023",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "'2'",
          "run_no",
          "#{process}",
          "lot_no)",
          "'00')",
          "lot_no",
          "lot기준_총Cell수량",
          "보정_Lot기준_설비처리총Cell수량",
          "설비cell수량",
          "null",
          "조정된_카세트cell수량",
          "불량예상수량",
          "''",
          "0",
          "'020'",
          "t_cstno"
        ],
        "sql": "/*back#1 - 박리(023) 수동*/ select '2' as 공장코드 ,run_no ,? as 공정코드 ,FORMAT(row_number() over (order by 설비cell수량 desc, lot_no),'00') as SEQ ,lot_no ,lot기준_총Cell수량 as cell ,보정_Lot기준_설비처리총Cell수량 as adj_cell ,설비cell수량 ,null as f_cstnoLotAndPreCstInfo ,조정된_카세트cell수량 as t수량 ,불량예상수량 ,null as 작업시작 ,null as 시작시각 ,null as 작업종료 ,null as 종료시각 ,null as t_cstno ,'' as 특이사항 ,0 as f_불량수량 ,0 as 불량합계 ,'020' bef_공정코드 ,0 as 박리작업구분 ,t_cstno as cst_key ,sum(조정된_카세트cell수량) over(partition by lot_no) as cal_cell from Get수동박리",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcess023",
        "queryType": "select",
        "tables": [
          "get",
          "d22_run",
          "d21_",
          "log_list",
          "dw_equipment_mast"
        ],
        "columns": [],
        "sql": "/*back#1 - 박리(023) 카세트가 있다면*/ with log_list as( select * from Get자동박리카세트리스트(?) ) select 공장코드,RUN_NO,a.공정코드,seq,작업자,작업조,a.lot_no,cell,F_CSTNO,F_수량,F_불량수량 ,시작시각,종료시각,a.T_CSTNO,특이사항 ,a.MACHINE_CODE,투입수량 ,t_cnt ,t_수량 ,t_org수량 ,count(1) over (partition by a.lot_no) as lot_cnt ,'020' as bef_공정코드 ,'027' as nxt_공정코드 ,박리작업구분 ,배출구 ,작업시작 ,작업종료 ,a.t_cstno as cst_key ,case when b.CELL_EQ_QTY is null then c.CELL_EQ_QTY else b.CELL_EQ_QTY end as CELL_EQ_QTY ,b.zone ,d.설비명 ,a.shift ,a.lot_no+'|'+a.F_CSTNO+'|'+a",
        "description": "SELECT 쿼리 (get, d22_run, d21_, log_list, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcess",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "공장코드",
          "RUN_NO",
          "공정코드",
          "SEQ",
          "LOT_NO",
          "BEF_공정코드",
          "NXT_공정코드",
          "박리작업구분",
          "작업자",
          "작업조",
          "작업시작",
          "시작시각",
          "SHIFT",
          "F_CSTNO",
          "F_수량",
          "F_불량수량",
          "작업종료",
          "종료시각",
          "투입수량",
          "Machine_Code"
        ],
        "sql": "/*back#1 - 작업시작 한번 작업완료 했다면*/ select 공장코드, RUN_NO, 공정코드, SEQ, LOT_NO, BEF_공정코드, NXT_공정코드, 박리작업구분, 작업자, 작업조, 작업시작, 시작시각, SHIFT, F_CSTNO, F_수량, F_불량수량, 작업종료, 종료시각, 투입수량, Machine_Code, 배출구, T_RUNNO, IN_CSTNO, T_CSTNO, 특이사항 ,차수 ,count(t_수량) over(partition by t_cstno) as t_cnt ,sum(t_수량) over(partition by t_cstno) as t_수량 ,t_수량 as t_org수량 ,F_CSTNO + '|'+T_CSTNO as pkey from d22_RUN카세트파일 a WITH (NOLOCK) where a.run_no = ? and a.공정코드 = ? and a.차수 = #{차수} order by a.seq,F_CSTNO,작업종료,종료시각",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessTrans",
        "queryType": "select",
        "tables": [
          "d22_run",
          "get",
          "dw_equipment_mast"
        ],
        "columns": [
          "공장코드",
          "RUN_NO",
          "a.공정코드",
          "SEQ",
          "LOT_NO",
          "BEF_공정코드",
          "NXT_공정코드",
          "박리작업구분",
          "작업자",
          "작업조",
          "작업시작",
          "시작시각",
          "SHIFT",
          "F_CSTNO",
          "F_수량",
          "F_불량수량",
          "작업종료",
          "종료시각",
          "투입수량",
          "a.Machine_Code"
        ],
        "sql": "/*back#1 - (전,후 환적) 저장된 카세트 있다면*/ select 공장코드, RUN_NO, a.공정코드, SEQ, LOT_NO, BEF_공정코드, NXT_공정코드, 박리작업구분, 작업자, 작업조, 작업시작, 시작시각, SHIFT, F_CSTNO, F_수량, F_불량수량, 작업종료, 종료시각, 투입수량, a.Machine_Code, d.설비약명 as 설비명, 배출구, T_RUNNO, IN_CSTNO, a.T_CSTNO, 특이사항, c.CELL_EQ_QTY, F_CSTNO + '|' + a.T_CSTNO as pkey, count(t_수량) over(partition by a.t_cstno) as t_cnt, sum(t_수량) over(partition by a.t_cstno) as t_수량, t_수량 t_org수량 from d22_RUN카세트파일 a WITH (NOLOCK) left outer join ( select t_cstno ,t_수량 as CELL_EQ_QTY from",
        "description": "SELECT 쿼리 (d22_run, get, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog027",
        "queryType": "select",
        "tables": [
          "d22_run",
          "cst"
        ],
        "columns": [
          "T_CSTNO",
          "'027'",
          "'023'",
          "'033'",
          "0"
        ],
        "sql": "/*back#1 - 박리 후 세정(027) 작업시작 한번도 안했다면*/ with cst as ( select max(공장코드) as 공장코드 ,max(RUN_NO) as RUN_NO ,max(lot_no) as lot_no ,T_CSTNO as F_CSTNO ,sum(T_수량) as F_수량 ,'027' as 공정코드 ,max(SEQ) as seq ,'023' as BEF_공정코드 ,'033' as NXT_공정코드 ,0 as 박리작업구분 ,max(작업자) as 작업자 ,max(작업조) as 작업조 ,max(작업시작) as 작업시작 ,max(시작시각) as 시작시각 ,max(shift) as shift ,sum(T_수량) as t_수량 ,0 as F_불량수량 ,max(작업종료) as 작업종료 ,max(종료시각) as 종료시각 ,sum(T_수량) as 투입수량 ,max(Machine_Code) as Machine_Code ,max(배출구) as 배출구 ,max(T_RUNNO) as T_",
        "description": "SELECT 쿼리 (d22_run, cst)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog033",
        "queryType": "select",
        "tables": [
          "d22_run",
          "cst"
        ],
        "columns": [
          "T_CSTNO",
          "'033'",
          "'027'",
          "'035'",
          "0"
        ],
        "sql": "/*back#1 - bTP(033) 저장된 카세트가 없다면*/ with cst as ( select max(공장코드) as 공장코드 ,max(RUN_NO) as RUN_NO ,max(lot_no) as lot_no ,T_CSTNO as F_CSTNO ,sum(T_수량) as F_수량 ,'033' as 공정코드 ,max(seq) as SEQ ,'027' as BEF_공정코드 ,'035' as NXT_공정코드 ,0 as 박리작업구분 ,max(작업자) as 작업자 ,max(작업조) as 작업조 ,max(작업시작) as 작업시작 ,max(시작시각) as 시작시각 ,max(shift) as shift ,sum(T_수량) as t_수량 ,0 as F_불량수량 ,max(작업종료) as 작업종료 ,max(종료시각) as 종료시각 ,max(T_수량) as 투입수량 ,max(Machine_Code) as Machine_Code ,max(배출구) as 배출구 ,max(T_RUNNO) as T_RUNNO",
        "description": "SELECT 쿼리 (d22_run, cst)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog035",
        "queryType": "select",
        "tables": [
          "d22_run",
          "cst"
        ],
        "columns": [
          "T_CSTNO",
          "'035'",
          "'033'",
          "'037'",
          "0"
        ],
        "sql": "/*back#1 - 재세정(035) 작업시작 한번도 안했다면*/ with cst as ( select max(공장코드) as 공장코드 ,max(RUN_NO) as RUN_NO ,max(lot_no) as lot_no ,T_CSTNO as F_CSTNO ,sum(T_수량) as F_수량 ,'035' as 공정코드 ,max(seq) as SEQ ,'033' as BEF_공정코드 ,'037' as NXT_공정코드 ,0 as 박리작업구분 ,max(작업자) as 작업자 ,max(작업조) as 작업조 ,max(작업시작) as 작업시작 ,max(시작시각) as 시작시각 ,max(shift) as shift ,sum(T_수량) as t_수량 ,0 as F_불량수량 ,max(작업종료) as 작업종료 ,max(종료시각) as 종료시각 ,sum(T_수량) as 투입수량 ,max(Machine_Code) as Machine_Code ,max(배출구) as 배출구 ,max(T_RUNNO) as T_RUNN",
        "description": "SELECT 쿼리 (d22_run, cst)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog059",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d42_",
          "cst",
          "bad"
        ],
        "columns": [
          "T_CSTNO",
          "'059'",
          "'00')",
          "'022'",
          "'056'",
          "0"
        ],
        "sql": "/*Rework 재세정(059) 작업시작 한번도 안했다면*/ with cst as ( select max(공장코드) as 공장코드 ,max(RUN_NO) as RUN_NO ,max(lot_no) as lot_no ,T_CSTNO as F_CSTNO ,sum(T_수량) as F_수량 ,'059' as 공정코드 ,FORMAT(row_number() over (order by T_CSTNO),'00') as SEQ ,'022' as BEF_공정코드 ,'056' as NXT_공정코드 ,0 as 박리작업구분 ,max(작업자) as 작업자 ,max(작업조) as 작업조 ,max(작업시작) as 작업시작 ,max(시작시각) as 시작시각 ,max(shift) as shift ,sum(T_수량) as t_수량 ,max(F_불량수량) as F_불량수량 ,max(작업종료) as 작업종료 ,max(종료시각) as 종료시각 ,sum(T_수량) as 투입수량 ,max(Machine_Code) as Mach",
        "description": "SELECT 쿼리 (d22_run, d42_, cst, bad)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog037",
        "queryType": "select",
        "tables": [
          "get",
          "dw_equipment_mast"
        ],
        "columns": [
          "t_수량"
        ],
        "sql": "/*back#1 - 전환적(037) 저당된 카세트 없다면*/ select a.* ,count(t_수량) over(partition by t_cstno) as t_cnt ,sum(t_수량) over(partition by t_cstno) as t_수량 ,t_수량 as t_org수량 from ( select 공장코드 ,RUN_NO ,a.공정코드 ,FORMAT(row_number() over (order by seq),'00') as SEQ ,LOT_NO ,BEF_공정코드 ,NXT_공정코드 ,박리작업구분 ,작업자 ,a.shift as 근무조 ,a.machine_code as 설비호기 ,작업시작 ,시작시각 ,SHIFT ,F_CSTNO ,F_수량 ,F_불량수량 ,작업종료 ,종료시각 ,투입수량 ,a.Machine_Code ,d.설비약명 as 설비명 ,배출구 ,T_RUNNO ,IN_CSTNO ,case when IN_CSTNO = T_CSTNO then null else T_CSTNO end a",
        "description": "SELECT 쿼리 (get, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessM037",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "공장코드",
          "RUN_NO",
          "공정코드",
          "seq",
          "lot_no",
          "'035'",
          "'040'",
          "박리작업구분",
          "null",
          "t_cstno",
          "t_수량",
          "t_불량수량",
          "투입수량",
          "a.T_수량"
        ],
        "sql": "/*back#1 - 전환적(037) 수동*/ select 공장코드 ,RUN_NO ,공정코드 ,seq ,lot_no ,'035' as BEF_공정코드 ,'040' as NXT_공정코드 ,박리작업구분 ,null as 작업자 ,null as 작업조 ,null as 작업시작 ,null as 시작시각 ,null as SHIFT ,t_cstno as F_CSTNO ,t_수량 as F_수량 ,t_불량수량 as F_불량수량 ,null as 작업종료 ,null as 종료시각 ,투입수량 ,null as Machine_Code ,null as 설비명 ,null as 배출구 ,null as T_RUNNO ,t_cstno as IN_CSTNO ,null as T_CSTNO ,a.T_수량 ,null as 특이사항 ,t_cstno as cst_key from d22_RUN카세트파일 a WITH (NOLOCK) where run_no = ? and 공정코드 = '033' order by a.seq,a.F_CST",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog040",
        "queryType": "select",
        "tables": [
          "d22_run",
          "cst"
        ],
        "columns": [
          "T_CSTNO",
          "'040'",
          "'037'",
          "'043'",
          "0"
        ],
        "sql": "/*back#1 - 강화(040) 카세트가 저장되어 있지 않다면*/ with cst as ( select max(공장코드) as 공장코드 ,max(RUN_NO) as RUN_NO ,max(lot_no) as lot_no ,T_CSTNO as F_CSTNO ,sum(T_수량) as F_수량 ,'040' as 공정코드 ,max(seq) as SEQ ,'037' as BEF_공정코드 ,'043' as NXT_공정코드 ,0 as 박리작업구분 ,max(작업자) as 작업자 ,max(작업조) as 작업조 ,max(작업시작) as 작업시작 ,max(시작시각) as 시작시각 ,max(shift) as shift ,sum(T_수량) as t_수량 ,0 as F_불량수량 ,max(작업종료) as 작업종료 ,max(종료시각) as 종료시각 ,sum(T_수량) as 투입수량 ,max(Machine_Code) as Machine_Code ,max(배출구) as 배출구 ,max(T_RUNNO) as T_RU",
        "description": "SELECT 쿼리 (d22_run, cst)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog043",
        "queryType": "select",
        "tables": [
          "get",
          "dw_equipment_mast"
        ],
        "columns": [
          "t_수량"
        ],
        "sql": "/*back#1 - 후환적(043) 작업시작 한번도 안했다면*/ select a.* , count(t_수량) over(partition by t_cstno) as t_cnt , sum(t_수량) over(partition by t_cstno) as t_수량 , t_수량 as t_org수량 from ( select 공장코드 ,RUN_NO ,a.공정코드 ,FORMAT(row_number() over (order by seq),'00') as SEQ ,LOT_NO ,BEF_공정코드 ,NXT_공정코드 ,박리작업구분 ,작업자 ,a.shift as 근무조 ,a.machine_code as 설비호기 ,작업시작 ,시작시각 ,SHIFT ,F_CSTNO ,F_수량 ,F_불량수량 ,작업종료 ,종료시각 ,F_수량 as 투입수량 ,a.Machine_Code ,d.설비약명 as 설비명 ,배출구 ,T_RUNNO ,IN_CSTNO ,case when IN_CSTNO = T_CSTNO then null else ",
        "description": "SELECT 쿼리 (get, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessM043",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "공장코드",
          "RUN_NO",
          "공정코드",
          "seq",
          "lot_no",
          "'040'",
          "'047'",
          "박리작업구분",
          "null",
          "t_cstno",
          "t_수량",
          "t_불량수량",
          "투입수량"
        ],
        "sql": "/*back#1 - 수동 후환적(043)*/ select 공장코드 ,RUN_NO ,공정코드 ,seq ,lot_no ,'040' as BEF_공정코드 ,'047' as NXT_공정코드 ,박리작업구분 ,null as 작업자 ,null as 작업조 ,null as 작업시작 ,null as 시작시각 ,null as SHIFT ,t_cstno as F_CSTNO ,t_수량 as F_수량 ,t_불량수량 as F_불량수량 ,null as 작업종료 ,null as 종료시각 ,투입수량 ,null as Machine_Code ,null as 설비명 ,null as 배출구 ,null as T_RUNNO ,t_cstno as IN_CSTNO ,null as T_CSTNO ,null as 특이사항 ,t_cstno as cst_key from d22_RUN카세트파일 a WITH (NOLOCK) where run_no = ? and 공정코드 = '040' /*강화*/ order by a.seq,a.t_CSTN",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog047",
        "queryType": "select",
        "tables": [
          "d22_run",
          "cst"
        ],
        "columns": [
          "T_CSTNO",
          "'047'",
          "'043'",
          "'052'",
          "0"
        ],
        "sql": "/*back#1 - 강화 후 세정(047) 작업시작 한번도 안했다면*/ with cst as ( select max(공장코드) as 공장코드 ,max(RUN_NO) as RUN_NO ,max(lot_no) as lot_no ,T_CSTNO as F_CSTNO ,sum(T_수량) as F_수량 ,'047' as 공정코드 ,max(seq) as SEQ ,'043' as BEF_공정코드 ,'052' as NXT_공정코드 ,0 as 박리작업구분 ,max(작업자) as 작업자 ,max(작업조) as 작업조 ,max(작업시작) as 작업시작 ,max(시작시각) as 시작시각 ,max(shift) as shift ,sum(T_수량) as t_수량 ,0 as F_불량수량 ,max(작업종료) as 작업종료 ,max(종료시각) as 종료시각 ,sum(T_수량) as 투입수량 ,max(Machine_Code) as Machine_Code ,max(배출구) as 배출구 ,max(T_RUNNO) as T_",
        "description": "SELECT 쿼리 (d22_run, cst)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessLog050",
        "queryType": "select",
        "tables": [
          "d22_run",
          "cst"
        ],
        "columns": [
          "T_CSTNO",
          "'050'",
          "'047'",
          "0"
        ],
        "sql": "/*back#1 - aPT(050) 작업시작 한번도 안했다면*/ with cst as ( select max(공장코드) as 공장코드 ,max(RUN_NO) as RUN_NO ,max(lot_no) as lot_no ,T_CSTNO as F_CSTNO ,sum(T_수량) as F_수량 ,'050' as 공정코드 ,max(seq) as SEQ ,'047' as BEF_공정코드 ,'050' as NXT_공정코드 ,0 as 박리작업구분 ,max(작업자) as 작업자 ,max(작업조) as 작업조 ,max(작업시작) as 작업시작 ,max(시작시각) as 시작시각 ,max(shift) as shift ,sum(T_수량) as t_수량 ,0 as F_불량수량 ,max(작업종료) as 작업종료 ,max(종료시각) as 종료시각 ,sum(T_수량) as 투입수량 ,max(Machine_Code) as Machine_Code ,max(배출구) as 배출구 ,max(T_RUNNO) as T_RUNN",
        "description": "SELECT 쿼리 (d22_run, cst)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "saveBadCnt",
        "queryType": "select",
        "tables": [
          "d42_",
          "d29_"
        ],
        "columns": [
          "distinct"
        ],
        "sql": "/*삭제 후 추가*/ delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = ? and LOTRUN_ID = case when ? = '-' then ? else ? end and CST_NO in (?,?) and 불량코드 = ( select distinct 불량코드 from d29_공정별불량파일 where 공정코드 = ? and 사용여부 = 1 --and 적용구분 = 0 and 불량명 = ? );",
        "description": "SELECT 쿼리 (d42_, d29_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "checkExistCst",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "top"
        ],
        "sql": "select top 1 run_no from d22_RUN카세트파일 a WITH (NOLOCK) inner join ( select max(차수) as 차수 from d22_RUN제조VLR where run_no = ? and 공정코드 = ? ) b on (a.차수 = b.차수) where 공장코드 = 2 and run_no = ? and 공정코드 = ?",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectBack1McList",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [
          "설비약명"
        ],
        "sql": "select /*selectBack1McList*/ 설비번호 as value ,설비약명 as text from dw_equipment_mast where 공정코드 = ? and 사용여부 = 1 order by 설비번호",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcessesStatus",
        "queryType": "select",
        "tables": [
          "doi_cm_sys_resource",
          "d22_run"
        ],
        "columns": [
          "SYS_RESOURCE_NAME",
          "seq",
          "b.투입수량",
          "b.양품수량",
          "b.불량수량",
          "0)",
          "case",
          "'')"
        ],
        "sql": "select /*공정별 상태 조회*/ SYS_RESOURCE_ID ,SYS_RESOURCE_NAME ,seq ,b.투입수량 ,b.양품수량 ,b.불량수량 ,b.양품수량 / NULLIF(b.투입수량,0) * 100 as yield ,case when nullif(b.작업시작,'') is null and nullif(b.작업종료,'') is null then '인계공정' when nullif(b.작업종료,'') is null then '현공정' else '완료공정' end status from DOI_CM_SYS_RESOURCE a left outer join d22_RUN제조VLR b on (b.공장코드 = '2' and b.run_no = ? and a.SYS_RESOURCE_ID = b.공정코드) where UPPER_SYS_RESOURCE_ID = ? and prod_category = ? and DEL_YN = 'N'",
        "description": "SELECT 쿼리 (doi_cm_sys_resource, d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectLotCell",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d42_"
        ],
        "columns": [
          "a.공정코드",
          "a.run_no",
          "a.차수",
          "a.Machine_Code",
          "a.lot_no",
          "a.cst_no",
          "a.cst_cell",
          "a.f_불량수량",
          "0)",
          "pkey",
          "seq",
          "a.t_cstno"
        ],
        "sql": "select a.공정코드, a.run_no, a.차수, a.Machine_Code,a.lot_no, a.cst_no, a.cst_cell, a.f_불량수량, isnull(b.불량수량,0) as 불량수량, pkey ,seq,a.t_cstno from ( select 공정코드, run_no, a.차수, a.Machine_Code,a.lot_no, f_cstno cst_no, sum(f_수량) cst_cell, sum(f_불량수량) f_불량수량, max(a.lot_no+'|'+a.f_cstno+'|'+a.t_cstno) pkey ,max(seq) as seq ,max(a.t_cstno) as t_cstno from d22_run카세트파일 a WITH (NOLOCK) join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드= ?) h on (h.차수 = a.차수) where 공장코드 = '2' and run",
        "description": "SELECT 쿼리 (d22_run, d42_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectInCstCell",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d42_"
        ],
        "columns": [
          "a.공정코드",
          "a.run_no",
          "a.차수",
          "a.Machine_Code",
          "a.cst_no",
          "a.cst_cell",
          "a.f_불량수량",
          "0)",
          "pkey",
          "t_cstno"
        ],
        "sql": "select a.공정코드, a.run_no, a.차수, a.Machine_Code, a.cst_no, a.cst_cell, a.f_불량수량, isnull(b.불량수량,0) as 불량수량, pkey,t_cstno from ( select 공정코드, run_no, a.차수, a.Machine_Code, f_cstno cst_no, sum(f_수량) cst_cell, sum(f_불량수량) f_불량수량, max(a.f_cstno+'|'+a.t_cstno) pkey ,max(seq) as seq ,max(a.t_cstno) as t_cstno from d22_run카세트파일 a WITH (NOLOCK) join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드= ?) h on (h.차수 = a.차수) where 공장코드 = '2' and run_no = ? and 공정코드 = ? group by 공정코드, ru",
        "description": "SELECT 쿼리 (d22_run, d42_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectVerInCstCell",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d42_"
        ],
        "columns": [
          "a.공정코드",
          "a.run_no",
          "a.차수",
          "a.Machine_Code",
          "a.cst_no",
          "a.cst_cell",
          "a.f_불량수량",
          "b.불량수량",
          "pkey",
          "t_cstno"
        ],
        "sql": "select a.공정코드, a.run_no, a.차수, a.Machine_Code, a.cst_no, a.cst_cell, a.f_불량수량, b.불량수량, pkey,t_cstno from ( select 공정코드, run_no, a.차수, a.Machine_Code, f_cstno cst_no, sum(f_수량) cst_cell, sum(f_불량수량) f_불량수량, max(a.f_cstno+'|'+a.t_cstno) pkey ,max(a.t_cstno) as t_cstno ,max(a.seq) as seq from d22_run카세트파일 a WITH (NOLOCK) where 공장코드 = '2' and run_no = ? and 공정코드 = ? and 차수 = #{차수} group by 공정코드, run_no, a.차수, a.Machine_Code, f_cstno ) a left join ( select 차수, cst_no, sum(불량수량) 불량수량 from d42_검사불량사유파일",
        "description": "SELECT 쿼리 (d22_run, d42_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectNextProcess",
        "queryType": "select",
        "tables": [
          "dw_process_plan"
        ],
        "columns": [
          "rslt.Value",
          "b.공정명"
        ],
        "sql": "SELECT rslt.Value AS value ,b.공정명 as text FROM dw_process_plan a CROSS APPLY dbo.SplitString(a.다음공정, ',') AS rslt left outer join ( select 공정코드 ,공정명 from dw_process_plan where line = 'DFB1' and process_id = 'D1UT' and use_yn = 1 ) b on (rslt.Value = b.공정코드) WHERE a.line = 'DFB1' AND a.process_id = 'D1UT' AND a.공정코드 = ? and b.공정명 is not null",
        "description": "SELECT 쿼리 (dw_process_plan)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProdStatusInfoBack1",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d05_",
          "d04_",
          "dw_common_code",
          "dw_product_process",
          "dw_process_plan",
          "dw_equipment_mast"
        ],
        "columns": [],
        "sql": "/*selectProdStatusInfoBack1*/ select * from ( select e.code_name as 투입구분 ,d.자재재질 as 사양 ,d.자재두께 as 두께 ,c.제품모델 as model ,c.제품Inch as inch ,a.적층수 as 층수 from d22_RUN제조MST a WITH (NOLOCK) left outer join d05_제품마스터파일 c on (a.제품코드 = c.제품코드) left outer join d04_자재마스터파일 d on (a.자재코드 = d.자재코드) left outer join ( select code ,code_name from dw_common_code where maj_code = '74' ) e on (a.투입구분 = e.code) where a.run_no in (<foreach collection=\"noList\" item=\"no\" open=\"\" separator=\",\" close=\"\"> ? </foreach>) ) a",
        "description": "SELECT 쿼리 (d22_run, d05_, d04_, dw_common_code, dw_product_process, dw_process_plan, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProdStatusInfoBack2",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d05_",
          "d04_",
          "dw_common_code",
          "dw_run_cell_data",
          "dw_product_process",
          "dw_process_plan",
          "dw_equipment_mast"
        ],
        "columns": [],
        "sql": "/*selectProdStatusInfoBack2*/ select * from ( select e.code_name as 투입구분 ,d.자재재질 as 사양 ,d.자재두께 as 두께 ,c.제품모델 as model ,c.제품Inch as inch ,a.적층수 as 층수 from d22_RUN제조MST a WITH (NOLOCK) left outer join d05_제품마스터파일 c on (a.제품코드 = c.제품코드) left outer join d04_자재마스터파일 d on (a.자재코드 = d.자재코드) left outer join ( select code ,code_name from dw_common_code where maj_code = '74' ) e on (a.투입구분 = e.code) where a.run_no in (<foreach collection=\"noList\" item=\"no\" open=\"\" separator=\",\" close=\"\"> ? </foreach>) ) a",
        "description": "SELECT 쿼리 (d22_run, d05_, d04_, dw_common_code, dw_run_cell_data, dw_product_process, dw_process_plan, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectLotNoByRunNo",
        "queryType": "select",
        "tables": [
          "d21_"
        ],
        "columns": [
          "lot_no"
        ],
        "sql": "select lot_no from d21_제조지시MST WITH (NOLOCK) where run_no1 = ? or run_no2 = ?",
        "description": "SELECT 쿼리 (d21_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProdStatusInfoFront",
        "queryType": "select",
        "tables": [
          "d21_",
          "d05_",
          "d04_",
          "dw_common_code",
          "dw_product_process",
          "dw_process_plan",
          "dw_equipment_mast"
        ],
        "columns": [],
        "sql": "/*selectProdStatusInfoFront*/ select * from ( select a.lot_no ,e.code_name as 투입구분 ,d.자재재질 as 사양 ,d.자재두께 as 두께 ,c.제품모델 as model ,c.제품Inch as inch ,a.적층수 as 층수 from d21_제조지시MST a WITH (NOLOCK) left outer join d05_제품마스터파일 c on (a.제품코드 = c.제품코드) left outer join d04_자재마스터파일 d on (a.자재코드 = d.자재코드) left outer join ( select code ,code_name from dw_common_code where maj_code = '74' ) e on (a.투입구분 = e.code) where a.lot_no in (<foreach collection=\"noList\" item=\"no\" open=\"\" separator=\",\" close=\"\"> ? </fore",
        "description": "SELECT 쿼리 (d21_, d05_, d04_, dw_common_code, dw_product_process, dw_process_plan, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProcess023CellEqQty",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "lot_no",
          "t_cstno",
          "설비cell수량"
        ],
        "sql": "/*박리 - 설비셀수량 보여주기 위해 가져오기*/ select lot_no ,t_cstno ,설비cell수량 as CELL_EQ_QTY from Get자동박리카세트리스트(?) where t_cstno like '%add%'",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "execQipFromPPB",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Gen품질검사대기From제조실적bareCell '431',?,?,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectPreProcNoInpuCst",
        "queryType": "select",
        "tables": [
          "check"
        ],
        "columns": [
          "F_cstno"
        ],
        "sql": "select F_cstno as cst_no from Check전공정미투입카세트(?,?)",
        "description": "SELECT 쿼리 (check)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "execCstChangeSt",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Cassette상태변경_제조실적입력 ?,?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003001",
        "queryId": "checkReCleaning",
        "queryType": "select",
        "tables": [
          "checkvalidation_"
        ],
        "columns": [],
        "sql": "select * from CheckValidation_전환적전재세정_DateTimeCheck(?,?);",
        "description": "SELECT 쿼리 (checkvalidation_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "checkForceWaitTime",
        "queryType": "select",
        "tables": [
          "checkvalidation_"
        ],
        "columns": [],
        "sql": "select * from CheckValidation_강화투입대기시간(?)",
        "description": "SELECT 쿼리 (checkvalidation_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "checkCstValidation",
        "queryType": "select",
        "tables": [
          "checkvalidation_"
        ],
        "columns": [],
        "sql": "select * from CheckValidation_투입카세트(?,?)",
        "description": "SELECT 쿼리 (checkvalidation_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectProdStatusInfoRework",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d05_",
          "d04_",
          "dw_common_code",
          "getmrun",
          "dw_process_plan"
        ],
        "columns": [
          "e.code_name",
          "d.자재재질",
          "d.자재두께",
          "c.제품모델",
          "c.제품Inch",
          "a.적층수",
          "g.공정명",
          "''",
          "f.작업종료",
          "f.종료시각",
          "f.시료수량",
          "f.특이사항"
        ],
        "sql": "/*selectProdStatusInfoRework*/ select e.code_name as 투입구분 ,d.자재재질 as 사양 ,d.자재두께 as 두께 ,c.제품모델 as model ,c.제품Inch as inch ,a.적층수 as 층수 ,g.공정명 ,'' as mc ,f.작업종료 ,f.종료시각 ,f.시료수량 ,f.특이사항 from d22_RUN제조MST a WITH (NOLOCK) left outer join d05_제품마스터파일 c on (a.제품코드 = c.제품코드) left outer join d04_자재마스터파일 d on (a.자재코드 = d.자재코드) left outer join ( select code ,code_name from dw_common_code where maj_code = '74' ) e on (a.투입구분 = e.code) left outer join GetMRun이전공정이력(?) f on(1=1) left outer join dw_process_pla",
        "description": "SELECT 쿼리 (d22_run, d05_, d04_, dw_common_code, getmrun, dw_process_plan)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "checkValidationOutCst",
        "queryType": "select",
        "tables": [
          "checkvalidation_"
        ],
        "columns": [
          "cst_no",
          "message"
        ],
        "sql": "select cst_no ,message from CheckValidation_출하카세트(?,?)",
        "description": "SELECT 쿼리 (checkvalidation_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectInCstCellInMbox",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d42_"
        ],
        "columns": [
          "a.공장코드",
          "a.run_no",
          "'022'",
          "a.차수",
          "a.seq",
          "a.lot_no",
          "a.bef_공정코드",
          "a.NXT_공정코드",
          "a.박리작업구분",
          "a.작업자",
          "a.작업조",
          "a.작업시작",
          "a.시작시각",
          "a.shift",
          "a.f_cstno",
          "a.f_수량",
          "a.f_불량수량",
          "a.작업종료",
          "a.종료시각",
          "a.투입수량"
        ],
        "sql": "/*selectInCstCellInMbox*/ select a.공장코드 ,a.run_no ,'022' as 공정코드 ,a.차수 ,a.seq ,a.lot_no ,a.bef_공정코드 ,a.NXT_공정코드 ,a.박리작업구분 ,a.작업자 ,a.작업조 ,a.작업시작 ,a.시작시각 ,a.shift ,a.f_cstno as CST_NO ,a.f_수량 as CST_CELL ,a.f_불량수량 ,a.작업종료 ,a.종료시각 ,a.투입수량 ,a.machine_code ,a.배출구 ,a.t_runno ,a.in_cstno ,a.t_cstno ,a.t_수량 ,a.t_cstno2 ,a.t_수량2 ,a.t_불량수량 ,a.특이사항 ,a.저장여부 ,a.재공적용_여부 ,a.mbox_no ,a.bef_runno ,a.mbox_no + '|' + a.f_cstno + '|' + a.t_cstno as pkey ,isnull(b.불량수량,0) as 불량수량 from ( select a.* ,case when len(isn",
        "description": "SELECT 쿼리 (d22_run, d42_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectNextRunProdVLR",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "a.RUN_NO",
          "a.공정코드",
          "a.LOT_NO",
          "a.LOT_등분",
          "a.작업시작",
          "a.시작시각",
          "a.작업종료",
          "a.종료시각",
          "a.작업일자",
          "a.작업자",
          "a.작업조",
          "a.Machine_Code",
          "a.SHIFT",
          "a.책임자",
          "a.책임자시작",
          "a.책임자종료",
          "a.선임자",
          "a.P_CODE",
          "a.작업구분",
          "a.투입수량"
        ],
        "sql": "select /*selectNextRunProdVLR*/ a.공장코드 ,a.RUN_NO ,a.공정코드 ,a.LOT_NO ,a.LOT_등분 ,a.작업시작 ,a.시작시각 ,a.작업종료 ,a.종료시각 ,a.작업일자 ,a.작업자 ,a.작업조 ,a.Machine_Code ,a.SHIFT ,a.책임자 ,a.책임자시작 ,a.책임자종료 ,a.선임자 ,a.P_CODE ,a.작업구분 ,a.투입수량 ,a.검사수량 ,a.불량수량 ,a.양품수량 ,a.확인자 from d22_RUN제조VLR a WITH (NOLOCK) inner join ( select max(차수) as 차수 from d22_RUN제조VLR where run_no = ? and 공정코드 = ? ) d on (a.차수 = d.차수) where a.run_no = ? and a.공정코드 = ?",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectPreProcessCstInfo",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "a.공정코드",
          "a.seq",
          "a.t_cstno",
          "a.t_수량"
        ],
        "sql": "/*selectPreProcessCstInfo - 이전(완료)공정 카세트정보*/ select a.공정코드 ,a.seq ,a.t_cstno ,a.t_수량 from d22_RUN카세트파일 a WITH (NOLOCK) inner join ( select top 1 a.공장코드 ,a.run_no ,a.공정코드 ,a.차수 from d22_RUN제조VLR a WITH (NOLOCK) inner join ( select max(차수) as 차수 from d22_RUN제조VLR WITH (NOLOCK) where run_no = ? and 공정코드 in (<foreach collection=\"processList\" item=\"process\" open=\"\" separator=\",\" close=\"\"> ? </foreach>) ) d on (a.차수 = d.차수) where a.run_no = ? and a.공정코드 in (<foreach collection=\"processList\" item=\"proc",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "selectStartJobAlbe",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select isnull((select top 1 진행가능여부 from Get_이전공정정보_RunNo_공정코드(?,?)),'진행불가')",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "insertSpecialNote",
        "queryType": "insert",
        "tables": [
          "d39_"
        ],
        "columns": [],
        "sql": "/*2025.3.4 추가*/ INSERT INTO d39_공정별특이사항파일 ( 공장코드 , 공정코드 , 관리번호 , CST_NO , 의뢰일자 , 특이사항 , 차수 ) VALUES ( '2' , ? , ? , ? , FORMAT(GETDATE(), 'yyyyMMdd HHmmss') , #{특이사항} , #{차수} );",
        "description": "INSERT 쿼리 (d39_)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "updateStartJobVLR",
        "queryType": "update",
        "tables": [
          "d22_run",
          "get"
        ],
        "columns": [
          "Shift"
        ],
        "sql": "/*d22_RUN제조VLR - 작업시작*/ UPDATE d22_RUN제조VLR SET 작업자 = ? ,작업조 = (select Shift from Get주간야간구분()) ,SHIFT = ? ,MACHINE_CODE = ? ,작업시작 = #{작업시작} ,시작시각 = #{시작시각} ,작업종료 = null ,종료시각 = null ,투입수량 = #{투입수량} ,검사수량 = #{검사수량} ,불량수량 = case when #{불량수량} is null then 0 else #{불량수량} end ,양품수량 = case when #{양품수량} is null then 0 else #{양품수량} end ,특이사항 = #{특이사항} where run_no = ? and 공정코드 = ? and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (d22_run, get)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "updateEndJobVLR",
        "queryType": "update",
        "tables": [
          "d22_run",
          "get"
        ],
        "columns": [
          "Shift"
        ],
        "sql": "update d22_RUN제조VLR set /*updateEndJobVLR*/ 작업종료 = #{작업종료} ,종료시각 = #{종료시각} ,투입수량 = #{투입수량} ,검사수량 = #{검사수량} ,불량수량 = case when #{불량수량} is null then 0 else #{불량수량} end ,양품수량 = case when #{양품수량} is null then 0 else #{양품수량} end ,특이사항 = #{특이사항} ,작업조 = (select Shift from Get주간야간구분()) where run_no = ? and 공정코드 = ? and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (d22_run, get)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "updateTempSaveVLR",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "update d22_RUN제조VLR set /*updateTempSaveVLR*/ 투입수량 = #{투입수량} ,검사수량 = #{검사수량} ,불량수량 = case when #{불량수량} is null then 0 else #{불량수량} end ,양품수량 = case when #{양품수량} is null then 0 else #{양품수량} end where run_no = ? and 공정코드 = ? and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "mergeRunCst",
        "queryType": "update",
        "tables": [
          "d22_run",
          "set",
          "get"
        ],
        "columns": [
          "'2'",
          "#{runNo}",
          "#{process}",
          "#{seq}",
          "''))",
          "#{차수}",
          "T_CSTNO",
          "F_수량",
          "F_불량수량",
          "T_수량",
          "특이사항",
          "seq",
          "#{seq}))",
          "Machine_Code",
          "'-'))",
          "작업자",
          "SHIFT",
          "작업조"
        ],
        "sql": "MERGE INTO d22_RUN카세트파일 AS tg USING ( select '2' as 공장코드 ,? as RUN_NO ,? as 공정코드 ,? as SEQ ,isnull(?,CONVERT(VARBINARY, '')) as f_Cstno ,#{차수} as 차수 ) AS src ON tg.공장코드 = src.공장코드 and tg.RUN_NO = src.RUN_NO and tg.공정코드 = src.공정코드 and tg.SEQ = src.SEQ and tg.f_CSTNO = src.f_Cstno and tg.차수 = src.차수 WHEN MATCHED THEN UPDATE SET IN_CSTNO = isnull(?,CONVERT(VARBINARY, '')) ,T_CSTNO = isnull(?,CONVERT(VARBINARY, '')) ,F_수량 = #{f수량} ,F_불량수량 = case when #{f불량수량} is null then 0 else #{f불량수량} end ,T_수량 =",
        "description": "UPDATE 쿼리 (d22_run, set, get)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "updateCstJobEndDateTime",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "update d22_RUN카세트파일 set 작업종료 = #{작업종료} ,종료시각 = #{종료시각} where run_no = ? and 공정코드 = ? and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003001",
        "queryId": "deleteCstList",
        "queryType": "delete",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "DELETE FROM D22_RUN카세트파일 WHERE RUN_NO = ? AND 공정코드 = ?",
        "description": "DELETE 쿼리 (d22_run)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0003002",
      "screenName": "Tab 0 생산 실적 입력",
      "menuPath": "Tab 0 생산 실적 입력",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0003000/M0003002.vue",
      "tabs": [
        "TAB032000",
        "TAB033000",
        "TAB034000"
      ],
      "description": "생산 실적 입력, 설비 로그 조회, 설비 로그 조회"
    },
    "queries": [
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch1",
        "queryType": "select",
        "tables": [
          "get_",
          "dw_process_plan"
        ],
        "columns": [
          "b.공정코드",
          "b.공정명"
        ],
        "sql": "select b.공정코드, b.공정명 from Get_다음공정정보_RunNo_공정코드_다음공정코드_지정(?,#{공정코드},null) a left join dw_process_plan b on (a.process_id = b.process_id and a.공정코드 = b.공정코드) order by b.공정코드",
        "description": "SELECT 쿼리 (get_, dw_process_plan)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch2",
        "queryType": "select",
        "tables": [
          "get",
          "d22_run",
          "d03_",
          "d04_",
          "d05_",
          "dw_equipment_mast",
          "get_",
          "dw_common_code",
          "dw_"
        ],
        "columns": [
          "c.거래처명",
          "e.제품모델",
          "e.제품inch",
          "e.제품버젼",
          "e.제품규격",
          "a.입고일자",
          "a.작업일자",
          "특기사항",
          "승인자",
          "b.machine_code",
          "f.설비명",
          "f.설비약명",
          "f.chamber",
          "a.승인일자",
          "a.세정차수",
          "b.shift",
          "b.책임자",
          "b.선임자"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (get, d22_run, d03_, d04_, d05_, dw_equipment_mast, get_, dw_common_code, dw_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_LogChk",
        "queryType": "select",
        "tables": [
          "getism",
          "getagb",
          "get",
          "getpfl"
        ],
        "columns": [],
        "sql": "",
        "description": "SELECT 쿼리 (getism, getagb, get, getpfl)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch4",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "seq",
          "run_no",
          "공정코드",
          "lot_no",
          "f_cstno",
          "작업자",
          "작업조",
          "shift",
          "nxt_공정코드",
          "작업시작",
          "시작시각",
          "작업종료",
          "종료시각",
          "f_수량",
          "f_수량-f_불량수량",
          "f_불량수량",
          "t_수량",
          "f_수량-t_불량수량",
          "t_불량수량",
          "t_cstno"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch5",
        "queryType": "select",
        "tables": [
          "d29_"
        ],
        "columns": [
          "불량코드",
          "불량명",
          "사용여부"
        ],
        "sql": "select 불량코드, 불량명, 사용여부 from d29_공정별불량파일 where 공정코드 = #{공정코드} order by 적용순서",
        "description": "SELECT 쿼리 (d29_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch8",
        "queryType": "select",
        "tables": [
          "d42_"
        ],
        "columns": [
          "공정코드",
          "lotrun_id",
          "machine_code",
          "cst_no",
          "불량위치",
          "불량코드",
          "검사시각",
          "불량수량",
          "'none'",
          "차수"
        ],
        "sql": "select 공정코드, lotrun_id, machine_code, cst_no, 불량위치, 불량코드, 검사시각, 불량수량, 'none' state, 차수 from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and 불량코드 = #{불량코드} and 차수 = #{차수} order by 불량위치, 불량코드",
        "description": "SELECT 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch14",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "a.공정코드",
          "a.불량코드",
          "a.불량명",
          "case"
        ],
        "sql": "select a.공정코드, a.불량코드, a.불량명, case when a.공정코드 = '061' and a.불량코드 = '400' then '271' when a.공정코드 = '061' and a.불량코드 = '401' then '441' end 불량유형코드 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) a where a.비고 = '2' order by 적용순서",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch10",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "run_no",
          "공정코드",
          "lot_no",
          "f_cstno",
          "작업자",
          "작업조",
          "shift",
          "nxt_공정코드",
          "작업시작",
          "시작시각",
          "작업종료",
          "종료시각",
          "machine_code",
          "f_수량",
          "f_수량-f_불량수량",
          "f_불량수량",
          "t_수량",
          "f_수량-t_불량수량",
          "t_불량수량",
          "t_cstno"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch15",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "d22_run",
          "sample"
        ],
        "columns": [
          "a.cst_no"
        ],
        "sql": "WITH sample AS ( select a.cst_no, sum(qty) qty from ( select a.cst_no, a.cell_id, a.신뢰성시료유형, case when nullif(a.신뢰성시료유형, '') is not null then 1 else 0 end qty from ( select a.* from dw_run_cell_data a join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드= #{공정코드}) h on (h.차수 = a.차수) where a.공장코드 = '2' and a.공정코드 = #{공정코드} and a.run_id = ? ) a group by a.cst_no, a.cell_id, a.신뢰성시료유형 ) a group by a.cst_no ) select run_no, 공정코드, lot_no, f_cstno, 작업자, 작업조, shift, nxt_공정코드, 작",
        "description": "SELECT 쿼리 (dw_run_cell_data, d22_run, sample)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch16",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "d22_run"
        ],
        "columns": [
          "run_id",
          "공정코드",
          "cst_no",
          "cell_id",
          "시료일자",
          "신뢰성작업확인",
          "신뢰성시료유형",
          "a.차수"
        ],
        "sql": "select run_id, 공정코드, cst_no, cell_id, 시료일자, 신뢰성작업확인, 신뢰성시료유형, a.차수 from dw_run_cell_data a join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드= #{공정코드}) h on (h.차수 = a.차수) where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cst_no = ? and nullif(신뢰성시료유형, '') is not null",
        "description": "SELECT 쿼리 (dw_run_cell_data, d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch11",
        "queryType": "select",
        "tables": [
          "d88_pfl",
          "d84_dpfbfl_cell"
        ],
        "columns": [
          "distinct",
          "cell_id",
          "start_time",
          "end_time",
          "film_id_상부",
          "film_id_하부",
          "mcr_write"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (d88_pfl, d84_dpfbfl_cell)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch12",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "d22_run"
        ],
        "columns": [
          "run_id",
          "cst_no",
          "cell_id",
          "a.차수",
          "a.신뢰성시료유형",
          "a.result"
        ],
        "sql": "select run_id, cst_no, cell_id, a.차수, a.신뢰성시료유형, a.result from dw_run_cell_data a join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드= #{공정코드}) h on (h.차수 = a.차수) where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ?",
        "description": "SELECT 쿼리 (dw_run_cell_data, d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch17",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "불량코드",
          "불량명"
        ],
        "sql": "select 불량코드, 불량명 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) where 공정코드 = #{공정코드} and 비고 = '2' order by 적용순서",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch18",
        "queryType": "select",
        "tables": [
          "get",
          "dw_run_cell_data",
          "d22_run",
          "sample"
        ],
        "columns": [
          "a.신뢰성시료유형",
          "b.불량코드"
        ],
        "sql": "WITH sample AS ( select a.신뢰성시료유형, b.불량코드, sum(qty) qty from Get공정별불량파일(?, #{공정코드}, #{자동여부}) b left join ( ) a on (a.신뢰성시료유형 = b.불량명) where b.비고 = '2' and nullif(a.신뢰성시료유형, '') is not null group by a.신뢰성시료유형, b.불량코드 ) select from sample d",
        "description": "SELECT 쿼리 (get, dw_run_cell_data, d22_run, sample)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch19",
        "queryType": "select",
        "tables": [
          "check"
        ],
        "columns": [
          "F_cstno"
        ],
        "sql": "select F_cstno as cst_no from Check전공정미투입카세트(?,#{공정코드})",
        "description": "SELECT 쿼리 (check)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch20",
        "queryType": "select",
        "tables": [
          "d42_",
          "get"
        ],
        "columns": [
          "a.불량위치",
          "b.불량명"
        ],
        "sql": "with 불량집계 as ( select a.불량위치, b.불량명, sum(a.불량수량) 불량수량 from d42_검사불량사유파일_cell a left join Get공정별불량파일(?, #{공정코드}, #{자동여부}) b on a.공정코드 = b.공정코드 and a.불량코드 = b.불량코드 where a.공장코드 = '2' and a.공정코드 = #{공정코드} and a.lotrun_id = ? and a.차수 = #{차수} group by a.불량위치, b.불량명 ) select 불량위치, 불량명, 불량수량 from 불량집계 order by 불량위치;",
        "description": "SELECT 쿼리 (d42_, get)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch21",
        "queryType": "select",
        "tables": [
          "get",
          "d42_"
        ],
        "columns": [
          "a.공정코드",
          "a.불량코드",
          "a.불량명",
          "a.적용순서",
          "0)",
          "'none'"
        ],
        "sql": "select a.공정코드, a.불량코드, a.불량명, a.적용순서, isNull(sum(b.불량수량), 0) 불량수량, 'none' state from Get공정별불량파일(?, #{공정코드}, #{자동여부}) a left join d42_검사불량사유파일_cell b on (b.공장코드 = '2' and a.공정코드 = b.공정코드 and a.불량코드 = b.불량코드 and lotrun_id = ? and 차수 = #{차수}) group by a.공정코드, a.불량코드, a.불량명, a.적용순서 order by 적용순서",
        "description": "SELECT 쿼리 (get, d42_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_RERUNChk",
        "queryType": "select",
        "tables": [
          "d88_pfl",
          "d84_dpfbfl_cell"
        ],
        "columns": [],
        "sql": "",
        "description": "SELECT 쿼리 (d88_pfl, d84_dpfbfl_cell)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_LogStartChk",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [
          "진행가능여부"
        ],
        "sql": "select 진행가능여부 from Get_전공정정보_RunNo_공정코드(?,#{공정코드})",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_HoldChk",
        "queryType": "select",
        "tables": [
          "get_runno"
        ],
        "columns": [
          "HOLD여부"
        ],
        "sql": "select HOLD여부 from Get_RunNo상태가져오기(?)",
        "description": "SELECT 쿼리 (get_runno)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_ValidationPFLChk",
        "queryType": "select",
        "tables": [
          "checkvalidation_pfl"
        ],
        "columns": [
          "상태"
        ],
        "sql": "select 상태 from CheckValidation_PFL전재세정(?)",
        "description": "SELECT 쿼리 (checkvalidation_pfl)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_AGBForBareCell",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d42_",
          "dw_common_code"
        ],
        "columns": [
          "run_no",
          "수량",
          "불량수량"
        ],
        "sql": "select run_no, 수량, 불량수량 from ( select a.run_no, a.투입수량, c.수량, case when substring(a.run_no,11,1) = 'M' then 3 else 2 end rate, CASE WHEN a.투입수량 = 0 THEN 0 ELSE CAST(b.불량수량 AS FLOAT) / a.투입수량 * 100 END AS 불량률, isnull(d.불량수량, 0) 불량수량 from d22_run제조vlr a left join ( select isnull(sum(불량수량), 0) 불량수량 from d42_검사불량사유파일 where 공정코드 = #{공정코드} and lotrun_id = ? and 불량코드 = '061' and 불량수량 > 0 ) b on (1=1) left join ( select etc1 수량 FROM dw_common_code where maj_code = 99 and code = '271' ) c on (1=1) left j",
        "description": "SELECT 쿼리 (d22_run, d42_, dw_common_code)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Exec_AGBForBareCell",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Gen품질검사대기From제조실적AGBForBareCell '271',?,?,#{수량};",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_CompQrInfo",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d05_",
          "dw_cm_qr_info"
        ],
        "columns": [
          "e.제품모델",
          "b.shift",
          "b.machine_code",
          "b.작업종료",
          "case",
          "'')"
        ],
        "sql": "select e.제품모델, b.shift, b.machine_code, b.작업종료, case when b.공정코드 = '056' then (case when nullif(b.작업시작, '') is null and nullif(b.작업종료, '') is null and h.chk = 1 then g.qr else (case when nullif(b.작업시작, '') is not null and nullif(b.작업종료, '') is not null and h.chk = 1 then f.qr else null end) end) else (case when nullif(b.작업종료, '') is not null then f.qr else null end) end qr, case when b.공정코드 = '056' then (case when nullif(b.작업시작, '') is null and nullif(b.작업종료, '') is null and h.chk = 1 then g.cod",
        "description": "SELECT 쿼리 (d22_run, d05_, dw_cm_qr_info)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch13",
        "queryType": "select",
        "tables": [
          "get",
          "d22_run",
          "d03_",
          "d04_",
          "d05_",
          "dw_equipment_mast"
        ],
        "columns": [
          "c.거래처명",
          "e.제품모델",
          "e.제품inch",
          "e.제품버젼",
          "e.제품규격",
          "a.입고일자",
          "a.작업일자",
          "특기사항",
          "승인자",
          "b.machine_code",
          "f.설비명",
          "f.설비약명",
          "f.chamber",
          "a.승인일자",
          "a.세정차수",
          "b.shift",
          "b.책임자",
          "b.선임자"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (get, d22_run, d03_, d04_, d05_, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch22",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "run_no",
          "공정코드",
          "lot_no",
          "f_cstno",
          "작업자",
          "작업조",
          "shift",
          "nxt_공정코드",
          "작업시작",
          "시작시각",
          "작업종료",
          "종료시각",
          "f_수량",
          "f_수량-f_불량수량",
          "f_불량수량",
          "t_수량",
          "f_수량-t_불량수량",
          "t_불량수량",
          "t_cstno",
          "특이사항"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch23",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "run_no",
          "공정코드",
          "lot_no",
          "f_cstno",
          "작업자",
          "작업조",
          "shift",
          "nxt_공정코드",
          "작업시작",
          "시작시각",
          "작업종료",
          "종료시각",
          "machine_code",
          "f_수량",
          "f_수량-f_불량수량",
          "f_불량수량",
          "t_수량",
          "f_수량-t_불량수량",
          "t_불량수량",
          "t_cstno"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch24",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "d22_run",
          "sample"
        ],
        "columns": [
          "a.cst_no"
        ],
        "sql": "WITH sample AS ( select a.cst_no, sum(qty) qty from ( select a.cst_no, a.cell_id, a.신뢰성시료유형, case when nullif(a.신뢰성시료유형, '') is not null then 1 else 0 end qty from ( select a.* from dw_run_cell_data a where a.공장코드 = '2' and a.공정코드 = #{공정코드} and a.run_id = ? and 차수 = #{차수} ) a group by a.cst_no, a.cell_id, a.신뢰성시료유형 ) a group by a.cst_no ) select run_no, 공정코드, lot_no, f_cstno, 작업자, 작업조, shift, nxt_공정코드, 작업시작, 시작시각, 작업종료, 종료시각, machine_code, f_수량, f_수량-f_불량수량 f_양품수량, f_불량수량, t_수량, f_수량-t_불량수량 t_양품",
        "description": "SELECT 쿼리 (dw_run_cell_data, d22_run, sample)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch25",
        "queryType": "select",
        "tables": [
          "get",
          "dw_run_cell_data",
          "sample"
        ],
        "columns": [
          "a.신뢰성시료유형",
          "b.불량코드"
        ],
        "sql": "WITH sample AS ( select a.신뢰성시료유형, b.불량코드, sum(qty) qty from Get공정별불량파일(?, #{공정코드}, #{자동여부}) b left join ( ) a on (a.신뢰성시료유형 = b.불량명) where b.비고 = '2' and nullif(a.신뢰성시료유형, '') is not null group by a.신뢰성시료유형, b.불량코드 ) select from sample d",
        "description": "SELECT 쿼리 (get, dw_run_cell_data, sample)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch26",
        "queryType": "select",
        "tables": [
          "d88_pfl",
          "dw_equipment_mast",
          "d25_pfl"
        ],
        "columns": [],
        "sql": "select x.* from ( select 공장코드, '061' 공정코드, run_id, cst_no, cell_id, ROW_NUMBER() over (partition by run_id, cell_id order by end_time desc) 차수, f.설비약명 as 설비호기, 근무조, 작업자, start_time, end_time, '양품' result, null 불량코드, null scrap, null 시료일자, null 신뢰성작업확인, null 신뢰성시료유형, null 맵핑유무, null 특이사항 from d88_PFL공정LOG파일 a left join dw_equipment_mast f on (f.line= 'DFB1' and f.공정코드 = '061' and a.설비호기 = f.설비번호) where 공장코드 = '2' and run_id = ? and 가동여부 = '가동' ) x where 차수 = #{차수} and exists ( select 1 from d25_P",
        "description": "SELECT 쿼리 (d88_pfl, dw_equipment_mast, d25_pfl)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sch27",
        "queryType": "select",
        "tables": [
          "d84_dpfbfl_cell",
          "dw_equipment_mast",
          "d25_pfl"
        ],
        "columns": [],
        "sql": "select x.* from ( select 공장코드, a.공정코드, run_no AS run_id, cst_no, cell_no AS cell_id, case when cell_no = 'EMPTY' then 1 else ROW_NUMBER() over (partition by run_no, cell_no order by 종료시각 desc) end 차수, f.설비약명 as 설비호기, 근무조, 작업자, 시작시각 start_time, 종료시각 end_time, case when nullif(scrap,'') is null then '양품' else '불량' end result, '' 불량코드, scrap, null 시료일자, null 신뢰성작업확인, null 신뢰성시료유형, null 맵핑유무, null 특이사항 from d84_DPFBFL_CELL파일 a left join dw_equipment_mast f on (f.line= 'DFB1' and f.공정코드 = a.공정코드 and ",
        "description": "SELECT 쿼리 (d84_dpfbfl_cell, dw_equipment_mast, d25_pfl)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Insert1",
        "queryType": "insert",
        "tables": [
          "d42_"
        ],
        "columns": [],
        "sql": "insert into d42_검사불량사유파일_cell(공장코드,공정코드,lotrun_id,cst_no,machine_code,불량위치,불량코드,불량수량,검사시각,차수) values ('2', #{공정코드}, ?, ?, ?, #{불량위치}, #{불량코드}, #{불량수량}, #{검사시각},#{차수})",
        "description": "INSERT 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_RunStart",
        "queryType": "update",
        "tables": [
          "d22_run",
          "d42_",
          "get"
        ],
        "columns": [
          "공장코드",
          "run_no",
          "공정코드",
          "seq",
          "lot_no",
          "bef_공정코드",
          "NXT_공정코드",
          "박리작업구분",
          "작업자"
        ],
        "sql": "delete from d22_run카세트파일 where 공장코드 = '2' and run_no = ? and 공정코드 = #{공정코드} and 차수 = #{차수}; delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and 차수 = #{차수}; delete from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and 차수 = #{차수}; insert into d22_run카세트파일 (공장코드,run_no,공정코드,seq,lot_no,bef_공정코드,nxt_공정코드,박리작업구분,작업자,작업조,작업시작,시작시각,shift,f_cstno,f_수량,f_불량수량,작업종료,종료시각,투입수량,machine_code,배출구,t_runno,in_cstno,t_cstno,t_수량,t_cstno2,t_수량2,t_불량수량,원자재,작업",
        "description": "UPDATE 쿼리 (d22_run, d42_, get)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_RunEnd",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "update d22_run제조vlr set 책임자종료 = 1, 작업종료 = #{작업종료}, 종료시각 = #{종료시각} where run_no = ? and 공정코드 = #{공정코드} and 차수 = #{차수}; update d22_run카세트파일 set NXT_공정코드 = coalesce(#{nxt공정코드}, '-') where run_no = ? and 공정코드 = #{공정코드} and 차수 = #{차수};",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_EndCassetteStatus",
        "queryType": "update",
        "tables": [],
        "columns": [],
        "sql": "exec Cassette상태변경_제조실적입력 ?,#{공정코드};",
        "description": "UPDATE 쿼리 ()"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Start",
        "queryType": "update",
        "tables": [
          "d22_run",
          "get",
          "start_date"
        ],
        "columns": [
          "0",
          "9)",
          "#{작업시작})",
          "9",
          "13)",
          "#{시작시각})"
        ],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run, get, start_date)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_End",
        "queryType": "update",
        "tables": [
          "d22_run",
          "end_date"
        ],
        "columns": [
          "0",
          "9)",
          "9",
          "13)"
        ],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run, end_date)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Log",
        "queryType": "update",
        "tables": [
          "d22_run",
          "d42_",
          "getism",
          "get",
          "start_date",
          "summeddata",
          "d84_ism",
          "set",
          "getagb",
          "d85_agb",
          "getpfl",
          "dw_run_cell_data",
          "d88_pfl",
          "d84_dpfbfl_cell",
          "error_cnt",
          "sample"
        ],
        "columns": [
          "공장코드",
          "run_no",
          "공정코드",
          "seq",
          "lot_no",
          "bef_공정코드",
          "NXT_공정코드",
          "박리작업구분",
          "작업자",
          "작업조",
          "작업시작",
          "시작시각",
          "shift",
          "f_cstno",
          "f_수량",
          "f_불량수량",
          "작업종료",
          "종료시각",
          "투입수량",
          "machine_code"
        ],
        "sql": "with error_cnt as ( select cst_no, isNull(sum(b.불량수량), 0) 불량수량 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) a left join d42_검사불량사유파일 b on (b.공장코드 = '2' and a.공정코드 = b.공정코드 and a.불량코드 = b.불량코드 and lotrun_id = ? and b.차수 = #{차수}) group by cst_no ) , sample AS ( select a.cst_no, sum(qty) qty from ( select a.cst_no, a.cell_id, a.신뢰성시료유형, case when nullif(a.신뢰성시료유형, '') is not null then 1 else 0 end qty from ( select a.* from dw_run_cell_data a where a.공장코드 = '2' and a.공정코드 = #{공정코드} and a.run_id = ? and a.차",
        "description": "UPDATE 쿼리 (d22_run, d42_, getism, get, start_date, summeddata, d84_ism, set, getagb, d85_agb, getpfl, dw_run_cell_data, d88_pfl, d84_dpfbfl_cell, error_cnt, sample)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_RunTemp",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Temp",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update3",
        "queryType": "update",
        "tables": [
          "d42_"
        ],
        "columns": [],
        "sql": "update d42_검사불량사유파일_cell set 불량수량 = #{불량수량} where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and 불량위치 = #{불량위치} and 불량코드 = #{불량코드} and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update4",
        "queryType": "update",
        "tables": [
          "d22_run",
          "d42_"
        ],
        "columns": [],
        "sql": "update d22_run카세트파일 set t_불량수량 = isnull((select sum(불량수량) from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and 차수 = #{차수}), 0), t_수량 = isnull((f_수량 - (select sum(불량수량) from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and 차수 = #{차수})), 0) where run_no = ? and 공정코드 = #{공정코드} and f_cstno = ? and f_수량 > 0 and 차수 = #{차수}; update d22_run제조vlr set 불량수량 = isnull((select sum(t_불량수량) from d22_run카세트파일 where 공장코드 = '2' an",
        "description": "UPDATE 쿼리 (d22_run, d42_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update11",
        "queryType": "update",
        "tables": [
          "d22_run",
          "d42_"
        ],
        "columns": [],
        "sql": "update d22_run카세트파일 set f_불량수량 = isNull((select sum(불량수량) from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and 차수 = #{차수}), 0) where run_no = ? and 공정코드 = #{공정코드} and f_cstno = ? and f_수량 > 0 and 차수 = #{차수}; update d22_run제조vlr set 불량수량 = isnull((select sum(f_불량수량) from d22_run카세트파일 where 공장코드 = '2' and run_no = ? and 공정코드 = #{공정코드} and 차수 = #{차수} and f_수량 > 0), 0), 양품수량 = (투입수량-isnull((select sum(f_불량수량) from d22_run카세트파일 where 공장코드 = '2' and run_no = ",
        "description": "UPDATE 쿼리 (d22_run, d42_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update019",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [],
        "sql": "update dw_run_cell_data set 시료일자= #{시료일자}, 신뢰성작업확인= #{신뢰성작업확인}, 신뢰성시료유형= #{신뢰성시료유형}, 불량코드= #{불량코드} where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ? and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update20",
        "queryType": "update",
        "tables": [
          "d42_",
          "set"
        ],
        "columns": [
          "공정코드",
          "lotrun_id",
          "불량코드",
          "불량수량",
          "검사시각",
          "#{cstNo}",
          "#{차수}"
        ],
        "sql": "delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and 차수 = #{차수}; merge into d42_검사불량사유파일 as t using ( select 공정코드, lotrun_id, 불량코드, 불량수량, 검사시각, ? f_cst_no, #{차수} 차수 from ( select 공정코드, lotrun_id, 불량코드, sum(불량수량) as 불량수량, max(검사시각) as 검사시각 from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and 차수 = #{차수} group by 공정코드, lotrun_id, 불량코드 ) a ) as s (공정코드, lotrun_id, 불량코드, 불량수량, 검사시각, cst_no, 차수) on t.공정코드 = s.공정코드 ",
        "description": "UPDATE 쿼리 (d42_, set)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Sample",
        "queryType": "update",
        "tables": [
          "d22_run",
          "dw_run_cell_data",
          "set",
          "sample"
        ],
        "columns": [
          "a.cst_no"
        ],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run, dw_run_cell_data, set, sample)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update020",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [],
        "sql": "update dw_run_cell_data set 시료일자= null, 신뢰성작업확인= null, 신뢰성시료유형= null, 불량코드= null where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ? and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_RERUN",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "공장코드",
          "RUN_NO",
          "공정코드",
          "레시피",
          "LOT_NO",
          "LOT_등분",
          "null",
          "작업일자",
          "0",
          "''",
          "작업구분",
          "특이사항",
          "a.차수+1"
        ],
        "sql": "insert into d22_run제조vlr(공장코드,RUN_NO,공정코드,레시피,LOT_NO,LOT_등분,작업시작,시작시각,작업종료,종료시각,작업일자,작업자,작업조,Machine_Code,SHIFT,책임자,책임자시작,책임자종료,선임자,P_CODE,작업구분,투입수량,검사수량,불량수량,양품수량,확인자,특이사항,차수) select 공장코드,RUN_NO,공정코드,레시피,LOT_NO,LOT_등분,null 작업시작,null 시작시각,null 작업종료,null 종료시각,작업일자,null 작업자,null 작업조,null Machine_Code,null SHIFT,null 책임자,0 책임자시작,0 책임자종료,null 선임자,'' P_CODE,작업구분,0 투입수량,0 검사수량,0 불량수량,0 양품수량,null 확인자,특이사항,a.차수+1 from d22_run제조vlr a join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? a",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update021",
        "queryType": "update",
        "tables": [],
        "columns": [],
        "sql": "{CALL Gen품질검사대기From제조실적(#{신뢰성시료유형, jdbcType=VARCHAR}, #{신뢰성작업확인, jdbcType=VARCHAR}, #{cellIds, jdbcType=VARCHAR})}",
        "description": "UPDATE 쿼리 ()"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update022",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [],
        "sql": "update dw_run_cell_data set 특이사항 = #{특이사항} where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ? and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_cancel",
        "queryType": "update",
        "tables": [
          "d22_run",
          "d42_",
          "dw_run_cell_data"
        ],
        "columns": [],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run, d42_, dw_run_cell_data)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update12",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_remove",
        "queryType": "update",
        "tables": [
          "d22_run",
          "d42_",
          "dw_run_cell_data"
        ],
        "columns": [],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run, d42_, dw_run_cell_data)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update13",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "update d22_run카세트파일 set IN_CSTNO = ? ,T_CSTNO = ? where run_no = ? and 공정코드 = #{공정코드} and 차수 = #{차수} and seq = ?",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Update14",
        "queryType": "update",
        "tables": [
          "d42_"
        ],
        "columns": [],
        "sql": "update d42_검사불량사유파일 set cst_no = ? where 공장코드 = '2' and lotrun_id = ? and 공정코드 = #{공정코드} and 차수 = #{차수} and cst_no = ?; update d42_검사불량사유파일_cell set cst_no = ? from d42_검사불량사유파일_cell where 공장코드 = '2' and lotrun_id = ? and 공정코드 = #{공정코드} and cst_no = ? and 차수 = #{차수};",
        "description": "UPDATE 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003002",
        "queryId": "M0003002_Delete1",
        "queryType": "delete",
        "tables": [
          "d42_"
        ],
        "columns": [],
        "sql": "delete from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and 불량위치 = #{불량위치} and 불량코드 = #{불량코드} and 차수 = #{차수}",
        "description": "DELETE 쿼리 (d42_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0003003",
      "screenName": "Tab 0 생산 실적 입력",
      "menuPath": "Tab 0 생산 실적 입력",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0003000/M0003003.vue",
      "tabs": [
        "TAB039000",
        "TAB040000",
        "TAB041000"
      ],
      "description": "생산 실적 입력, 작업 이력 조회, 설비 로그 조회"
    },
    "queries": [
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch1",
        "queryType": "select",
        "tables": [
          "get_",
          "dw_process_plan"
        ],
        "columns": [
          "b.공정코드",
          "b.공정명"
        ],
        "sql": "select b.공정코드, b.공정명 from Get_다음공정정보_RunNo_공정코드_다음공정코드_지정(?,#{공정코드},null) a left join dw_process_plan b on (a.process_id = b.process_id and a.공정코드 = b.공정코드) order by b.공정코드",
        "description": "SELECT 쿼리 (get_, dw_process_plan)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch2",
        "queryType": "select",
        "tables": [
          "get",
          "d22_run",
          "d03_",
          "d04_",
          "d05_",
          "dw_equipment_mast",
          "get_",
          "d24_edge",
          "dw_run_cell_data"
        ],
        "columns": [
          "c.거래처명",
          "e.제품모델",
          "e.제품inch",
          "e.제품버젼",
          "e.제품규격",
          "a.입고일자",
          "a.작업일자",
          "특기사항",
          "승인자",
          "b.machine_code",
          "f.설비명",
          "f.설비약명",
          "f.chamber",
          "a.승인일자",
          "a.세정차수",
          "b.shift",
          "b.책임자",
          "b.선임자"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (get, d22_run, d03_, d04_, d05_, dw_equipment_mast, get_, d24_edge, dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch3",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "d22_run"
        ],
        "columns": [
          "run_id",
          "cst_no",
          "cell_id",
          "t.차수",
          "설비호기",
          "근무조",
          "작업자",
          "start_time",
          "end_time"
        ],
        "sql": "select run_id, cst_no, cell_id, t.차수, 설비호기, 근무조, 작업자, start_time, end_time from dw_run_cell_data t with (nolock) join (select isNull(max(차수), 1) 차수 from d22_run제조vlr with (nolock) where run_no = ? and 공정코드 = #{pre공정코드}) h on (h.차수 = t.차수) where 공장코드 = '2' and run_id = ? and 공정코드 = #{pre공정코드} and not exists ( select 1 from dw_run_cell_data a with (nolock) where 공장코드 = '2' and run_id = ? and 공정코드 = #{공정코드} and 차수 = #{차수} and a.cell_id = t.cell_id ) and nullif(신뢰성시료유형,'') is null and result = '양품' ",
        "description": "SELECT 쿼리 (dw_run_cell_data, d22_run)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch4",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [
          "run_id",
          "cst_no",
          "cell_id",
          "차수",
          "설비호기",
          "근무조",
          "작업자",
          "start_time",
          "end_time",
          "불량코드",
          "scrap",
          "특이사항"
        ],
        "sql": "select run_id, cst_no, cell_id, 차수, 설비호기, 근무조, 작업자, start_time, end_time, 불량코드, scrap, 특이사항 from dw_run_cell_data t where 공장코드 = '2' and run_id = ? and 공정코드 = #{공정코드} and 차수 = #{차수} and result = ? and nullif(신뢰성시료유형,'') is null order by end_time desc",
        "description": "SELECT 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_LogChk",
        "queryType": "select",
        "tables": [
          "d24_edge",
          "dw_equipment_mast",
          "get_"
        ],
        "columns": [],
        "sql": "",
        "description": "SELECT 쿼리 (d24_edge, dw_equipment_mast, get_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch5",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "불량코드",
          "불량명",
          "사용여부"
        ],
        "sql": "select 불량코드, 불량명, 사용여부 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) a where 공정코드 = #{공정코드} and 비고 != 2 order by 적용순서",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch6",
        "queryType": "select",
        "tables": [
          "get",
          "d42_",
          "defectdata1"
        ],
        "columns": [
          "a.불량코드",
          "a.불량수량"
        ],
        "sql": "WITH DefectData1 AS ( select a.불량코드, a.불량수량 from ( select a.불량코드, sum(b.불량수량) 불량수량 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) a left join d42_검사불량사유파일 b on (a.공정코드 = b.공정코드 and a.불량코드 = b.불량코드 and b.lotrun_id = ? and b.차수 = #{차수}) where a.비고 != 2 group by a.불량코드 ) a ) select from DefectData1 d",
        "description": "SELECT 쿼리 (get, d42_, defectdata1)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch7",
        "queryType": "select",
        "tables": [
          "d42_"
        ],
        "columns": [
          "불량위치"
        ],
        "sql": "select 불량위치 from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and cell_id = ? and 불량코드 = #{불량코드} and 차수 = #{차수}",
        "description": "SELECT 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch8",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d05_",
          "dw_common_code",
          "dw_"
        ],
        "columns": [
          "k.film_배면색_2)",
          "k.film_배면색_1)",
          "k.film_배면색_4)",
          "k.film_배면색_3)"
        ],
        "sql": "select coalesce(k.film_전면색_1, k.film_배면색_2) e1, coalesce(k.film_전면색_2, k.film_배면색_1) e2, coalesce(k.film_전면색_3, k.film_배면색_4) e3, coalesce(k.film_전면색_4, k.film_배면색_3) e4 from d22_run제조mst a left join d05_제품마스터파일 e on (a.제품코드 = e.제품코드) left join ( select code ,code_name from dw_common_code where maj_code = '74' ) j on (a.투입구분 = j.code) left join dw_모델기본정보 k on (e.제품모델 = k.model and k.구분 = j.code_name) where a.run_no = ?",
        "description": "SELECT 쿼리 (d22_run, d05_, dw_common_code, dw_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch9",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "dw_equipment_mast"
        ],
        "columns": [
          "x.공장코드",
          "x.공정코드",
          "x.run_id",
          "x.cst_no",
          "x.cell_id",
          "x.차수",
          "x.설비호기",
          "x.근무조",
          "x.작업자",
          "x.start_time",
          "x.end_time",
          "case",
          "x.result",
          "x.불량코드",
          "x.scrap",
          "x.시료일자",
          "x.신뢰성작업확인",
          "x.신뢰성시료유형",
          "x.맵핑유무",
          "x.특이사항"
        ],
        "sql": "select x.공장코드,x.공정코드,x.run_id,x.cst_no,x.cell_id,x.차수,x.설비호기,x.근무조,x.작업자,x.start_time,x.end_time, case when x.result = '양품' then '양품' else null end result1, case when x.result = '불량' then '불량' else null end result2, x.result, x.불량코드,x.scrap,x.시료일자,x.신뢰성작업확인,x.신뢰성시료유형,x.맵핑유무,x.특이사항,c.설비번호,c.설비명,c.설비약명,c.chamber from dw_run_cell_data x left join ( select distinct 설비번호, 설비명, 설비약명, chamber from dw_equipment_mast where 1=1 and line = 'DFB1' and 사용여부 = '1' ) c on (x.설비호기 = c.설비번호) where 공장코드 = '2' and",
        "description": "SELECT 쿼리 (dw_run_cell_data, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "searchProcLogGrid1ECI",
        "queryType": "select",
        "tables": [
          "get_eci"
        ],
        "columns": [
          "작업일자)",
          "eqp_id",
          "model",
          "run_id",
          "12",
          "0",
          "':')",
          "15",
          "120)",
          "'yyyy-MM-dd",
          "convert",
          "dateadd",
          "120))",
          "''",
          "8)time_diff",
          "검사수",
          "투입수량",
          "중복",
          "중복_sum_bin1",
          "중복_sum_bin2"
        ],
        "sql": "select CONVERT(DATE,작업일자) 작업일자, eqp_id, model, run_id, FORMAT(CONVERT(datetime, STUFF(STUFF(start_time, 12, 0, ':'), 15, 0, ':'), 120),'yyyy-MM-dd HH:mm:ss') start_time, FORMAT(CONVERT(datetime, STUFF(STUFF(end_time, 12, 0, ':'), 15, 0, ':'), 120),'yyyy-MM-dd HH:mm:ss') end_time, convert (varchar(8), dateadd (s, DATEDIFF(SECOND,CONVERT(datetime, STUFF(STUFF(start_time, 12, 0, ':'), 15, 0, ':'), 120), CONVERT(datetime, STUFF(STUFF(end_time, 12, 0, ':'), 15, 0, ':'), 120)), '' ), 8)time_diff, 검사수,",
        "description": "SELECT 쿼리 (get_eci)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "searchProcLogGrid1VRS",
        "queryType": "select",
        "tables": [
          "get_vrs"
        ],
        "columns": [
          "작업일자)",
          "eqp_id",
          "model",
          "run_id",
          "12",
          "0",
          "':')",
          "15",
          "120)",
          "'yyyy-MM-dd",
          "convert",
          "dateadd",
          "120))",
          "''",
          "8)time_diff",
          "검사수",
          "투입수량",
          "중복",
          "중복_loss수량",
          "중복_out수량"
        ],
        "sql": "select CONVERT(DATE,작업일자) 작업일자, eqp_id, model, run_id, FORMAT(CONVERT(datetime, STUFF(STUFF(start_time, 12, 0, ':'), 15, 0, ':'), 120),'yyyy-MM-dd HH:mm:ss') start_time, FORMAT(CONVERT(datetime, STUFF(STUFF(end_time, 12, 0, ':'), 15, 0, ':'), 120),'yyyy-MM-dd HH:mm:ss') end_time, convert (varchar(8), dateadd (s, DATEDIFF(SECOND,CONVERT(datetime, STUFF(STUFF(start_time, 12, 0, ':'), 15, 0, ':'), 120), CONVERT(datetime, STUFF(STUFF(end_time, 12, 0, ':'), 15, 0, ':'), 120)), '' ), 8)time_diff, 검사수,",
        "description": "SELECT 쿼리 (get_vrs)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "searchProcLogGrid2ECI",
        "queryType": "select",
        "tables": [
          "get_eci"
        ],
        "columns": [],
        "sql": "select A.*,rank() over (partition by cell_id order by end_time2 desc) rank FROM ( select CONVERT(DATE,작업일자) 작업일자, eqp_id, 근무조, 검사자, run_id, cell_id, FORMAT(CONVERT(datetime, STUFF(STUFF(시작시각, 12, 0, ':'), 15, 0, ':'), 120),'yyyy-MM-dd HH:mm:ss') start_time, FORMAT(CONVERT(datetime, STUFF(STUFF(종료시각, 12, 0, ':'), 15, 0, ':'), 120),'yyyy-MM-dd HH:mm:ss') end_time, CONVERT(datetime, STUFF(STUFF(종료시각, 12, 0, ':'), 15, 0, ':'), 120) end_time2, step_no, image_no, pos_x, pos_y, align_x, align_y, align_",
        "description": "SELECT 쿼리 (get_eci)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "searchProcLogGrid2VRS",
        "queryType": "select",
        "tables": [
          "get_vrs"
        ],
        "columns": [],
        "sql": "select A.*,rank() over (partition by cell_id order by end_time2 desc) rank FROM ( select CONVERT(DATE,작업일자) 작업일자, eqp_id, 근무조, 검사자, run_id, cell_id, FORMAT(CONVERT(datetime, STUFF(STUFF(시작시각, 12, 0, ':'), 15, 0, ':'), 120),'yyyy-MM-dd HH:mm:ss') start_time, FORMAT(CONVERT(datetime, STUFF(STUFF(종료시각, 12, 0, ':'), 15, 0, ':'), 120),'yyyy-MM-dd HH:mm:ss') end_time, CONVERT(datetime, STUFF(STUFF(종료시각, 12, 0, ':'), 15, 0, ':'), 120) end_time2, step_no, image_no, pos_x, pos_y, align_x, align_y, align_",
        "description": "SELECT 쿼리 (get_vrs)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch16",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [
          "run_id",
          "공정코드",
          "cst_no",
          "cell_id",
          "시료일자",
          "신뢰성작업확인",
          "신뢰성시료유형"
        ],
        "sql": "select run_id, 공정코드, cst_no, cell_id, 시료일자, 신뢰성작업확인, 신뢰성시료유형 from dw_run_cell_data where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and 차수 = #{차수} and nullif(신뢰성시료유형, '') is not null",
        "description": "SELECT 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch17",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code_name"
        ],
        "sql": "select code_name from dw_common_code where maj_code = ? and code like ? + '%' and use_yn = 1",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch18",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "b.양품수량"
        ],
        "sql": "select b.양품수량 from d22_run제조mst a left join d22_run제조vlr b on (a.run_no = b.run_no and b.공정코드= '068') join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드= '068') h on (h.차수 = b.차수) where a.run_no = ? union all select b.투입수량 from d22_run제조mst a left join d22_run제조vlr b on (a.run_no = b.run_no and b.공정코드= '070') join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드= '070') h on (h.차수 = b.차수) where a.run_no = ?",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_PFLRunHold",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d42_",
          "dw_common_code"
        ],
        "columns": [
          "a.run_no",
          "a.투입수량",
          "CASE"
        ],
        "sql": "select a.run_no, a.투입수량, CASE WHEN a.투입수량 = 0 THEN 0 ELSE CAST(b.불량수량 AS FLOAT) / a.투입수량 END AS 불량률1, CASE WHEN a.투입수량 = 0 THEN 0 ELSE CAST(c.불량수량 AS FLOAT) / a.투입수량 END AS 불량률2, CASE WHEN a.투입수량 = 0 THEN 0 ELSE d.rate + 3 * ( sqrt((d.rate*(1-d.rate)/a.투입수량))) end rate1, CASE WHEN a.투입수량 = 0 THEN 0 ELSE e.rate + 3 * ( sqrt((e.rate*(1-e.rate)/a.투입수량))) end rate2 from d22_run제조vlr a left join ( select isnull(sum(불량수량), 0) 불량수량 from d42_검사불량사유파일 where 공정코드 = #{공정코드} and lotrun_id = ? and 불량코드 = '10",
        "description": "SELECT 쿼리 (d22_run, d42_, dw_common_code)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Exec_PFLRunHold",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Set_PFL필름포장검사_RunHold설정 ?,#{불량명};",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch19",
        "queryType": "select",
        "tables": [
          "get_eci_"
        ],
        "columns": [],
        "sql": "select * from Get_ECI_장면_개수_단면_개수(#{제품모델})",
        "description": "SELECT 쿼리 (get_eci_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch20",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "a.공정코드",
          "a.불량코드",
          "a.불량명"
        ],
        "sql": "select a.공정코드, a.불량코드, a.불량명 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) a where a.비고 != '2' order by 적용순서",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch21",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [
          "run_id",
          "cst_no",
          "cell_id",
          "a.차수",
          "a.불량코드",
          "a.신뢰성시료유형"
        ],
        "sql": "select run_id, cst_no, cell_id, a.차수, a.불량코드, a.신뢰성시료유형 from dw_run_cell_data a where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ? and 차수 = #{차수}",
        "description": "SELECT 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch10",
        "queryType": "select",
        "tables": [
          "get",
          "d22_run",
          "d03_",
          "d04_",
          "d05_",
          "dw_equipment_mast",
          "get_",
          "d24_edge",
          "dw_run_cell_data"
        ],
        "columns": [
          "c.거래처명",
          "e.제품모델",
          "e.제품inch",
          "e.제품버젼",
          "e.제품규격",
          "a.입고일자",
          "a.작업일자",
          "특기사항",
          "승인자",
          "b.machine_code",
          "f.설비명",
          "f.설비약명",
          "f.chamber",
          "a.승인일자",
          "a.세정차수",
          "b.shift",
          "b.책임자",
          "b.선임자"
        ],
        "sql": "",
        "description": "SELECT 쿼리 (get, d22_run, d03_, d04_, d05_, dw_equipment_mast, get_, d24_edge, dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch22",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "run_no",
          "작업종료"
        ],
        "sql": "select run_no, 작업종료 from d22_run제조vlr a join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where 공장코드 = '2' and run_no = ? and 공정코드 = '072') b on (a.차수 = b.차수) where 공장코드 = '2' and run_no = ? and 공정코드 = '072'",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch23",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "d22_run",
          "dw_equipment_mast",
          "d25_pfl"
        ],
        "columns": [
          "t.cst_no",
          "t.cell_id",
          "f.설비약명",
          "t.근무조",
          "t.작업자",
          "t.start_time",
          "t.end_time",
          "t.result",
          "t.scrap"
        ],
        "sql": "select t.cst_no, t.cell_id, f.설비약명 as 설비호기, t.근무조, t.작업자, t.start_time, t.end_time, t.result, t.scrap from dw_run_cell_data t join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드 = #{pre공정코드}) h on (h.차수 = t.차수) left join dw_equipment_mast f on (f.line= 'DFB1' and f.공정코드 = t.공정코드 and t.설비호기 = f.설비번호) where t.공장코드 = '2' and t.run_id = ? and t.공정코드 = #{pre공정코드} and exists ( select 1 from d25_PFL외관검사파일 a where 1=1 and a.run_id != t.run_id and a.cell_id = t.cell_id ) and nu",
        "description": "SELECT 쿼리 (dw_run_cell_data, d22_run, dw_equipment_mast, d25_pfl)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch24",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "dw_equipment_mast",
          "d25_pfl"
        ],
        "columns": [
          "t.cst_no",
          "t.cell_id",
          "f.설비약명",
          "t.근무조",
          "t.작업자",
          "t.start_time",
          "t.end_time",
          "t.result",
          "t.scrap"
        ],
        "sql": "select t.cst_no, t.cell_id, f.설비약명 as 설비호기, t.근무조, t.작업자, t.start_time, t.end_time, t.result, t.scrap from dw_run_cell_data t left join dw_equipment_mast f on (f.line= 'DFB1' and f.공정코드 = t.공정코드 and t.설비호기 = f.설비번호) where t.run_id = ? and t.공정코드 = '072' and t.차수 = #{차수} and exists ( select 1 from d25_PFL외관검사파일 a where 1=1 and a.run_id != t.run_id and a.cell_id = t.cell_id )",
        "description": "SELECT 쿼리 (dw_run_cell_data, dw_equipment_mast, d25_pfl)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch25",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [
          "'')"
        ],
        "sql": "select sum(case when 공정코드 = '072' and result = '양품' and nullif(신뢰성시료유형,'') is null then 1 else 0 end) as 양품수량, sum(case when 공정코드 = '072' and result = '불량' and nullif(신뢰성시료유형,'') is null then 1 else 0 end) as 불량수량, sum(case when 공정코드 = '072' and nullif(신뢰성시료유형,'') is not null then 1 else 0 end) as 시료수량 from dw_run_cell_data where 공장코드 = '2' and run_id = ? and 차수 = #{차수} and 공정코드 = '072'",
        "description": "SELECT 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch26",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "d22_run"
        ],
        "columns": [
          "run_id",
          "cst_no",
          "cell_id",
          "t.차수",
          "설비호기",
          "근무조",
          "작업자",
          "start_time",
          "end_time"
        ],
        "sql": "select run_id, cst_no, cell_id, t.차수, 설비호기, 근무조, 작업자, start_time, end_time from dw_run_cell_data t join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드 = '070') h on (h.차수 = t.차수) where 공장코드 = '2' and run_id = ? and 공정코드 = '070' and not exists ( select 1 from dw_run_cell_data a where 공장코드 = '2' and run_id = ? and 공정코드 = '073' and 차수 = #{차수} and a.cell_id = t.cell_id ) and nullif(신뢰성시료유형,'') is null and result = '양품' order by cell_id",
        "description": "SELECT 쿼리 (dw_run_cell_data, d22_run)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch27",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data",
          "d22_run",
          "get_"
        ],
        "columns": [
          "t.공장코드",
          "t.공정코드",
          "t.run_id",
          "t.cst_no",
          "t.cell_id",
          "#{차수}",
          "t.설비호기",
          "t.근무조",
          "t.작업자",
          "t.start_time",
          "t.end_time",
          "t.result",
          "t.불량코드",
          "t.scrap",
          "t.시료일자",
          "t.신뢰성작업확인",
          "t.신뢰성시료유형",
          "t.맵핑유무",
          "t.특이사항"
        ],
        "sql": "select t.공장코드, t.공정코드, t.run_id, t.cst_no, t.cell_id, #{차수} 차수, t.설비호기, t.근무조, t.작업자, t.start_time, t.end_time, t.result, t.불량코드, t.scrap, t.시료일자, t.신뢰성작업확인, t.신뢰성시료유형, t.맵핑유무, t.특이사항 from dw_run_cell_data t join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드 = '070') h on (h.차수 = t.차수) where 공장코드 = '2' and run_id = ? and 공정코드 = '070' and not exists ( select 1 from dw_run_cell_data a where 공장코드 = '2' and run_id = ? and 공정코드 = '073' and 차수 = #{차수} and a.cell_id = t.cell",
        "description": "SELECT 쿼리 (dw_run_cell_data, d22_run, get_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch28",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "특이사항"
        ],
        "sql": "select 특이사항 from d22_run제조vlr where run_no = ? and 공정코드= #{공정코드} and 차수 = #{차수}",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Sch29",
        "queryType": "select",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [
          "특이사항"
        ],
        "sql": "select 특이사항 from dw_run_cell_data where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ? and 차수 = #{차수};",
        "description": "SELECT 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Start",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data",
          "d22_run",
          "d25_pfl",
          "d42_",
          "get",
          "max_"
        ],
        "columns": [
          "1)"
        ],
        "sql": "",
        "description": "UPDATE 쿼리 (dw_run_cell_data, d22_run, d25_pfl, d42_, get, max_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_End",
        "queryType": "update",
        "tables": [
          "d22_run",
          "dw_run_cell_data",
          "d24_edge",
          "max_",
          "d25_pfl",
          "set"
        ],
        "columns": [
          "1"
        ],
        "sql": "",
        "description": "UPDATE 쿼리 (d22_run, dw_run_cell_data, d24_edge, max_, d25_pfl, set)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Log",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data",
          "d24_edge",
          "dw_equipment_mast",
          "set",
          "d22_run",
          "get",
          "d42_",
          "get_",
          "target",
          "d26_jobissue"
        ],
        "columns": [
          "공장코드",
          "공정코드",
          "run_id",
          "cst_no",
          "cell_id",
          "차수",
          "c.설비번호",
          "근무조",
          "작업자",
          "start_time",
          "end_time",
          "[result]",
          "null",
          "scrap",
          "시료일자",
          "신뢰성작업확인",
          "신뢰성시료유형",
          "맵핑유무"
        ],
        "sql": "",
        "description": "UPDATE 쿼리 (dw_run_cell_data, d24_edge, dw_equipment_mast, set, d22_run, get, d42_, get_, target, d26_jobissue)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Temp",
        "queryType": "update",
        "tables": [
          "d22_run",
          "dw_run_cell_data",
          "max_",
          "set"
        ],
        "columns": [
          "1)"
        ],
        "sql": "with max_차수 as ( select isnull(max(차수), 1) as max_차수 from d22_run제조vlr where run_no = ? and 공정코드 = #{pre공정코드} ) merge into d22_run제조vlr as target using ( select ? as run_no, #{공정코드} as 공정코드, sum(case when 공정코드 = #{pre공정코드} and result = '양품' and nullif(신뢰성시료유형,'') is null then 1 else 0 end) as 투입수량, sum(case when 공정코드 = #{공정코드} then 1 else 0 end) as 검사수량, sum(case when 공정코드 = #{공정코드} and result = '불량' and nullif(신뢰성시료유형,'') is null then 1 else 0 end) as 불량수량, sum(case when 공정코드 = #{공정코드} and null",
        "description": "UPDATE 쿼리 (d22_run, dw_run_cell_data, max_, set)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update1",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data",
          "d22_run",
          "set",
          "max_"
        ],
        "columns": [
          "공장코드",
          "#{공정코드}",
          "run_id",
          "cst_no",
          "cell_id",
          "#{차수}",
          "'-'",
          "#{근무조}",
          "#{작업자}",
          "#{작업시간}",
          "#{result}",
          "#{불량코드}",
          "#{scrap}"
        ],
        "sql": "merge into dw_run_cell_data as target using ( select 공장코드, #{공정코드} 공정코드, run_id, cst_no, cell_id, #{차수} 차수, '-' 설비호기, #{근무조} 근무조, #{작업자} 작업자, #{작업시간} start_time, #{작업시간} end_time, ? result, #{불량코드} 불량코드, ? scrap from dw_run_cell_data t join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드 = #{pre공정코드}) h on (h.차수 = t.차수) where 공장코드 = '2' and run_id = ? and 공정코드 = #{pre공정코드} and cell_id = ? ) as source on target.공장코드 = source.공장코드 and target.공정코드 = source.공정코드 and target.",
        "description": "UPDATE 쿼리 (dw_run_cell_data, d22_run, set, max_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update2",
        "queryType": "update",
        "tables": [
          "d42_",
          "dw_run_cell_data",
          "set"
        ],
        "columns": [
          "공장코드",
          "공정코드",
          "run_id",
          "cst_no",
          "불량코드"
        ],
        "sql": "merge into d42_검사불량사유파일 as t using ( select 공장코드, 공정코드, run_id lotrun_id, cst_no, 불량코드, count(*) 불량수량 from dw_run_cell_data where 공장코드 = '2' and run_id = ? and 공정코드 = #{공정코드} and result = '불량' and 불량코드 = #{불량코드} and 차수 = #{차수} group by 공장코드, 공정코드, run_id, cst_no, 불량코드 ) as s on t.공정코드 = s.공정코드 and t.lotrun_id = s.lotrun_id and t.불량코드 = s.불량코드 and t.cst_no = s.cst_no and t.차수 = #{차수} when matched then update set t.불량수량 = s.불량수량, t.검사시각 = #{작업시간} when not matched then insert (공장코드,공정코드,lotrun_id,불",
        "description": "UPDATE 쿼리 (d42_, dw_run_cell_data, set)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update3",
        "queryType": "update",
        "tables": [
          "d42_",
          "set"
        ],
        "columns": [],
        "sql": "merge into d42_검사불량사유파일_cell as t using (values (#{공정코드}, ?, #{불량코드}, ?, ?, #{불량위치}, #{불량수량}, #{검사시각}, #{차수})) as s (공정코드, lotrun_id, 불량코드, cst_no, cell_id, 불량위치, 불량수량, 검사시각, 차수) on t.공장코드 = '2' and t.공정코드 = s.공정코드 and t.lotrun_id = s.lotrun_id and t.불량코드 = s.불량코드 and t.cst_no = s.cst_no and t.cell_id = s.cell_id and t.차수 = s.차수 when matched then update set t.불량코드 = s.불량코드, t.불량위치 = s.불량위치, t.검사시각 = s.검사시각 when not matched then insert (공장코드,공정코드,lotrun_id,불량코드,cst_no,cell_id,불량위치,불량수량,검사시각,차수) v",
        "description": "UPDATE 쿼리 (d42_, set)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update6",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data",
          "d25_pfl"
        ],
        "columns": [],
        "sql": "update dw_run_cell_data set 특이사항 = #{특이사항} where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ? and 차수 = #{차수}; update d25_PFL외관검사파일 set 특이사항 = #{특이사항} where 1=1 and run_id = ? and cell_id = ?;",
        "description": "UPDATE 쿼리 (dw_run_cell_data, d25_pfl)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update9",
        "queryType": "update",
        "tables": [
          "d42_",
          "dw_run_cell_data",
          "set",
          "d22_run",
          "max_"
        ],
        "columns": [
          "공장코드",
          "공정코드",
          "run_id",
          "cst_no",
          "불량코드",
          "차수"
        ],
        "sql": "delete from d42_검사불량사유파일 where 공장코드 = '2' and lotrun_id = ? and 공정코드 = #{공정코드} and 차수 = #{차수}; merge into d42_검사불량사유파일 as t using ( select 공장코드, 공정코드, run_id lotrun_id, cst_no, 불량코드, 차수, count(*) 불량수량 from dw_run_cell_data where 공장코드 = '2' and run_id = ? and 공정코드 = #{공정코드} and result = '불량' and 차수 = #{차수} group by 공장코드, 공정코드, run_id, cst_no, 불량코드, 차수 ) as s on t.공정코드 = s.공정코드 and t.lotrun_id = s.lotrun_id and t.불량코드 = s.불량코드 and t.cst_no = s.cst_no and t.차수 = s.차수 when matched then update set t.",
        "description": "UPDATE 쿼리 (d42_, dw_run_cell_data, set, d22_run, max_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update10",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [],
        "sql": "update dw_run_cell_data set result = ? ,불량코드 = #{불량코드} ,scrap = ? ,시료일자 = null ,신뢰성작업확인 = null ,신뢰성시료유형 = null ,맵핑유무 = null where 공장코드 = '2' and run_id = ? and 공정코드 = #{공정코드} and cell_id = ? and 차수 = #{차수} ;",
        "description": "UPDATE 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_cancel",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data",
          "d42_",
          "d22_run",
          "d25_pfl"
        ],
        "columns": [],
        "sql": "",
        "description": "UPDATE 쿼리 (dw_run_cell_data, d42_, d22_run, d25_pfl)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_RERUN",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "공장코드",
          "RUN_NO",
          "공정코드",
          "레시피",
          "LOT_NO",
          "LOT_등분",
          "null",
          "작업일자",
          "0",
          "''",
          "작업구분",
          "특이사항",
          "a.차수+1"
        ],
        "sql": "insert into d22_run제조vlr(공장코드,RUN_NO,공정코드,레시피,LOT_NO,LOT_등분,작업시작,시작시각,작업종료,종료시각,작업일자,작업자,작업조,Machine_Code,SHIFT,책임자,책임자시작,책임자종료,선임자,P_CODE,작업구분,투입수량,검사수량,불량수량,양품수량,확인자,특이사항,차수) select 공장코드,RUN_NO,공정코드,레시피,LOT_NO,LOT_등분,null 작업시작,null 시작시각,null 작업종료,null 종료시각,작업일자,null 작업자,null 작업조,null Machine_Code,null SHIFT,null 책임자,0 책임자시작,0 책임자종료,null 선임자,'' P_CODE,작업구분,0 투입수량,0 검사수량,0 불량수량,0 양품수량,null 확인자,특이사항,a.차수+1 from d22_run제조vlr a join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? a",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update4",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [],
        "sql": "update dw_run_cell_data set result = ?, 불량코드 = #{불량코드}, scrap = #{불량명} where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ? and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (dw_run_cell_data)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_ResultMerge",
        "queryType": "update",
        "tables": [
          "d42_",
          "get",
          "dw_run_cell_data",
          "set",
          "d22_run"
        ],
        "columns": [
          "b.공정코드",
          "b.run_id",
          "a.불량코드",
          "b.불량수량",
          "b.검사시각",
          "b.cst_no",
          "#{차수}"
        ],
        "sql": "delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; merge into d42_검사불량사유파일 as t using ( select b.공정코드, b.run_id lotrun_id, a.불량코드, b.불량수량, b.검사시각, b.cst_no, #{차수} 차수 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) a join ( select d.공장코드, d.공정코드, d.run_id, d.cst_no, d.cell_id, d.차수, scrap 불량명, max(end_time) 검사시각, count(*) 불량수량 from dw_run_cell_data d where 공정코드 = #{공정코드} and run_id = ? and result = '불량' group by d.공장코드, d.공정코드, d.run_id, d.cst_no, d.cell_id, d.차수, d.scrap ) b on",
        "description": "UPDATE 쿼리 (d42_, get, dw_run_cell_data, set, d22_run)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_remove",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data",
          "d42_",
          "d22_run",
          "d25_pfl"
        ],
        "columns": [],
        "sql": "",
        "description": "UPDATE 쿼리 (dw_run_cell_data, d42_, d22_run, d25_pfl)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update5",
        "queryType": "update",
        "tables": [
          "dw_run_cell_data",
          "d22_run",
          "get_"
        ],
        "columns": [
          "t.공장코드",
          "'073'",
          "t.run_id",
          "'-'",
          "t.cell_id",
          "#{차수}",
          "c.설비호기",
          "c.근무조",
          "c.작업자",
          "c.start_time",
          "c.end_time",
          "t.result",
          "null",
          "t.맵핑유무",
          "t.특이사항"
        ],
        "sql": "merge into dw_run_cell_data as target using ( select t.공장코드, '073' 공정코드, t.run_id, '-' cst_no, t.cell_id, #{차수} 차수, c.설비호기, c.근무조, c.작업자, c.start_time, c.end_time, t.result, null 불량코드, null scrap, null 시료일자, null 신뢰성작업확인, null 신뢰성시료유형, t.맵핑유무, t.특이사항 from dw_run_cell_data t join (select isNull(max(차수), 1) 차수 from d22_run제조vlr where run_no = ? and 공정코드 = '070') h on (h.차수 = t.차수) left join ( select max(설비호기) 설비호기, max(작업자) 작업자, max(근무조) 근무조, max(start_time) start_time, max(end_time) end_time from",
        "description": "UPDATE 쿼리 (dw_run_cell_data, d22_run, get_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Update7",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "update d22_run제조vlr set 특이사항 = #{특이사항} where run_no = ? and 공정코드= #{공정코드} and 차수 = #{차수}",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Delete1",
        "queryType": "delete",
        "tables": [
          "d42_"
        ],
        "columns": [],
        "sql": "delete from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and cst_no = ? and cell_id = ? and 차수 = #{차수}",
        "description": "DELETE 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003003",
        "queryId": "M0003003_Delete2",
        "queryType": "delete",
        "tables": [
          "dw_run_cell_data"
        ],
        "columns": [],
        "sql": "delete from dw_run_cell_data where 공장코드 = '2' and 공정코드 = #{공정코드} and run_id = ? and cell_id = ? and 차수 = #{차수}",
        "description": "DELETE 쿼리 (dw_run_cell_data)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0003005",
      "screenName": "Tab 0 생산 실적 입력",
      "menuPath": "Tab 0 생산 실적 입력",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0003000/M0003005.vue",
      "tabs": [
        "TAB018000",
        "TAB019000",
        "TAB020000"
      ],
      "description": "생산 실적 입력, 작업 이력 조회, 설비 로그 조회"
    },
    "queries": [
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch1",
        "queryType": "select",
        "tables": [
          "get",
          "d21_",
          "d03_",
          "d04_",
          "d05_",
          "dw_equipment_mast",
          "d21_tool",
          "d22_run"
        ],
        "columns": [
          "a.lot_no",
          "b.공정코드",
          "b.p_code",
          "c.거래처명",
          "e.제품모델",
          "a.제품_inch",
          "e.제품버젼",
          "d.자재품명",
          "e.제품규격",
          "a.입고일자",
          "a.sheet",
          "a.block수",
          "a.cell수",
          "a.작업일자",
          "a.생성수량",
          "a.작업지시일자",
          "발행자",
          "a.승인일자",
          "승인자",
          "a.panel_id"
        ],
        "sql": "select a.lot_no, b.공정코드, b.p_code, c.거래처명, e.제품모델, a.제품_inch, e.제품버젼, d.자재품명, e.제품규격, a.입고일자, a.sheet, a.block수, a.cell수, a.작업일자, a.생성수량, a.작업지시일자, 발행자, a.승인일자, 승인자, a.panel_id, a.특기사항, a.시작온도, a.종료온도, a.전면광량, a.후면광량, b.작업자, b.shift, coalesce(b.작업조, (select shift from Get주간야간구분())) 작업조, b.machine_code, f.설비명, f.설비약명, f.chamber, b.작업시작, b.시작시각, b.작업종료, b.종료시각, b.투입수량, b.양품수량, b.검사수량, b.불량수량, b.cell수량, b.특이사항, b.공정_비고, g.tool_no_컷팅, g.tool_no_중삭, g.tool_no_정삭, g.컷팅, g.중삭, g.정삭, i.작업종료 as 전작업종료, (c",
        "description": "SELECT 쿼리 (get, d21_, d03_, d04_, d05_, dw_equipment_mast, d21_tool, d22_run)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch5",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [
          "a.설비번호",
          "a.설비명",
          "a.설비약명",
          "a.chamber"
        ],
        "sql": "select a.설비번호,a.설비명, a.설비약명 +' '+ a.chamber 설비약명, a.chamber from dw_equipment_mast a where a.line= 'DFB1' and a.공정코드 = #{공정코드} order by a.설비번호",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch6",
        "queryType": "select",
        "tables": [
          "d21_",
          "dw_process_plan"
        ],
        "columns": [
          "c.공정명",
          "b.특이사항"
        ],
        "sql": "select c.공정명, b.특이사항 from d21_제조지시mst a left join d21_제조지시vlr b on (a.lot_no = b.lot_no) left join dw_process_plan c on (c.line = 'DFB1' and c.process_id = 'D1UT' and b.공정코드 = c.공정코드) where 1=1 and a.lot_no = ? order by c.공정코드",
        "description": "SELECT 쿼리 (d21_, dw_process_plan)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch16",
        "queryType": "select",
        "tables": [
          "d21_",
          "dw_process_plan"
        ],
        "columns": [
          "lot_no",
          "공정명",
          "특이사항"
        ],
        "sql": "select lot_no, 공정명, 특이사항 from ( select 1 as no, a.lot_no, b.공정코드, c.공정명, b.특이사항 from d21_제조지시mst a left join d21_제조지시vlr b on (a.lot_no = b.lot_no) left join dw_process_plan c on (c.line = 'DFB1' and c.process_id = 'D1UT' and b.공정코드 = c.공정코드) where 1=1 and a.lot_no = ? union all select 2 as no, a.lot_no, b.공정코드, c.공정명, b.특이사항 from d21_제조지시mst a left join d21_제조지시vlr b on (a.lot_no = b.lot_no) left join dw_process_plan c on (c.line = 'DFB1' and c.process_id = 'D1UT' and b.공정코드 = c.공정코드) where 1=1",
        "description": "SELECT 쿼리 (d21_, dw_process_plan)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch8",
        "queryType": "select",
        "tables": [
          "d21_",
          "countdata",
          "recursivecte",
          "generatedrows",
          "get",
          "d42_",
          "defectdata1",
          "defectdata2",
          "defectdata3",
          "defectdata4",
          "d21_tool"
        ],
        "columns": [
          "block수"
        ],
        "sql": "WITH CountData AS ( SELECT block수 AS TotalCount FROM d21_제조지시mst WHERE lot_no = ? ), RecursiveCTE AS ( SELECT 1 AS RowNumber FROM CountData WHERE TotalCount > 0 UNION ALL SELECT RowNumber + 1 FROM RecursiveCTE, CountData WHERE RowNumber <![CDATA[<]]> TotalCount ), GeneratedRows AS ( SELECT '#' + CAST(RowNumber AS NVARCHAR) AS bl_no FROM RecursiveCTE ), DefectData1 AS ( select gr.bl_no, isNull(a.불량수량, 0) 불량수량, isNull(a.cell별불량수량, 0) cell별불량수량 from GeneratedRows gr left join ( select b.bl_no, isNu",
        "description": "SELECT 쿼리 (d21_, countdata, recursivecte, generatedrows, get, d42_, defectdata1, defectdata2, defectdata3, defectdata4, d21_tool)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch9",
        "queryType": "select",
        "tables": [
          "d21_",
          "countdata",
          "recursivecte",
          "generatedrows",
          "get",
          "d42_",
          "d05_",
          "defectdata1",
          "defectdata2"
        ],
        "columns": [
          "block수"
        ],
        "sql": "WITH CountData AS ( SELECT block수 AS TotalCount FROM d21_제조지시mst WHERE lot_no = ? ), RecursiveCTE AS ( SELECT 1 AS RowNumber FROM CountData WHERE TotalCount > 0 UNION ALL SELECT RowNumber + 1 FROM RecursiveCTE, CountData WHERE RowNumber <![CDATA[<]]> TotalCount ), GeneratedRows AS ( SELECT '#' + CAST(RowNumber AS NVARCHAR) AS bl_no FROM RecursiveCTE ), DefectData1 AS ( select gr.bl_no, isNull(a.불량수량, 0) 불량수량 from GeneratedRows gr left join ( select b.bl_no, isNull(sum(b.불량수량), 0) 불량수량 from Get공정",
        "description": "SELECT 쿼리 (d21_, countdata, recursivecte, generatedrows, get, d42_, d05_, defectdata1, defectdata2)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch10",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "불량코드",
          "불량명"
        ],
        "sql": "select 불량코드, 불량명 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) where 공정코드 = #{공정코드} and 비고 != '2' order by 적용순서",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch12",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_out"
        ],
        "columns": [
          "material_id",
          "사용횟수",
          "최대사용횟수",
          "사용구분",
          "line",
          "step_code",
          "equip_no"
        ],
        "sql": "select material_id 툴번호, 사용횟수, 최대사용횟수, 사용구분, line, step_code, equip_no from dw_sub_mat_tool_out where line = 'DFB1' and step_code = #{공정코드} and 사용구분 in ('커팅','중삭','정삭') and equip_no = ? and 폐기여부 = 'N' and 사용완료여부 = 'N' order by case when 사용구분 = '커팅' then 1 when 사용구분 = '중삭' then 2 when 사용구분 = '정삭' then 2 else 3 end, material_id",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_out)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch3",
        "queryType": "select",
        "tables": [
          "dw_sub_mat_tool_out"
        ],
        "columns": [
          "material_id"
        ],
        "sql": "select material_id 툴번호 from dw_sub_mat_tool_out where line = 'DFB1' and step_code = #{공정코드} and 사용구분 = #{사용구분} and equip_no = ? and 폐기여부 = 'N' and 사용완료여부 = 'N' order by material_id",
        "description": "SELECT 쿼리 (dw_sub_mat_tool_out)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch13",
        "queryType": "select",
        "tables": [
          "d42_"
        ],
        "columns": [
          "공정코드",
          "lotrun_id",
          "bl_no",
          "machine_code",
          "불량구분",
          "불량위치",
          "불량코드",
          "검사시각",
          "'none'"
        ],
        "sql": "select 공정코드, lotrun_id, bl_no, machine_code, 불량구분, 불량위치, 불량코드, 검사시각, 'none' state from d42_검사불량사유파일_block where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and 불량구분 = #{불량구분} and bl_no = ? and 불량코드 = #{불량코드} order by 불량위치, 불량코드",
        "description": "SELECT 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch14",
        "queryType": "select",
        "tables": [
          "get",
          "d42_",
          "d22_run",
          "defectdata1"
        ],
        "columns": [
          "a.공정코드",
          "a.불량코드",
          "a.불량명",
          "0)"
        ],
        "sql": "WITH DefectData1 AS ( </otherwise> </choose> ) select from DefectData1 d",
        "description": "SELECT 쿼리 (get, d42_, d22_run, defectdata1)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch15",
        "queryType": "select",
        "tables": [
          "d21_",
          "countdata",
          "recursivecte",
          "generatedrows",
          "get",
          "d42_",
          "defectdata1",
          "defectdata2",
          "defectdata3",
          "defectdata4"
        ],
        "columns": [
          "block수"
        ],
        "sql": "WITH CountData AS ( SELECT block수 AS TotalCount FROM d21_제조지시mst WHERE lot_no = ? ), RecursiveCTE AS ( SELECT 1 AS RowNumber FROM CountData WHERE TotalCount > 0 UNION ALL SELECT RowNumber + 1 FROM RecursiveCTE, CountData WHERE RowNumber <![CDATA[<]]> TotalCount ), GeneratedRows AS ( SELECT '#' + CAST(RowNumber AS NVARCHAR) AS bl_no FROM RecursiveCTE ), DefectData1 AS ( select gr.bl_no, isNull(a.불량수량, 0) 불량수량, isNull(a.cell별불량수량, 0) cell별불량수량 from GeneratedRows gr left join ( select b.bl_no, isNu",
        "description": "SELECT 쿼리 (d21_, countdata, recursivecte, generatedrows, get, d42_, defectdata1, defectdata2, defectdata3, defectdata4)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch17",
        "queryType": "select",
        "tables": [
          "checkpanelid",
          "get_",
          "dw_equipment_mast"
        ],
        "columns": [
          "panel_id",
          "근무조",
          "작업자",
          "설비호기",
          "설비약명",
          "start_time)",
          "start_time))",
          "end_time)",
          "end_time))",
          "tank_no",
          "batch_no"
        ],
        "sql": "select panel_id, 근무조, 작업자, 설비호기, 설비약명, LEFT(start_time, CHARINDEX(' ', start_time) - 1) AS 작업시작, RIGHT(start_time, LEN(start_time) - CHARINDEX(' ', start_time)) AS 시작시각, LEFT(end_time, CHARINDEX(' ', end_time) - 1) AS 작업종료, RIGHT(end_time, LEN(end_time) - CHARINDEX(' ', end_time)) AS 종료시각, tank_no, batch_no, (select * from CheckPanelId등록여부(?)) 등록여부 from Get_적층설비작업이력Summary(?) a left join dw_equipment_mast b on (b.line= 'DFB1' and b.공정코드 = #{공정코드} and b.설비번호 = a.설비호기)",
        "description": "SELECT 쿼리 (checkpanelid, get_, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch2",
        "queryType": "select",
        "tables": [
          "d21_",
          "dw_equipment_mast"
        ],
        "columns": [
          "a.lot_no"
        ],
        "sql": "select a.lot_no from ( select a.lot_no, a.machine_code from d21_제조지시vlr a where a.lot_no = ? and a.공정코드 = #{공정코드} union select a.lot_no, a.machine_code from d21_제조지시vlr a left join dw_equipment_mast c on (c.line= 'DFB1' and a.공정코드 = c.공정코드 and a.machine_code = c.설비번호) where 1=1 and exists ( select 1 from d21_제조지시vlr b left join dw_equipment_mast d on (d.line= 'DFB1' and b.공정코드 = d.공정코드 and b.machine_code = d.설비번호) where a.공정코드 = b.공정코드 and nullif(b.작업시작, '') is not null and nullif(b.시작시각, '') is",
        "description": "SELECT 쿼리 (d21_, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch7",
        "queryType": "select",
        "tables": [
          "get",
          "d21_",
          "d03_",
          "d04_",
          "d05_",
          "dw_equipment_mast",
          "d21_tool",
          "d22_run"
        ],
        "columns": [
          "a.lot_no",
          "b.공정코드",
          "b.p_code",
          "c.거래처명",
          "e.제품모델",
          "a.제품_inch",
          "e.제품버젼",
          "d.자재품명",
          "e.제품규격",
          "a.입고일자",
          "a.sheet",
          "a.block수",
          "a.cell수",
          "a.작업일자",
          "a.생성수량",
          "a.작업지시일자",
          "발행자",
          "a.승인일자",
          "승인자",
          "a.panel_id"
        ],
        "sql": "select a.lot_no, b.공정코드, b.p_code, c.거래처명, e.제품모델, a.제품_inch, e.제품버젼, d.자재품명, e.제품규격, a.입고일자, a.sheet, a.block수, a.cell수, a.작업일자, a.생성수량, a.작업지시일자, 발행자, a.승인일자, 승인자, a.panel_id, a.특기사항, a.시작온도, a.종료온도, a.전면광량, a.후면광량, b.작업자, b.shift, coalesce(b.작업조, (select shift from Get주간야간구분())) 작업조, b.machine_code, f.설비명, f.설비약명, f.chamber, b.작업시작, b.시작시각, b.작업종료, b.종료시각, b.투입수량, b.양품수량, b.검사수량, b.불량수량, b.cell수량, b.특이사항, b.공정_비고, g.tool_no_컷팅, g.tool_no_중삭, g.tool_no_정삭, i.작업종료 as 전작업종료, (case when #{공정코드} =",
        "description": "SELECT 쿼리 (get, d21_, d03_, d04_, d05_, dw_equipment_mast, d21_tool, d22_run)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipHeaderList",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "공정코드",
          "공정명",
          "HEADER",
          "seq"
        ],
        "sql": "select 공정코드 ,공정명 ,HEADER ,seq from dw_재공재고Report순서 where 공정별_작업이력요약 != 'X' order by seq",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipDataList",
        "queryType": "select",
        "tables": [
          "dw_",
          "pivotdata"
        ],
        "columns": [
          "@columns",
          "'",
          "')"
        ],
        "sql": "DECLARE @columns NVARCHAR(MAX); DECLARE @sql NVARCHAR(MAX); -- 동적으로 컬럼 목록 생성 SELECT @columns = STRING_AGG(QUOTENAME(공정코드+'seq'+seq), ',') FROM (SELECT DISTINCT 공정코드,seq FROM dw_재공재고Report순서 where 공정별_작업이력요약 != 'X') AS 공정코드; -- 동적 SQL 생성 SET @sql = ' WITH PivotData AS ( SELECT a.mat_id ,b.작업구분 ,c.공정코드 +''seq''+c.seq as fn ,c.공정명 ,CASE WHEN a.작업구분 = b.작업구분 AND a.공정코드 = c.공정코드 AND a.seq = c.seq THEN a.수량 ELSE 0 END AS 수량 ,case when right(a.mat_id,1) = ''P'' then 1 when right(a.mat_id,1) = ''D'' the",
        "description": "SELECT 쿼리 (dw_, pivotdata)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipDateTimeList",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "집계일자",
          "4)",
          "3",
          "0",
          "':')"
        ],
        "sql": "/*selectWipDateTimeList - 집계일의 타임리스트 가져오기*/ select 집계일자 as value ,STUFF(RIGHT(집계일자, 4), 3, 0, ':') as text from dw_재공재고집계 WITH (NOLOCK) where 집계일자 like ? + '%' group by 집계일자 order by 집계일자 desc",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipDtlFrontW",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "area",
          "공정코드",
          "lot_no",
          "수량",
          "종료시간",
          "대기시간",
          "상태",
          "특이사항"
        ],
        "sql": "select distinct 집계일시, area, 공정코드, lot_no OBJ_NO, 수량, 종료시간, 대기시간, 상태, 특이사항, lot_no from DW_재공재고_FRONT_작업대기 where 1=1 and 집계일시 = ? and 공정코드 = ? order by lot_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipDtlFrontI",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "공정코드",
          "lot_no",
          "수량",
          "설비약명",
          "작업자",
          "시작시간",
          "상태"
        ],
        "sql": "select distinct area, 공정코드, lot_no OBJ_NO, 수량, 설비약명, 작업자, 시작시간, 상태, lot_no from DW_재공재고_FRONT_작업중 where 1=1 and 집계일시 = ? and 공정코드 = ? order by lot_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipDtlBackW",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "area",
          "공정코드",
          "run_no",
          "수량",
          "종료시간",
          "대기시간",
          "상태",
          "상태)"
        ],
        "sql": "select distinct 집계일시, area, 공정코드, run_no OBJ_NO, 수량, 종료시간, 대기시간, 상태, max(특이사항) over (partition by 집계일시, area, 공정코드, run_no, 수량, 종료시간, 대기시간, 상태) 특이사항, run_no from dw_재공재고_BACK_작업대기 where 1=1 and 집계일시 = ? and 공정코드 = ? order by run_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipDtlBackI",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "공정코드",
          "run_no",
          "수량",
          "설비약명",
          "작업자",
          "시작시간",
          "상태"
        ],
        "sql": "select distinct area, 공정코드, run_no OBJ_NO, 수량, 설비약명, 작업자, 시작시간, 상태, run_no from dw_재공재고_BACK_작업중 a where 1=1 and 집계일시 = ? and 공정코드 = ? order by run_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipDtlLotCardW",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "area",
          "공정코드",
          "lot_no",
          "수량",
          "종료시간",
          "대기시간",
          "상태",
          "특이사항"
        ],
        "sql": "select distinct 집계일시, area, 공정코드, lot_no OBJ_NO, 수량, 종료시간, 대기시간, 상태, 특이사항, lot_no from DW_재공재고_FRONT_작업대기 where 1=1 and 집계일시 = ? and 공정코드 = ? order by lot_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWipDtlRunCardW",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "area",
          "공정코드",
          "lot_no",
          "수량",
          "종료시간",
          "대기시간",
          "상태",
          "특이사항"
        ],
        "sql": "select distinct 집계일시, area, 공정코드, lot_no obj_no, 수량, 종료시간, 대기시간, 상태, 특이사항, lot_no from DW_재공재고_FRONT_작업대기 where 1=1 and 집계일시 = ? and 공정코드 = ? order by lot_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "execCalcWipNow",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_재공재고_집계 ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003005",
        "queryId": "execCalcDprNow",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_dw_일별_공정별_생산집계 ?,?,null,'ACTUAL';",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWorkEndByFac1",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [
          "설비명"
        ],
        "sql": "select * --설비약명, 설비명 from Get_설비별_작업완료_요약(?,?,?);",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWorkEndByFac2",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [
          "설비명"
        ],
        "sql": "select * --설비약명, 설비명 from Get_설비별_작업완료_모델별(?,?,?);",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWorkEndByFac3",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [
          "설비명"
        ],
        "sql": "select * --설비약명, 설비명 from Get_설비별_작업완료_lot_run_no(?,?,?);",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWorkIngByFac1",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [
          "설비명"
        ],
        "sql": "select * --설비약명, 설비명 from Get_설비별_작업중_요약(?,?,?)",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWorkIngByFac2",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [
          "설비명"
        ],
        "sql": "select * --설비약명, 설비명 from Get_설비별_작업중_모델별(?,?,?)",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectWorkIngByFac3",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [
          "설비명"
        ],
        "sql": "select * --설비약명, 설비명 from Get_설비별_작업중_lot_run_no(?,?,?)",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch4",
        "queryType": "select",
        "tables": [
          "get",
          "d21_",
          "d03_",
          "d04_",
          "d05_",
          "dw_equipment_mast",
          "d21_tool",
          "d22_run"
        ],
        "columns": [
          "a.lot_no",
          "b.공정코드",
          "b.p_code",
          "c.거래처명",
          "e.제품모델",
          "a.제품_inch",
          "e.제품버젼",
          "d.자재품명",
          "e.제품규격",
          "a.입고일자",
          "a.sheet",
          "a.block수",
          "a.cell수",
          "a.작업일자",
          "a.생성수량",
          "a.작업지시일자",
          "발행자",
          "a.승인일자",
          "승인자",
          "a.panel_id"
        ],
        "sql": "select a.lot_no, b.공정코드, b.p_code, c.거래처명, e.제품모델, a.제품_inch, e.제품버젼, d.자재품명, e.제품규격, a.입고일자, a.sheet, a.block수, a.cell수, a.작업일자, a.생성수량, a.작업지시일자, 발행자, a.승인일자, 승인자, a.panel_id, a.특기사항, a.시작온도, a.종료온도, a.전면광량, a.후면광량, b.작업자, b.shift, coalesce(b.작업조, (select shift from Get주간야간구분())) 작업조, b.machine_code, f.설비명, f.설비약명, f.chamber, b.작업시작, b.시작시각, b.작업종료, b.종료시각, b.투입수량, b.양품수량, b.검사수량, b.불량수량, b.cell수량, b.특이사항, b.공정_비고, g.tool_no_컷팅, g.tool_no_중삭, g.tool_no_정삭, g.컷팅, g.중삭, g.정삭, i.작업종료 as 전작업종료, (c",
        "description": "SELECT 쿼리 (get, d21_, d03_, d04_, d05_, dw_equipment_mast, d21_tool, d22_run)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch11",
        "queryType": "select",
        "tables": [
          "d21_",
          "dw_equipment_mast"
        ],
        "columns": [
          "a.lot_no"
        ],
        "sql": "select a.lot_no from d21_제조지시mst a join d21_제조지시vlr b on (a.lot_no = b.lot_no and b.공정코드= #{공정코드}) left join dw_equipment_mast f on (f.line= 'DFB1' and b.공정코드 = f.공정코드 and b.machine_code = f.설비번호) where 1=1 and exists ( select 1 from d21_제조지시mst c join d21_제조지시vlr d on (c.lot_no = d.lot_no and d.공정코드= #{공정코드}) left join dw_equipment_mast g on (f.line= 'DFB1' and b.공정코드 = f.공정코드 and b.machine_code = f.설비번호) where 1=1 and c.lot_no = ? and d.작업시작 = b.작업시작 and substring(d.시작시각, 1, 5) = substring(b.시",
        "description": "SELECT 쿼리 (d21_, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch18",
        "queryType": "select",
        "tables": [
          "d21_",
          "dw_equipment_mast"
        ],
        "columns": [
          "a.lot_no"
        ],
        "sql": "select a.lot_no from d21_제조지시mst a join d21_제조지시vlr b on (a.lot_no = b.lot_no and b.공정코드= #{공정코드}) left join dw_equipment_mast f on (f.line= 'DFB1' and b.공정코드 = f.공정코드 and b.machine_code = f.설비번호) where 1=1 and exists ( select 1 from d21_제조지시mst c join d21_제조지시vlr d on (c.lot_no = d.lot_no and d.공정코드= #{공정코드}) left join dw_equipment_mast g on (f.line= 'DFB1' and b.공정코드 = f.공정코드 and b.machine_code = f.설비번호) where 1=1 and c.lot_no = ? and d.작업시작 = b.작업시작 and substring(d.시작시각, 1, 5) = substring(b.시",
        "description": "SELECT 쿼리 (d21_, dw_equipment_mast)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch19",
        "queryType": "select",
        "tables": [
          "get",
          "d21_",
          "d03_",
          "d04_",
          "d05_",
          "dw_equipment_mast",
          "d21_tool",
          "d22_run"
        ],
        "columns": [
          "a.lot_no",
          "b.공정코드",
          "b.p_code",
          "c.거래처명",
          "e.제품모델",
          "a.제품_inch",
          "e.제품버젼",
          "d.자재품명",
          "e.제품규격",
          "a.입고일자",
          "a.sheet",
          "a.block수",
          "a.cell수",
          "a.작업일자",
          "a.생성수량",
          "a.작업지시일자",
          "발행자",
          "a.승인일자",
          "승인자",
          "a.panel_id"
        ],
        "sql": "select a.lot_no, b.공정코드, b.p_code, c.거래처명, e.제품모델, a.제품_inch, e.제품버젼, d.자재품명, e.제품규격, a.입고일자, a.sheet, a.block수, a.cell수, a.작업일자, a.생성수량, a.작업지시일자, 발행자, a.승인일자, 승인자, a.panel_id, a.특기사항, a.시작온도, a.종료온도, a.전면광량, a.후면광량, b.작업자, b.shift, coalesce(b.작업조, (select shift from Get주간야간구분())) 작업조, b.machine_code, f.설비명, f.설비약명, f.chamber, b.작업시작, b.시작시각, b.작업종료, b.종료시각, b.투입수량, b.양품수량, b.검사수량, b.불량수량, b.cell수량, b.특이사항, b.공정_비고, g.tool_no_컷팅, g.tool_no_중삭, g.tool_no_정삭, g.컷팅, g.중삭, g.정삭, i.작업종료 as 전작업종료, (c",
        "description": "SELECT 쿼리 (get, d21_, d03_, d04_, d05_, dw_equipment_mast, d21_tool, d22_run)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch20",
        "queryType": "select",
        "tables": [
          "get",
          "d42_",
          "d22_run",
          "defectdata1"
        ],
        "columns": [
          "a.공정코드",
          "a.불량코드",
          "a.불량명",
          "0)"
        ],
        "sql": "WITH DefectData1 AS ( </otherwise> </choose> ) select from DefectData1 d",
        "description": "SELECT 쿼리 (get, d42_, d22_run, defectdata1)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Sch21",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [
          "불량코드",
          "불량명"
        ],
        "sql": "select 불량코드, 불량명 from Get공정별불량파일(?, #{공정코드}, #{자동여부}) where 공정코드 = #{공정코드} and 비고 = '2' order by 적용순서",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip074",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_포장출하_출하검사대기(null) where 공정코드 = '074'",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip077Wait",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_포장출하_출하검사_작업대기(null) where 공정코드 = '077'",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip077",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_포장출하_출하검사_작업중(null) where 공정코드 = '077'",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip080",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_포장출하_반출대기(null) where 공정코드 = '080'",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip081",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_포장출하_소포장반출(null) where 공정코드 = '081'",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip082",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_포장출하_출하대기(null) where 1=1",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip002",
        "queryType": "select",
        "tables": [
          "get_rework_mbox"
        ],
        "columns": [],
        "sql": "select * from Get_Rework_MBox대기(null,null,null) WHERE",
        "description": "SELECT 쿼리 (get_rework_mbox)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip003",
        "queryType": "select",
        "tables": [
          "get_rework_mrun"
        ],
        "columns": [],
        "sql": "select * from Get_Rework_MRUN대기(null,null,null,null) WHERE",
        "description": "SELECT 쿼리 (get_rework_mrun)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShip022",
        "queryType": "select",
        "tables": [
          "get_rework_"
        ],
        "columns": [],
        "sql": "select * from Get_Rework_필름박리대기(null,null,null,null) WHERE",
        "description": "SELECT 쿼리 (get_rework_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectPackShipIng022",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "공정코드",
          "run_no",
          "수량",
          "설비약명",
          "작업자",
          "시작시간",
          "상태"
        ],
        "sql": "select distinct area, 공정코드, run_no OBJ_NO, 수량, 설비약명, 작업자, 시작시간, 상태, run_no from dw_재공재고_BACK_작업중 a where 집계일시 = ? and substring(run_no, 1,4) + substring(run_no, 11,1) = ? and 공정코드 = '022' order by run_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectDprHeaderList",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "/*selectDprHeaderList*/ select * from Get_모델별_생산일보_기간조회(?)",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "selectDprList",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "/*selectDprList*/ select * from Get_모델별_생산일보(?) order by 구분_ord, 도우코드, 도우모델, 작업구분, org작업구분",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Insert1",
        "queryType": "insert",
        "tables": [
          "d42_"
        ],
        "columns": [],
        "sql": "insert into d42_검사불량사유파일_block(공장코드,공정코드,lotrun_id,machine_code,불량구분,BL_NO,불량위치,불량코드,불량수량,검사시각) values ('2', #{공정코드}, ?, coalesce(?, '-'), #{불량구분}, ?, #{불량위치}, #{불량코드}, 1, #{검사시각})",
        "description": "INSERT 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Start",
        "queryType": "update",
        "tables": [
          "d42_",
          "d21_",
          "d21_tool",
          "mst",
          "get"
        ],
        "columns": [
          "sheet",
          "cell수"
        ],
        "sql": "delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d42_검사불량사유파일_block where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d21_치수측정파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lot_no = ?; delete from d21_tool사용현황 where 공장코드 = '2' and 공정코드 = #{공정코드} and lot_no = ?; update d21_제조지시vlr set 작업시작=#{작업시작} ,시작시각=#{시작시각} ,투입수량 = isNull((select in_qty from mst), 0) ,양품",
        "description": "UPDATE 쿼리 (d42_, d21_, d21_tool, mst, get)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_TempMst",
        "queryType": "update",
        "tables": [
          "d21_"
        ],
        "columns": [],
        "sql": "update d21_제조지시mst set where lot_no = ?",
        "description": "UPDATE 쿼리 (d21_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_TempVlr",
        "queryType": "update",
        "tables": [
          "d21_",
          "d42_"
        ],
        "columns": [],
        "sql": "update d21_제조지시vlr set 작업자=#{작업자} ,shift=? ,machine_code = ? ,p_code = coalesce(?,'') ,공정_비고 = #{공정비고} ,특이사항 = #{특이사항} where lot_no = ? and 공정코드= #{공정코드}; update d42_검사불량사유파일 set machine_code = coalesce(?, '-') where lotrun_id = ? and 공정코드= #{공정코드}; update d42_검사불량사유파일_block set machine_code = coalesce(?, '-') where lotrun_id = ? and 공정코드= #{공정코드};",
        "description": "UPDATE 쿼리 (d21_, d42_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_End",
        "queryType": "update",
        "tables": [
          "d21_",
          "mst"
        ],
        "columns": [
          "block수"
        ],
        "sql": "update d21_제조지시vlr set 작업종료=#{작업종료} ,종료시각=#{종료시각} ,양품수량 = isnull((투입수량 - 불량수량), 0) ,검사수량 = 투입수량 ,cell수량 = isnull(((select mst수량 from mst) * (투입수량 - 불량수량)), 0) ,bef_공정코드 = (case when #{공정코드} = '010' then '010' when #{공정코드} = '013' then '010' when #{공정코드} = '015' then '013' when #{공정코드} = '017' then '015' when #{공정코드} = '020' then '017' else null end) ,nxt_공정코드 = (case when #{공정코드} = '010' then '013' when #{공정코드} = '013' then '015' when #{공정코드} = '015' then '017' when #{공정코드} = '017' then '020' wh",
        "description": "UPDATE 쿼리 (d21_, mst)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Error",
        "queryType": "update",
        "tables": [
          "get",
          "d42_",
          "d21_",
          "error_cnt",
          "mst",
          "d29_"
        ],
        "columns": [
          "0))"
        ],
        "sql": "",
        "description": "UPDATE 쿼리 (get, d42_, d21_, error_cnt, mst, d29_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Update6",
        "queryType": "update",
        "tables": [
          "d21_",
          "set"
        ],
        "columns": [],
        "sql": "merge into d21_치수측정파일 as t using (values (?, #{공정코드}, ?, #{offSet추천값}, #{offSet전}, #{offSet후}, #{판정Control}, #{판정Space}, #{편차단축}, #{편차장축}, #{두께수치}, #{단측수치1}, #{단측수치2}, #{단측수치3}, #{장측수치1}, #{장측수치2}, #{장측수치3}, #{담당자}, #{비고})) as s (lot_no,공정코드,bl_no,off_set_추천값,off_set_전,off_set_후,판정_control,판정_space,편차단축,편차장축,두께수치,단측수치1,단측수치2,단측수치3,장측수치1,장측수치2,장측수치3,담당자,비고) on t.공장코드 = '2' and t.lot_no = s.lot_no and t.공정코드 = s.공정코드 and t.bl_no = s.bl_no when matched then update set off_set_추천값 = s.off_set_추천값, o",
        "description": "UPDATE 쿼리 (d21_, set)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Update1",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tool_out"
        ],
        "columns": [],
        "sql": "update dw_sub_mat_tool_out set 폐기여부 = 'Y' where line = ? and step_code = ? and 사용구분 = #{사용구분} and equip_no = ? and material_id = #{툴번호}",
        "description": "UPDATE 쿼리 (dw_sub_mat_tool_out)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Update7",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tool_out",
          "d21_tool",
          "set"
        ],
        "columns": [
          "사용횟수"
        ],
        "sql": "begin transaction; commit;",
        "description": "UPDATE 쿼리 (dw_sub_mat_tool_out, d21_tool, set)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Update8",
        "queryType": "update",
        "tables": [
          "d42_"
        ],
        "columns": [],
        "sql": "update d42_검사불량사유파일_BLOCK set cell별불량수량 = isNull(#{cell별불량수량}, 0) where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and bl_no = ?",
        "description": "UPDATE 쿼리 (d42_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Update9",
        "queryType": "update",
        "tables": [
          "d42_",
          "set"
        ],
        "columns": [
          "공정코드",
          "lotrun_id",
          "불량코드"
        ],
        "sql": "delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; merge into d42_검사불량사유파일 as t using ( select 공정코드, lotrun_id, 불량코드, sum(불량수량) 불량수량, max(검사시각) 검사시작 from ( select 공정코드, lotrun_id, 불량코드, bl_no, 1 as 불량수량, max(검사시각) as 검사시각 from d42_검사불량사유파일_block where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? group by 공정코드, lotrun_id, 불량코드, bl_no ) a group by 공정코드, lotrun_id, 불량코드 ) as s (공정코드, lotrun_id, 불량코드, 불량수량, 검사시각) on t.공정코드 = s.공정코드 and t.lotrun_id = s.lotrun_id and t.",
        "description": "UPDATE 쿼리 (d42_, set)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_AutoPanelId",
        "queryType": "update",
        "tables": [
          "d21_",
          "get",
          "d42_"
        ],
        "columns": [
          "shift"
        ],
        "sql": "update d21_제조지시mst set panel_id = ? where lot_no = ?; update d21_제조지시vlr set 작업자=#{작업자} ,shift=#{근무조} ,작업조=(SELECT shift FROM Get주간야간구분1(#{시작시각})) ,작업시작=#{작업시작} ,시작시각=#{시작시각} ,작업종료=#{작업종료} ,종료시각=#{종료시각} ,machine_code = #{설비호기} ,p_code = ? ,공정_비고 = ? where lot_no = ? and 공정코드= #{공정코드}; update d42_검사불량사유파일 set machine_code = coalesce(?, '-') where lotrun_id = ? and 공정코드= #{공정코드};",
        "description": "UPDATE 쿼리 (d21_, get, d42_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_AUTOPANEL",
        "queryType": "update",
        "tables": [
          "d42_",
          "d21_",
          "d21_tool",
          "mst",
          "get"
        ],
        "columns": [
          "sheet",
          "cell수"
        ],
        "sql": "delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d42_검사불량사유파일_block where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d21_치수측정파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lot_no = ?; delete from d21_tool사용현황 where 공장코드 = '2' and 공정코드 = #{공정코드} and lot_no = ?; with mst as ( select sheet in_qty, cell수 from d21_제조지시mst where lot_no = ? ) update d21_제조지시vlr s",
        "description": "UPDATE 쿼리 (d42_, d21_, d21_tool, mst, get)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_cancel",
        "queryType": "update",
        "tables": [
          "dw_sub_mat_tool_out",
          "d42_",
          "d21_",
          "d21_tool"
        ],
        "columns": [],
        "sql": "delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d42_검사불량사유파일_cell where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d42_검사불량사유파일_block where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ?; delete from d21_치수측정파일 where 공장코드 = '2' and 공정코드 = #{공정코드} and lot_no = ?; delete from d21_tool사용현황 where 공장코드 = '2' and 공정코드 = #{공정코드} and lot_no = ?; update d21_제조지시vlr set BEF_공정코드 = null ,NXT_공정코드 = null ,작업시작 = null ,시작시각 = null ,작업종료 = null ,종",
        "description": "UPDATE 쿼리 (dw_sub_mat_tool_out, d42_, d21_, d21_tool)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Delete2",
        "queryType": "delete",
        "tables": [
          "d21_"
        ],
        "columns": [],
        "sql": "delete from d21_치수측정파일 where 공장코드 = '2' and lot_no = ? and 공정코드 = #{공정코드}",
        "description": "DELETE 쿼리 (d21_)"
      },
      {
        "mapperId": "M0003005",
        "queryId": "M0003005_Delete1",
        "queryType": "delete",
        "tables": [
          "d42_"
        ],
        "columns": [],
        "sql": "delete from d42_검사불량사유파일_block where 공장코드 = '2' and 공정코드 = #{공정코드} and lotrun_id = ? and bl_no = ? and 불량구분 = #{불량구분}",
        "description": "DELETE 쿼리 (d42_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0003007",
      "screenName": "Tab 0 Lot Card 발행",
      "menuPath": "Tab 0 Lot Card 발행",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0003000/M0003007.vue",
      "tabs": [
        "TAB015000",
        "TAB016000",
        "TAB017000"
      ],
      "description": "Lot Card 발행, Run Card #1 발행"
    },
    "queries": [
      {
        "mapperId": "M0003007",
        "queryId": "getModels",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code_name",
          "code"
        ],
        "sql": "select code_name 제품유형,code 코드 from dw_common_code where maj_code='36' order by code_name",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getWorkTypes",
        "queryType": "select",
        "tables": [
          "d02_"
        ],
        "columns": [
          "내용",
          "코드"
        ],
        "sql": "select 내용 작업구분, 코드 from d02_일반코드파일 where 대분류='31' order by 내용",
        "description": "SELECT 쿼리 (d02_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getStackEquip",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [
          "설비번호",
          "설비약명"
        ],
        "sql": "select 설비번호,설비약명 from dw_equipment_mast where 공정코드='010';",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getProcEquip",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [
          "설비번호",
          "설비약명+'"
        ],
        "sql": "select 설비번호,설비약명+' '+chamber 설비약명 from dw_equipment_mast where 공정코드='013';",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getPoStatus",
        "queryType": "select",
        "tables": [
          "d21_",
          "d33_"
        ],
        "columns": [
          "PO_NO",
          "수주일자)",
          "'yyyy-MM-dd')",
          "거래처코드",
          "제품코드",
          "수주수량",
          "0)"
        ],
        "sql": "select PO_NO,FORMAT(convert(date,수주일자),'yyyy-MM-dd') PO_DATE, 거래처코드,제품코드, 수주수량 총수량,수주수량-(select ISNULL(SUM(CELL수),0) from d21_제조지시MST where po_no=?) 잔량 from d33_제품수주서파일 a where po_no like ? --PO_NO",
        "description": "SELECT 쿼리 (d21_, d33_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getLotSize",
        "queryType": "select",
        "tables": [
          "d33_",
          "dw_product_mast"
        ],
        "columns": [
          "b.Block",
          "b.Sheet"
        ],
        "sql": "select b.Sheet*b.Block Cell,b.Block,b.Sheet from d33_제품수주서파일 a left join dw_product_mast b on(a.제품코드=b.Prod_code) where po_no like ? --선택된 PO_NO",
        "description": "SELECT 쿼리 (d33_, dw_product_mast)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getProdStatus",
        "queryType": "select",
        "tables": [
          "d33_",
          "dw_product_mast",
          "dw_vendor_mast"
        ],
        "columns": [
          "c.name",
          "b.Model",
          "b.Inch",
          "b.Version",
          "b.Spec"
        ],
        "sql": "select c.name,b.Model 모델,b.Inch,b.Version 제품버젼 ,b.Spec 규격 --select c.* from d33_제품수주서파일 a left join dw_product_mast b on(a.제품코드=b.Prod_code) left join dw_vendor_mast c on (a.거래처코드 = c.code and trade_code=30) where po_no like ? --선택된 PO_NO",
        "description": "SELECT 쿼리 (d33_, dw_product_mast, dw_vendor_mast)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getLotStartLabel",
        "queryType": "select",
        "tables": [
          "d21_"
        ],
        "columns": [
          "lot_no",
          "10)+2",
          "4))",
          "0)",
          "'0000')"
        ],
        "sql": "select ?+FORMAT(CAST(COALESCE(max(substring(lot_no,CHARINDEX('-',lot_no,10)+2,4)),0) as INT)+1,'0000') lot_start_label from d21_제조지시MST where lot_no like ?+'F'+substring(CONVERT(VARCHAR(10), GETDATE(), 112),3,4)+'-'+?+'%'",
        "description": "SELECT 쿼리 (d21_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getLotInfo",
        "queryType": "select",
        "tables": [
          "d02_",
          "d21_",
          "dw_product_mast",
          "d04_",
          "d33_",
          "d03_",
          "dw_common_code"
        ],
        "columns": [
          "a.PO_NO",
          "f.수주일자)",
          "'yyyy-MM-dd')",
          "f.수주수량",
          "a.당일투입량",
          "시작LOT_NO",
          "생성수량",
          "잔여량",
          "a.작업지시일자",
          "a.작업구분",
          "g.거래처명",
          "e.Model",
          "e.Inch",
          "e.Glass_thick",
          "e.Version",
          "e.Spec",
          "e.Model+'",
          "a.제품코드",
          "1",
          "9)"
        ],
        "sql": "SELECT a.PO_NO, FORMAT(convert(date,f.수주일자),'yyyy-MM-dd') po_date, f.수주수량 총수량, f.수주수량-SUM(a.cell수) OVER (PARTITION BY a.po_no) 잔량, a.당일투입량 today_input, 시작LOT_NO start_label, 생성수량 create_qty, 잔여량 remain_qty, a.작업지시일자 지시일자, a.작업구분 작업구분코드, g.거래처명, e.Model 제품모델, e.Inch 제품Inch, e.Glass_thick GLASS두께, e.Version 제품버젼, e.Spec 제품규격, e.Model+' '+CAST(e.Inch AS VARCHAR)+' '+CAST(e.GLASS_Thick AS varchar)+' '+e.Version+' '+CAST(e.sheet AS VARCHAR)+' '+CAST(Block AS VARCHAR)+' '+CAST(RUN_SIZE AS VARCHAR)+' [",
        "description": "SELECT 쿼리 (d02_, d21_, dw_product_mast, d04_, d33_, d03_, dw_common_code)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getCreatedLotInfo",
        "queryType": "select",
        "tables": [
          "d33_",
          "d05_",
          "generateseries"
        ],
        "columns": [
          "제품코드"
        ],
        "sql": "BEGIN DECLARE @PO_NO varchar(20) = ?; DECLARE @지시일자 DATE = CAST(FORMAT(GETDATE(), 'yyyy-MM-dd') AS DATE); DECLARE @제품코드 VARCHAR(6) = (select 제품코드 from d33_제품수주서파일 where po_no =@PO_NO); DECLARE @제품품명 varchar(70) = (SELECT e.제품모델+' '+CAST(e.제품Inch AS VARCHAR)+' '+e.GLASS두께+' '+e.제품버젼+' '+CAST(e.sheet AS VARCHAR)+' '+CAST(Block AS VARCHAR)+' '+CAST(RUN_SIZE AS VARCHAR)+' ['+제품규격+']' 제품품명 from d05_제품마스터파일 e WHERE e.제품코드 =@제품코드); DECLARE @수량 INT = CAST(? as INT); -- LOT Size의 CELL 값 DECLARE @적층수 INT ",
        "description": "SELECT 쿼리 (d33_, d05_, generateseries)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "saveLotInfo",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC dbo.Lot_Create @MODEL = ?, @PO_NO = ?, @WORK_CODE = ?, --작업구분 @거래처코드 = ?, @당일투입량 = ?, @Lot_시작 = ?, @생성수 = ?, @제품코드 = ?, @자재코드 = ?, @발행자 = ?, @승인자 = ?, @승인일자 = ?, @입고일자 = ?, --FAB_IN_DATE @입고시각 = ?, --FAB_IN_TIME @작업일자 = ?, --FAB_OUT_DATE @작업시각 = ?, --FAB OUT TIME @특기사항 = ?; --특이사항",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003007",
        "queryId": "deleteLotInfo",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC dbo.Lot_delete @lot_no = ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getRunCards",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d21_",
          "lot_run",
          "sort_run_lot"
        ],
        "columns": [
          "a.작업지시일자",
          "a.run_no",
          "a.특기사항",
          "b.lot_no",
          "a.block수",
          "b.run_cell1",
          "case"
        ],
        "sql": "BEGIN DECLARE @제품유형 varchar(2) = ?; DECLARE @작업구분 varchar(2) = ?; --(P) Production Run_정규 DECLARE @시작일 varchar(8) = ? ; DECLARE @종료일 varchar(8) = ?; declare @적층설비 VARCHAR(3) = NULL; --'008'; --RL#A 가 선택된 경우 선택 안되었을때는 NULL declare @형상설비 VARCHAR(3) = NULL; --'021'; --CN#1 R 이 선택된 경우선택 안되었을때는 NULL with lot_run as ( select a.작업지시일자,a.run_no,a.특기사항,b.lot_no as lot_no,a.block수 block,b.run_cell1 cell ,case when @적층설비 is null then 1 when c.Machine_Code=@적층설비 then 1 else 0 end 적층 ,case when @형상설비 is null",
        "description": "SELECT 쿼리 (d22_run, d21_, lot_run, sort_run_lot)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getLotInfoByRun",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d21_",
          "d29_"
        ],
        "columns": [
          "b.lot_no",
          "b.Sheet",
          "b.BLOCK수",
          "b.CELL수",
          "a.run_no",
          "case",
          "b.run_no2",
          "0)",
          "5",
          "0",
          "':')",
          "3",
          "a.발행자",
          "a.승인자",
          "e.설비약명",
          "f.설비약명",
          "d.특이사항"
        ],
        "sql": "select b.lot_no, b.Sheet, b.BLOCK수 Block, b.CELL수 cell, a.run_no run_no1, case when a.run_no = b.run_no1 then b.run_cell1 else b.run_cell2 end run_cell1, b.run_no2, coalesce(b.run_cell2,0) run_cell2, CAST(a.입고일자 AS DATE) 입고일자, STUFF(STUFF(a.입고시각, 5, 0, ':'), 3, 0, ':') 입고시각, CAST(a.작업일자 AS DATE) 작업일자, STUFF(STUFF(a.작업시각, 5, 0, ':'), 3, 0, ':') 작업시각, a.발행자,a.승인자,CAST(d.작업일자 AS DATE) 지시일자,e.설비약명 적층설비,f.설비약명 가공설비,d.특이사항 from d22_RUN제조MST a LEFT JOIN d21_제조지시MST b on (a.run_no = b.run_no1 OR a.run_n",
        "description": "SELECT 쿼리 (d22_run, d21_, d29_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getLotInfoByRunAll",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d21_",
          "d29_"
        ],
        "columns": [
          "b.lot_no",
          "b.Sheet",
          "b.BLOCK수",
          "b.CELL수",
          "b.run_no1",
          "b.run_cell1",
          "b.run_no2",
          "b.run_cell2",
          "5",
          "0",
          "':')",
          "3",
          "'-')",
          "a.발행자",
          "a.승인자",
          "e.설비약명",
          "f.설비약명",
          "d.특이사항"
        ],
        "sql": "select b.lot_no, b.Sheet, b.BLOCK수 Block, b.CELL수 cell, b.run_no1, b.run_cell1, b.run_no2, b.run_cell2, CAST(a.입고일자 AS DATE) 입고일자, STUFF(STUFF(a.입고시각, 5, 0, ':'), 3, 0, ':') 입고시각, CAST(nullif(a.작업일자,'-') AS DATE) 작업일자, STUFF(STUFF(a.작업시각, 5, 0, ':'), 3, 0, ':') 작업시각, a.발행자,a.승인자,CAST(d.작업일자 AS DATE) 지시일자,e.설비약명 적층설비,f.설비약명 가공설비,d.특이사항 from d22_RUN제조MST a LEFT JOIN d21_제조지시MST b on (a.run_no = b.run_no1) LEFT JOIN d21_제조지시VLR c on (b.lot_no=c.lot_no and c.공정코드 ='010') --적층 LEFT JOIN d21_제조지시VLR d",
        "description": "SELECT 쿼리 (d22_run, d21_, d29_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "cancelRunCard",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC dbo.RUN_Cancel @RUN_NO = ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getLotInfoForRunCreate",
        "queryType": "select",
        "tables": [
          "d21_",
          "dw_equipment_mast",
          "d22_run"
        ],
        "columns": [
          "a.작업지시일자",
          "a.lot_no",
          "a.Sheet",
          "a.BLOCK수",
          "b.양품수량",
          "run_no1",
          "run_cell1",
          "run_no2",
          "run_cell2",
          "g.입고일자)",
          "'yyyy-MM-dd')+'",
          "3",
          "0",
          "':')",
          "6",
          "'-'))",
          "g.발행자",
          "g.발행자서명",
          "g.승인자",
          "g.승인자서명"
        ],
        "sql": "begin declare @제품유형 varchar(2) = ?; --7073 declare @작업구분 varchar (2) = ?; --(D) Development Run_개발 declare @시작일자 varchar (8) = ?; declare @종료일자 varchar (8) = ?; declare @적층설비 varchar(3) = ?; --RL#1 미선택 NULL OR '' declare @형상설비 varchar(3) = ?; --형상설비는 Default NULL select a.작업지시일자, a.lot_no, a.Sheet, a.BLOCK수 Block, b.양품수량 * a.Sheet Cell,run_no1,run_cell1,run_no2,run_cell2, CAST(b.작업종료 AS DATE) 지시일자, FORMAT(convert(date,g.입고일자),'yyyy-MM-dd')+' '+STUFF(STUFF(g.입고시각, 3, 0, ':'), 6, 0, ':') 입고일자, FOR",
        "description": "SELECT 쿼리 (d21_, dw_equipment_mast, d22_run)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getRunNo",
        "queryType": "select",
        "tables": [
          "d22_run"
        ],
        "columns": [
          "@제품모델",
          "6",
          "4)",
          "run_no",
          "10)+",
          "4))",
          "0)",
          "'0000')"
        ],
        "sql": "begin declare @제품모델 varchar(4) = ?; --MODEL 7073 declare @작업타입 varchar (1) = ?; --(D) Development Run_개발 D declare @LAST_LOT_NO varchar (24) = ?; --조회결과 마지막 LOT_NO '7073F2305-D0030' select @제품모델 + 'B' + substring(@LAST_LOT_NO, 6, 4) + '-' + @작업타입 + FORMAT(CAST(COALESCE(max(substring(run_no, CHARINDEX('-', run_no, 10)+ 2, 4)),0) as INT)+ 1,'0000') run_no from d22_RUN제조MST where run_no like @제품모델 + 'B' + FORMAT(getdate(),'yyMM') + '-' + @작업타입 + '%'; END",
        "description": "SELECT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getProcessPlan",
        "queryType": "select",
        "tables": [
          "d21_",
          "dw_product_process",
          "dw_process_plan"
        ],
        "columns": [
          "C.공정코드",
          "C.공정명"
        ],
        "sql": "SELECT C.공정코드, C.공정명 FROM d21_제조지시MST A INNER JOIN dw_product_process B ON (A.제품코드 = B.PROD_CODE) INNER JOIN DW_PROCESS_PLAN C ON (B.PROCESS_ID = C.PROCESS_ID AND C.공정구분 = '11') WHERE LOT_NO = ? ORDER BY C.공정코드;",
        "description": "SELECT 쿼리 (d21_, dw_product_process, dw_process_plan)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "runLotGenerate",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Run_Lot_cell @LOT_LIST = ?, @run_size=?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getRunCreatePreview",
        "queryType": "select",
        "tables": [
          "d21_",
          "dw_equipment_mast",
          "string_split"
        ],
        "columns": [
          "a.작업지시일자",
          "a.lot_no",
          "a.Sheet",
          "a.BLOCK수",
          "b.양품수량",
          "CASE",
          "#{fabInDate}",
          "#{fabOutDate}",
          "#{publisher}",
          "#{approver}",
          "e.설비약명",
          "f.설비약명"
        ],
        "sql": "begin DECLARE @LOT_LIST VARCHAR(5000) = ?; DECLARE @TMP_RUN_CELL TABLE ( RUN_NO varchar(40), lot_no varchar(26), run_no1 varchar(7), in_cell real, cell real, cum_cell real ); INSERT INTO @TMP_RUN_CELL EXEC Run_Lot_cell @lot_list=@LOT_LIST, @run_size=?; select a.작업지시일자, a.lot_no, a.Sheet, a.BLOCK수 Block, b.양품수량 * a.Sheet Cell, CASE WHEN t.run_no1='RUN_NO1' then t.RUN_NO else null end run_no1, CASE WHEN t.run_no1='RUN_NO1' then t.in_cell else 0 end Run_Cell1, CASE WHEN t.run_no1='RUN_NO2' then t.R",
        "description": "SELECT 쿼리 (d21_, dw_equipment_mast, string_split)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getRunCreateList",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "begin DECLARE @LOT_LIST VARCHAR(5000) = ?; DECLARE @TMP_RUN_CELL TABLE ( RUN_NO varchar(40), lot_no varchar(26), run_no1 varchar(7), in_cell real, cell real, cum_cell real ); INSERT INTO @TMP_RUN_CELL EXEC Run_Lot_cell @lot_list=@LOT_LIST, @run_size=?; select *from ( SELECT FORMAT(getdate(),'yyyy-MM-dd') 생성일자, run_no, sum(in_cell) over (partition by run_no) run_cell, 'lot_no'+cast(row_number() over (partition by run_no order by lot_no) as varchar) as 구분, lot_no FROM @TMP_RUN_CELL union all SELEC",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003007",
        "queryId": "runLotUpdate",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Run_lot_gen_update @RUN_LIST = ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003007",
        "queryId": "saveRunCard",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC dbo.Run_Create @LOT_LIST = ?, @발행자 = ?, @발행자서명 = 1, @승인자 = ?, @승인자서명 = 1, @입고일자 = ?, @입고시각 = ?, @작업일자 = ?, @작업시각 = ?, @RUN_SIZE = ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getPrintRunCard1Info1",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d02_",
          "d03_",
          "d05_",
          "d04_",
          "dw_common_code"
        ],
        "columns": [
          "작업지시일자)",
          "'yyyy-MM-dd')",
          "run_no",
          "b.내용",
          "거래처명",
          "제품Inch",
          "자재재질",
          "자재두께",
          "a.특기사항",
          "'000')+"
        ],
        "sql": "select FORMAT(convert(date,작업지시일자),'yyyy-MM-dd') 작업지시일자,run_no,b.내용 작업구분,거래처명,제품Inch,자재재질,자재두께,a.특기사항, FORMAT(cast(자재두께 as INT), '000')+ '-' + f.code as 'Glass BCR' FROM d22_RUN제조MST a left join d02_일반코드파일 b on (a.작업구분 = b.코드 and b.대분류='31') left join d03_거래처마스터파일 c on (a.거래처코드=c.거래처코드) left join d05_제품마스터파일 d on (a.제품코드=d.제품코드 ) left join d04_자재마스터파일 e on(a.자재코드=e.자재코드) left join dw_common_code f on (f.maj_code = '09' and e.자재재질 = f.code_name) where run_no = ?",
        "description": "SELECT 쿼리 (d22_run, d02_, d03_, d05_, d04_, dw_common_code)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getPrintRunCard1Info2",
        "queryType": "select",
        "tables": [
          "d21_"
        ],
        "columns": [
          "lot_no",
          "run_cell2",
          "cell수",
          "'#2'"
        ],
        "sql": "select lot_no,run_cell2 as run_cell, run_cell2/(cell수/block수) block, cell수 lot_cell,'#2' run_part FROM d21_제조지시MST where run_no2 = ? union all select lot_no,run_cell1 as run_cell, run_cell1/(cell수/block수) block, cell수 lot_cell,'#1' run_part FROM d21_제조지시MST where run_no1 = ? order by lot_no",
        "description": "SELECT 쿼리 (d21_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getPrintRunCard2Info",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d04_",
          "dw_common_code",
          "dw_product_mast",
          "dw_"
        ],
        "columns": [
          "A.RUN_NO",
          "a.CELL수",
          "e.code_name",
          "d.customer_name",
          "b.자재두께",
          "b.자재재질",
          "'000')+",
          "5",
          "0",
          "'-')",
          "8",
          "a.특기사항",
          "FILM_전면색_1",
          "FILM_전면색_2",
          "FILM_전면색_3",
          "FILM_전면색_4",
          "FILM_배면색_1",
          "FILM_배면색_2",
          "FILM_배면색_3",
          "FILM_배면색_4"
        ],
        "sql": "SELECT A.RUN_NO,a.CELL수, e.code_name 작업구분, d.customer_name 고객명, CAST(d.Inch as varchar) 모델명, b.자재두께 두께, b.자재재질 Glass재질, FORMAT(cast(b.자재두께 as INT), '000')+ '-' + c.code as 'Glass BCR', STUFF(STUFF(작업지시일자,5, 0, '-'), 8, 0, '-') as 발행일, a.특기사항 특이사항, FILM_전면색_1, FILM_전면색_2, FILM_전면색_3, FILM_전면색_4, FILM_배면색_1, FILM_배면색_2, FILM_배면색_3, FILM_배면색_4 FROM d22_RUN제조MST a left join d04_자재마스터파일 b on (a.자재코드 = b.자재코드) left join dw_common_code c on (c.maj_code = '09' and b.자재재질 = c.code_name) left join dw_prod",
        "description": "SELECT 쿼리 (d22_run, d04_, dw_common_code, dw_product_mast, dw_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getRunSize",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "select dbo.MODEL_RunSize(?) as run_size;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003007",
        "queryId": "getFilmImage",
        "queryType": "select",
        "tables": [
          "dw_model_image"
        ],
        "columns": [
          "image_data"
        ],
        "sql": "select image_data FROM dw_model_image where model = ?",
        "description": "SELECT 쿼리 (dw_model_image)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "saveRemarks",
        "queryType": "update",
        "tables": [
          "d21_"
        ],
        "columns": [],
        "sql": "UPDATE d21_제조지시mst SET 특기사항 = ? WHERE lot_no = ?",
        "description": "UPDATE 쿼리 (d21_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "updatePrintCount",
        "queryType": "update",
        "tables": [
          "d21_"
        ],
        "columns": [],
        "sql": "UPDATE d21_제조지시MST SET 출력횟수 = 1 WHERE lot_no = ?",
        "description": "UPDATE 쿼리 (d21_)"
      },
      {
        "mapperId": "M0003007",
        "queryId": "saveRunRemarks",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "UPDATE d22_RUN제조MST SET 특기사항=#{특이사항} WHERE run_no = ?",
        "description": "UPDATE 쿼리 (d22_run)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0003008",
      "screenName": "Tab 0 MBOX 대기 관리",
      "menuPath": "Tab 0 MBOX 대기 관리",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0003000/M0003008.vue",
      "tabs": [
        "TAB046000",
        "TAB046001",
        "TAB047000",
        "TAB048000",
        "TAB049100"
      ],
      "description": "MBOX 대기 관리, MBOX 관리, MRUN 발행, 생산 실적 입력, 설비 로그 조회"
    },
    "queries": [
      {
        "mapperId": "M0003008",
        "queryId": "selectModelList",
        "queryType": "select",
        "tables": [
          "dw_model_mast"
        ],
        "columns": [
          "model"
        ],
        "sql": "select model as text ,model as value from dw_model_mast",
        "description": "SELECT 쿼리 (dw_model_mast)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxSummary",
        "queryType": "select",
        "tables": [
          "getreworkwaitcell"
        ],
        "columns": [],
        "sql": "SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; select * from GetReworkWaitCell(?,?,?,?,?) Order by 공정순서",
        "description": "SELECT 쿼리 (getreworkwaitcell)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxList",
        "queryType": "select",
        "tables": [
          "getreworkwaitcell_list"
        ],
        "columns": [],
        "sql": "select * from GetReworkWaitCell_List(?,?,?,?,?) --Order by rw,1,2",
        "description": "SELECT 쿼리 (getreworkwaitcell_list)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectFQCList",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC GetFQCWaitCell_List ?,?,?,?,?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectEciList",
        "queryType": "select",
        "tables": [
          "geteciwaitcell_list"
        ],
        "columns": [],
        "sql": "SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; select * from GetEciWaitCell_List(?,?,?,?,?) --Order by rw,1,2;",
        "description": "SELECT 쿼리 (geteciwaitcell_list)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectPaclList",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [],
        "sql": "select * from Get이물제거WaitCell_List(?,?,?,?,?) Order by rw,1,2",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxSumList",
        "queryType": "select",
        "tables": [
          "getreworkwaitrun_list"
        ],
        "columns": [],
        "sql": "select * from GetReworkWaitRun_List(?,?,?,?,?,?,?) where 공정순서=? order by 공정순서,1",
        "description": "SELECT 쿼리 (getreworkwaitrun_list)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectFQCSumList",
        "queryType": "select",
        "tables": [
          "getfqcwaitrun_list"
        ],
        "columns": [],
        "sql": "select * from GetFQCWaitRun_List(?,?,?,?,?,?,?) where 공정순서=? order by 공정순서,1",
        "description": "SELECT 쿼리 (getfqcwaitrun_list)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectEciSumList",
        "queryType": "select",
        "tables": [
          "geteciwaitrun_list"
        ],
        "columns": [],
        "sql": "SET TRANSACTION ISOLATION LEVEL READ UNCOMMITTED; select * from GetEciWaitRun_List(?,?,?,?,?,?,?) where 공정순서=? order by 공정순서,1",
        "description": "SELECT 쿼리 (geteciwaitrun_list)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectPaclSumList",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [],
        "sql": "select * from Get이물제거WaitRun_List(?,?,?,?,?,?,?) where 공정순서=? order by 공정순서,1",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectEciWaitCellList",
        "queryType": "select",
        "tables": [
          "processeciwaitcell"
        ],
        "columns": [],
        "sql": "select * from ProcessEciWaitCell(?,?,?,?)",
        "description": "SELECT 쿼리 (processeciwaitcell)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxWaitCellList",
        "queryType": "select",
        "tables": [
          "processmboxwaitcell"
        ],
        "columns": [],
        "sql": "select * from ProcessMboxWaitCell(?,?,?,?)",
        "description": "SELECT 쿼리 (processmboxwaitcell)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectFmrWaitCellList",
        "queryType": "select",
        "tables": [
          "process"
        ],
        "columns": [],
        "sql": "select * from Process이물제거WaitCell(?,?,?,?)",
        "description": "SELECT 쿼리 (process)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectFQCWaitCellList",
        "queryType": "select",
        "tables": [
          "processfqcwaitcell"
        ],
        "columns": [],
        "sql": "select * from ProcessFQCWaitCell(?,?,?,?,?) order by Bare_Cell",
        "description": "SELECT 쿼리 (processfqcwaitcell)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxGenCount",
        "queryType": "select",
        "tables": [
          "mbox_gencount"
        ],
        "columns": [],
        "sql": "select * from MBOX_GenCount(?,?,?,?,?);",
        "description": "SELECT 쿼리 (mbox_gencount)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxGenList",
        "queryType": "select",
        "tables": [
          "mbox_genlist"
        ],
        "columns": [],
        "sql": "select * from MBOX_GenList(?,?,?,UPPER(?),?,?)",
        "description": "SELECT 쿼리 (mbox_genlist)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxGenSum",
        "queryType": "select",
        "tables": [
          "mbox_gensum"
        ],
        "columns": [],
        "sql": "select * from MBOX_GenSum(?,?,?,?,UPPER(?),?,?)",
        "description": "SELECT 쿼리 (mbox_gensum)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxNoGenList",
        "queryType": "select",
        "tables": [
          "mbox_nogenlist"
        ],
        "columns": [],
        "sql": "select * from MBOX_NoGenList(?,?,?,?,UPPER(?),?,?) order by 상태 desc,mbox_no,before,cell_no",
        "description": "SELECT 쿼리 (mbox_nogenlist)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxNoGenSum",
        "queryType": "select",
        "tables": [
          "mbox_nogensum"
        ],
        "columns": [],
        "sql": "select * from MBOX_NoGenSum(?,?,?,?,UPPER(?),?,?);",
        "description": "SELECT 쿼리 (mbox_nogensum)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMrunbox",
        "queryType": "select",
        "tables": [
          "d23_mrunbox"
        ],
        "columns": [
          "'M-BOX'",
          "1",
          "13)",
          "5",
          "0",
          "'-')",
          "8",
          "14",
          "':'))",
          "MBOX_NO",
          "''AFT_RUNNO"
        ],
        "sql": "select 'M-BOX' as 상태, MIN(STUFF(STUFF(STUFF(substring(Start_Time, 1, 13),5,0,'-'),8,0,'-'),14,0,':')) as 등록일시, MBOX_NO, SUM(수량) as 수량, ''AFT_RUNNO, MAX(등록자) 등록자, MAX(승인자) 승인자, MAX(특이사항) 특이사항 from d23_MRUNBOX파일 where 1 = 1 and d23_MRUNBOX파일.End_time <![CDATA[ >= ]]> ? + ' 080000' and d23_MRUNBOX파일.End_time <![CDATA[ < ]]> CONVERT(VARCHAR(8), DATEADD(DAY, 1, CAST(? AS DATE)), 112) + ' 080000' and nullif(AFT_RUNNO,'') is null and bef_runno like ?+'%' and mbox_no like '%-'+ ? +'___' GROUP BY MBOX_NO",
        "description": "SELECT 쿼리 (d23_mrunbox)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMrunboxInfo",
        "queryType": "select",
        "tables": [
          "mrun_mbox_info"
        ],
        "columns": [],
        "sql": "select * from MRUN_MBOX_Info(?,?,?,?,?) order by 입고일자 desc,입고시각 desc",
        "description": "SELECT 쿼리 (mrun_mbox_info)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execCheckMboxWaitCell",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Control_MBOXWaitCell ?,?,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execSaveBareCell",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Save_BareCell ?,?,?,?,?,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execSaveMboxWaitCell",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Save_MboxwaitCell ?,?,?,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxInfo",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC MBOX_Info ?,?,? ,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxCellList",
        "queryType": "select",
        "tables": [
          "d23_mrunbox"
        ],
        "columns": [
          "CELL_NO",
          "CASE",
          "BEF_RUNNO",
          "AGB_호기명",
          "PFL_설비명",
          "PFL_STAGE",
          "이물_LINE",
          "특이사항",
          "AFT_RUNNO",
          "BEF_차수"
        ],
        "sql": "select CELL_NO ,CASE WHEN org투입구분='P' then '양산' WHEN org투입구분='D' then '개발' WHEN org투입구분='M' then 'Rework' WHEN org투입구분='T' then '공정검사' WHEN org투입구분='Q' then '승인' WHEN org투입구분='C' then '검증' ELSE '기타' END AS 투입구분 ,BEF_RUNNO as RUN_NO ,AGB_호기명 ,PFL_설비명 ,PFL_STAGE as STAGE ,이물_LINE ,특이사항 ,AFT_RUNNO as MRUN_NO ,BEF_차수 AS rework판정 from d23_MRUNBOX파일 where mbox_no=?",
        "description": "SELECT 쿼리 (d23_mrunbox)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMboxCellList1",
        "queryType": "select",
        "tables": [
          "d23_mrunbox"
        ],
        "columns": [
          "CELL_NO",
          "BEF_RUNNO",
          "AGB_호기명",
          "PFL_설비명",
          "PFL_STAGE",
          "이물_LINE",
          "특이사항",
          "AFT_RUNNO"
        ],
        "sql": "select CELL_NO ,BEF_RUNNO as RUN_NO ,AGB_호기명 ,PFL_설비명 ,PFL_STAGE as STAGE ,이물_LINE ,특이사항 ,AFT_RUNNO as MRUN_NO from d23_MRUNBOX파일 where mbox_no=(select mbox_No from d23_MRUNBOX파일 where cell_no=?)",
        "description": "SELECT 쿼리 (d23_mrunbox)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selecNewMboxNo",
        "queryType": "select",
        "tables": [
          "mbox_newno"
        ],
        "columns": [],
        "sql": "select * from MBOX_NewNo(?,?,? ,?)",
        "description": "SELECT 쿼리 (mbox_newno)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execSaveMboxCell",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Save_MboxBoxCell ?,?,?,?,?,?,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "getProcessPlan",
        "queryType": "select",
        "tables": [
          "dw_process_plan"
        ],
        "columns": [
          "공정코드",
          "공정명"
        ],
        "sql": "select 공정코드,공정명 from dw_process_plan where line='DFB1' and process_id='D1RW'",
        "description": "SELECT 쿼리 (dw_process_plan)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execMrunGenerate",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC MRUN_Generate ?,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execMrunSave",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC MRUN_Save ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execMrunDelete",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC MRUN_Delete ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execCancelMboxBoxCell",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Cancel_MboxBoxCell ?,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMrunStatus",
        "queryType": "select",
        "tables": [
          "mrun_status"
        ],
        "columns": [],
        "sql": "select * from MRUN_Status(?)",
        "description": "SELECT 쿼리 (mrun_status)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectMrunMboxList",
        "queryType": "select",
        "tables": [
          "getrework",
          "d42_"
        ],
        "columns": [
          "a.공장코드",
          "a.run_no",
          "a.공정코드",
          "a.차수",
          "a.seq",
          "a.lot_no",
          "a.bef_공정코드",
          "a.NXT_공정코드",
          "a.박리작업구분",
          "a.작업자",
          "a.작업조",
          "a.작업시작",
          "a.시작시각",
          "a.shift",
          "a.f_cstno",
          "a.f_수량",
          "a.f_불량수량",
          "a.작업종료",
          "a.종료시각",
          "a.투입수량"
        ],
        "sql": "/*selectMrunMboxList*/ select a.공장코드 ,a.run_no ,a.공정코드 ,a.차수 ,a.seq ,a.lot_no ,a.bef_공정코드 ,a.NXT_공정코드 ,a.박리작업구분 ,a.작업자 ,a.작업조 ,a.작업시작 ,a.시작시각 ,a.shift ,a.f_cstno as CST_NO ,a.f_수량 as CST_CELL ,a.f_불량수량 ,a.작업종료 ,a.종료시각 ,a.투입수량 ,a.machine_code ,a.배출구 ,a.t_runno ,a.in_cstno ,a.t_cstno ,a.t_수량 ,a.t_cstno2 ,a.t_수량2 ,a.t_불량수량 ,a.특이사항 ,a.저장여부 ,a.재공적용_여부 ,a.mbox_no ,a.bef_runno ,a.mbox_no + '|' + a.f_cstno + '|' + a.t_cstno as pkey ,isnull(b.불량수량,0) as 불량수량 from GetRework카세트리스트(?) a left outer join ( se",
        "description": "SELECT 쿼리 (getrework, d42_)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectDpfFailInfo",
        "queryType": "select",
        "tables": [
          "getrework"
        ],
        "columns": [
          "a.공장코드",
          "a.run_no",
          "a.공정코드",
          "a.차수",
          "a.seq",
          "a.lot_no",
          "a.bef_공정코드",
          "a.NXT_공정코드",
          "a.박리작업구분",
          "a.작업자",
          "a.작업조",
          "a.작업시작",
          "a.시작시각",
          "a.shift",
          "a.f_cstno",
          "a.f_수량",
          "a.f_불량수량",
          "a.작업종료",
          "a.종료시각",
          "a.투입수량"
        ],
        "sql": "/*selectDpfFailInfo*/ select a.공장코드 ,a.run_no ,a.공정코드 ,a.차수 ,a.seq ,a.lot_no ,a.bef_공정코드 ,a.NXT_공정코드 ,a.박리작업구분 ,a.작업자 ,a.작업조 ,a.작업시작 ,a.시작시각 ,a.shift ,a.f_cstno ,a.f_수량 ,a.f_불량수량 ,a.작업종료 ,a.종료시각 ,a.투입수량 ,a.machine_code ,a.배출구 ,a.t_runno ,a.in_cstno ,a.t_cstno ,a.t_수량 ,a.t_cstno2 ,a.t_수량2 ,a.t_불량수량 ,a.특이사항 ,a.저장여부 ,a.재공적용_여부 ,a.mbox_no ,a.bef_runno ,a.mbox_no + '|' + a.f_cstno + '|' + a.t_cstno as pkey ,count(t_수량) over(partition by a.t_cstno) as t_cnt ,a.t_수량 as t_org수량 from GetRework카세트리스트(?) a",
        "description": "SELECT 쿼리 (getrework)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectReworkMcList",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [
          "설비번호",
          "'['+설비번호+']",
          "설비약명",
          "Chamber"
        ],
        "sql": "select 설비번호 as value ,'['+설비번호+'] '+설비약명 as text ,설비약명 ,Chamber as LINE_축 from dw_equipment_mast where 설비번호 in ('412','506') and 사용여부=1",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectPrintMRunCardInfo",
        "queryType": "select",
        "tables": [
          "d22_run",
          "d04_",
          "dw_common_code",
          "dw_product_mast",
          "dw_"
        ],
        "columns": [
          "A.RUN_NO",
          "e.code_name",
          "d.customer_name",
          "d.Inch",
          "b.자재두께",
          "b.자재재질",
          "'000')+",
          "5",
          "0",
          "'-')",
          "8",
          "a.특기사항",
          "FILM_전면색_1",
          "FILM_전면색_2",
          "FILM_전면색_3",
          "FILM_전면색_4",
          "FILM_배면색_1",
          "FILM_배면색_2",
          "FILM_배면색_3",
          "FILM_배면색_4"
        ],
        "sql": "SELECT A.RUN_NO, e.code_name 작업구분, d.customer_name 고객명, d.Inch 모델명, b.자재두께 두께, b.자재재질 Glass재질, FORMAT(cast(b.자재두께 as INT), '000')+ '-' + c.code as 'Glass BCR', STUFF(STUFF(작업지시일자,5, 0, '-'), 8, 0, '-') as 발행일, a.특기사항 특이사항, FILM_전면색_1, FILM_전면색_2, FILM_전면색_3, FILM_전면색_4, FILM_배면색_1, FILM_배면색_2, FILM_배면색_3, FILM_배면색_4 FROM d22_RUN제조MST a left join d04_자재마스터파일 b on (a.자재코드 = b.자재코드) left join dw_common_code c on (c.maj_code = '09' and b.자재재질 = c.code_name) left join dw_product_mast d on ( a.제품코드 = ",
        "description": "SELECT 쿼리 (d22_run, d04_, dw_common_code, dw_product_mast, dw_)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "insertReworkBadCnt",
        "queryType": "select",
        "tables": [
          "d42_",
          "d29_"
        ],
        "columns": [
          "distinct"
        ],
        "sql": "/*삭제 후 추가*/ delete from d42_검사불량사유파일 where 공장코드 = '2' and 공정코드 = ? and LOTRUN_ID = ? and CST_NO in (?,?) and 불량코드 = ( select distinct 불량코드 from d29_공정별불량파일 where 공정코드 = ? and 사용여부 = 1 and 불량명 = ? );",
        "description": "SELECT 쿼리 (d42_, d29_)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectBareCellProcess",
        "queryType": "select",
        "tables": [
          "dw_step_mast"
        ],
        "columns": [
          "공정약어",
          "공정코드"
        ],
        "sql": "select 공정약어 as text ,공정코드 as value from dw_step_mast where line='DFB1' and 공정코드 in ('054','055')",
        "description": "SELECT 쿼리 (dw_step_mast)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectBareCellRw",
        "queryType": "select",
        "tables": [
          "dw_common_code_input"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "select code as value ,code_name as text from dw_common_code_input where maj_code ='73' and code in ('31','9','6','250') and use_yn = 1 order by sort_order,code",
        "description": "SELECT 쿼리 (dw_common_code_input)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "runCheckBareCell",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Run_Check_BareCell ?,?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectBareCellList",
        "queryType": "select",
        "tables": [
          "d23_mrun",
          "generateseries"
        ],
        "columns": [
          "@START_CELL_NO",
          "@RUN_ID+'-'",
          "'')",
          "0)+1"
        ],
        "sql": "BEGIN DECLARE @RUN_ID VARCHAR(27) = ?, @가능수량 INT = ?, @담당자 varchar(15) = ?, @공정 varchar(4) = ?, @START_CELL_NO INT; select @START_CELL_NO = coalesce(max(cast(replace(cell_id,@RUN_ID+'-','') as int)),0)+1 from d23_MRUN대기파일 where run_id=@RUN_ID and CELL_ID like @RUN_ID+'%'; --select @START_CELL_NO; WITH GenerateSeries AS ( SELECT @START_CELL_NO AS seq UNION ALL SELECT seq + 1 FROM GenerateSeries WHERE seq <![CDATA[ < ]]> @가능수량+ @START_CELL_NO -1 ) select @공정 as 공정, @RUN_ID + '-' + FORMAT(seq,'000'",
        "description": "SELECT 쿼리 (d23_mrun, generateseries)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "deleteBareCellList",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Delete_BareCell ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execMboxDisassembly",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec MboxDisassembly ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "execMboxPaidSales",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Mbox_유상판매 ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003008",
        "queryId": "selectAgbList",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [
          "설비약명"
        ],
        "sql": "select 설비약명 from dw_equipment_mast WHERE 공정코드 = '056' and 사용여부 = 1",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "insertReworkCst",
        "queryType": "insert",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "INSERT INTO d22_RUN카세트파일 ( 공장코드 ,RUN_NO ,공정코드 ,SEQ ,LOT_NO ,BEF_공정코드 ,NXT_공정코드 ,박리작업구분 ,작업자 ,작업조 ,작업시작 ,시작시각 ,SHIFT ,F_CSTNO ,F_수량,F_불량수량,작업종료,종료시각,투입수량,Machine_Code ,IN_CSTNO,T_CSTNO,T_수량 ,T_수량2,T_불량수량,원자재,작업중,RD깨짐,TR미박리,TR깨짐,센서검출,검사검출,설비오류,기타,저장여부,재공적용_여부,특이사항 ) VALUES ( '2' ,? ,? ,? ,? ,#{bef공정코드} ,#{nxt공정코드} ,#{박리작업구분} ,#{작업자} ,#{작업조} ,#{작업시작} ,#{시작시각} ,? ,? ,#{f수량},#{f불량수량},#{작업종료},#{종료시각},#{투입수량},? ,?,?,#{t수량} ,0,0,0,0,0,0,0,0,0,0,0,0,0,#{특이사항} )",
        "description": "INSERT 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "insertMcstMrunbox",
        "queryType": "insert",
        "tables": [
          "d23_mrunbox"
        ],
        "columns": [
          "2",
          "#{mboxNo}",
          "'-'"
        ],
        "sql": "/*cst 단건 입력 쿼리 예시*/ insert into d23_MRUNBOX파일 (공장코드,MBOX_NO,CELL_NO, CST_NO, 수량, BEF_RUNNO, 등록자, 등록여부, 승인자, 승인여부, start_time, end_time, AGB_호기명, SCRAP_Code, 특이사항, 저장여부, 재공적용_여부) select 2 as 공장코드 ,? as MBOX_NO ,'-' as CELL_NO ,TRIM(CHAR(9) + CHAR(32) FROM ?) as CST_NO ,? as 수량 ,TRIM(CHAR(9) + CHAR(32) FROM ?)as BEF_RUNNO ,? as 등록자 ,1 as 등록여부 ,? as 승인자 ,1 as 승인여부 ,format(getdate(),'yyyyMMdd HHmm') as start_time ,format(getdate(),'yyyyMMdd HHmm') as end_time ,? as AGB_호기명 ,? as SCRAP_CODE ,#{특이사항} ",
        "description": "INSERT 쿼리 (d23_mrunbox)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "saveRemarks",
        "queryType": "update",
        "tables": [
          "d23_mrun"
        ],
        "columns": [],
        "sql": "UPDATE d23_MRUN대기파일 SET 특이사항 = ? WHERE CELL_ID = ?",
        "description": "UPDATE 쿼리 (d23_mrun)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "reworkStartJob",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "update d22_RUN제조VLR set 작업시작 = #{작업시작} ,시작시각 = #{시작시각} ,작업자 = ? ,Machine_Code = ? ,SHIFT = ? ,투입수량 = #{투입수량} where run_no = ? and 공정코드 = ?",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "updateEndJobVLR",
        "queryType": "update",
        "tables": [
          "d22_run"
        ],
        "columns": [],
        "sql": "update d22_RUN제조VLR set 작업종료 = #{작업종료} ,종료시각 = #{종료시각} ,불량수량 = #{불량수량} ,양품수량 = #{양품수량} where run_no = ? and 공정코드 = ?",
        "description": "UPDATE 쿼리 (d22_run)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "deleteMrunWaitCell",
        "queryType": "delete",
        "tables": [
          "d23_mrun"
        ],
        "columns": [],
        "sql": "delete from d23_MRUN대기파일 where cell_id=? and 공정코드=?",
        "description": "DELETE 쿼리 (d23_mrun)"
      },
      {
        "mapperId": "M0003008",
        "queryId": "deleteMrunCell",
        "queryType": "delete",
        "tables": [
          "d23_mrunbox"
        ],
        "columns": [],
        "sql": "delete from d23_MRUNBOX파일 where cell_id=?",
        "description": "DELETE 쿼리 (d23_mrunbox)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0003009",
      "screenName": "Tab 0 생산 실적 입력",
      "menuPath": "Tab 0 생산 실적 입력",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0003000/M0003009.vue",
      "tabs": [
        "TAB043000",
        "TAB044000",
        "074",
        "077",
        "080",
        "082",
        "087",
        "TAB045600"
      ],
      "description": "생산 실적 입력, 내포장 실적, 출하 검사 대기, 출하 검사 의뢰, 출하 검사, 출하 대기, 출하, 재고 현황"
    },
    "queries": [
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch1",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_내포장실적_설비이물제거Manual(?,?,?) where 1=1 order by RUN_NO, ORIGIN_NO, PACK_NO, 작업일자 desc;",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch2",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_내포장실적_설비이물제거Manual_Pack관리(?,?,?,?) where 1=1 order by 생성시각 desc, PACK_QRNO, 대포장_QRNO;",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch3",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_내포장실적_설비이물제거Auto(?,?,?,?) where 1=1 order by 작업일자 desc, PACK_NO, RUN_NO;",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch3_1",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_내포장실적_설비이물제거Auto_미생성(?,?) where 1=1 order by RUN_NO, PACK_NO, 작업일자 desc ;",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch4",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_내포장실적_설비이물제거Auto_Pack관리(?,?,?,?) where 1=1 order by 생성시각 desc, PACK_QRNO;",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch5",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from ( select 'AUTO' 작업구분,구분,run_no,''origin_no,pack_no,cell수량,작업일자,작업자,설비,shift,svi,agb,pfl,처리시각,발행자,발행자서명,승인자,승인자서명,특이사항,PACK상태 from Get_내포장실적_설비이물제거Auto(?,?,?,NULL) union all select 'MANUAL' 작업구분,구분,run_no,origin_no,pack_no,cell수량,작업일자,작업자,설비,shift,svi,agb,pfl,처리시각,발행자,발행자서명,승인자,승인자서명,특이사항,PACK상태 from Get_내포장실적_설비이물제거Manual(?,?,?) ) A where 1=1 and 구분 = ? order by 작업일자 desc, PACK_NO, RUN_NO;",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch5_1",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from ( select 'AUTO' 작업구분,구분,run_no,''origin_no,pack_no,cell수량,format(작업일자,'yyyyMMdd HHmmss') 작업일자, 작업자,설비,shift,svi,agb,pfl,처리시각,발행자,발행자서명,승인자,승인자서명,특이사항,PACK상태 from Get_내포장실적_설비이물제거Auto_미생성(?,?) union all select 'MANUAL' 작업구분,구분,run_no,origin_no,pack_no,cell수량,작업일자,작업자,설비,shift,svi,agb,pfl,처리시각,발행자,발행자서명,승인자,승인자서명,특이사항,PACK상태 from Get_내포장실적_설비이물제거Manual(?,?,?) where 1=1 and 구분='미생성' ) A where 1=1 order by 작업일자 desc, PACK_NO, RUN_NO;",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch6",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "SELECT * from Get_내포장실적_설비이물제거_통합PackSummaryCell수량조회(?,?, null) where 1=1 order by 구분 desc;",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch7",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "BEGIN IF ? IS NULL BEGIN RETURN; END EXEC Get_내포장실적_설비이물제거_통합Pack상세조회 ?,?,? END",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch8",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Get_내포장실적_설비이물제거_통합PackCell조회 ?,?,?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch11",
        "queryType": "select",
        "tables": [
          "get_palletlist"
        ],
        "columns": [],
        "sql": "select * from Get_PalletList() where 1=1 order by pallet_no desc",
        "description": "SELECT 쿼리 (get_palletlist)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch12",
        "queryType": "select",
        "tables": [
          "get_palletboxlist"
        ],
        "columns": [],
        "sql": "select * from Get_PalletBoxList(?) order by 대포장_QRNO",
        "description": "SELECT 쿼리 (get_palletboxlist)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch13",
        "queryType": "select",
        "tables": [
          "get_palletboxinfo"
        ],
        "columns": [],
        "sql": "select * from Get_PalletBoxInfo(?) order by 대포장_QRNO",
        "description": "SELECT 쿼리 (get_palletboxinfo)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecRemove",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Pallet_Box제거 @pallet_no = ?, @BoxNoList = ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecAdd",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Pallet_Box추가 @pallet_no = ?, @대기발행자 = ?, @대기승인자 = ?, @BoxNoList = ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecDismantle",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC dbo.Pallet해체 @palletNoList = ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch21_Col",
        "queryType": "select",
        "tables": [
          "d27_"
        ],
        "columns": [
          "DISTINCT",
          "1",
          "4)"
        ],
        "sql": "SELECT DISTINCT substring(run_id,1,4) model FROM d27_내포장MST WHERE PACK상태 in ('소포장 반출','창고 재고') and ((폐기시각 BETWEEN ?+' 000000' AND ?+' 235959' AND pack상태 = '폐기') OR (출하작업시각 BETWEEN ?+' 000000' AND ?+' 235959' AND pack상태 = '출하 완료') OR (대기작업시각 BETWEEN ?+' 000000' AND ?+' 235959' AND pack상태 = '창고 재고') OR (반출시각 BETWEEN ?+' 000000' AND ?+' 235959' AND pack상태 = '소포장 반출') OR (SI_의뢰시각 BETWEEN ?+' 000000' AND ?+' 235959' AND pack상태 = 'SI 의뢰')) ORDER BY 1",
        "description": "SELECT 쿼리 (d27_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch21",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_from_소포장반출_to_출하대기List ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch22",
        "queryType": "select",
        "tables": [
          "get_packnonboxno"
        ],
        "columns": [],
        "sql": "select * from Get_PackNonBoxNo검증(?, ?);",
        "description": "SELECT 쿼리 (get_packnonboxno)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch23",
        "queryType": "select",
        "tables": [
          "get_packnonboxnoinfo"
        ],
        "columns": [],
        "sql": "select * from Get_PackNonBoxNoInfo(?, ?);",
        "description": "SELECT 쿼리 (get_packnonboxnoinfo)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch11_Storage",
        "queryType": "select",
        "tables": [
          "get_palletlist"
        ],
        "columns": [],
        "sql": "select * from Get_PalletList() where 1=1 and 보관구역 is not null and 보관구역 != '' order by pallet_no desc",
        "description": "SELECT 쿼리 (get_palletlist)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch24",
        "queryType": "select",
        "tables": [
          "get_nextpalletno"
        ],
        "columns": [],
        "sql": "select * from Get_NextPalletNo(?);",
        "description": "SELECT 쿼리 (get_nextpalletno)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecBox",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC dbo.Pallet_Box구성 @pallet_no = ?, @대기발행자 = ?, @대기승인자 = ?, @BoxNoList = ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch31_Col",
        "queryType": "select",
        "tables": [
          "d27_"
        ],
        "columns": [
          "MODEL"
        ],
        "sql": "SELECT MODEL FROM ( (SELECT '합계' as MODEL union all SELECT DISTINCT substring(run_id,1,4) model from d27_내포장MST where PACK상태 in ('SI 의뢰','SI 대기') and ( (SI_의뢰시각 BETWEEN ? + ' 000000' AND ? + ' 235959' AND pack상태 = 'SI 의뢰') OR (처리시각 BETWEEN ? + ' 000000' AND dbo.AddOneDayAndTime(?) AND pack상태 = 'SI 대기') OR (SI_등록일자 BETWEEN ? AND ? AND pack상태 = 'SI LIST') ) and coalesce(run_id,'') != '' ) )a ORDER BY CASE WHEN MODEL='합계' THEN '0000' ELSE MODEL END",
        "description": "SELECT 쿼리 (d27_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch31",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_출하검사대기의뢰 ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeInspectionInfo",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_출하검사의뢰_Cell ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_RequestInspection",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Req_출하검사의뢰 ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecCancel",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Cancel_출하검사의뢰 ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecRemovePack",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Remove_출하검사의뢰Pack ?, ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecAddPack",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Add_출하검사의뢰Pack ?, ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeInspectionPack",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_출하검사대기_Pack(?, ?, ?);",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeReqPack",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_출하검사의뢰_Pack(?, ?, ?);",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch41_Col",
        "queryType": "select",
        "tables": [
          "d27_"
        ],
        "columns": [
          "DISTINCT",
          "1",
          "4)"
        ],
        "sql": "SELECT DISTINCT substring(run_id,1,4) model from d27_내포장MST where PACK상태 in ('SI 의뢰') and SI_의뢰시각 BETWEEN ?+' 000000' and ?+ ' 235959' order by 1",
        "description": "SELECT 쿼리 (d27_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch41",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_출하검사의뢰 ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch42",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_출하검사의뢰_List ?, ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeReqDateSeq",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_출하검사의뢰_일자차수(?, ?)",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeRequestPack",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Req_출하검사PACK요청 ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeRequestRun",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Req_출하검사RUN요청 ?, ?, ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch43_Col",
        "queryType": "select",
        "tables": [
          "d27_"
        ],
        "columns": [
          "DISTINCT",
          "1",
          "4)"
        ],
        "sql": "SELECT DISTINCT substring(run_id,1,4) model from d27_내포장MST where PACK상태 in ('SI 의뢰' ) and SI_의뢰시각 BETWEEN ?+' 000000' and ?+ ' 235959' order by 1",
        "description": "SELECT 쿼리 (d27_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch43",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_출하검사SAMPLE ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch44",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_샘플의뢰PACK_List ?, ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch45",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_GetHoldRunList",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_출하검사RunHold ?, ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_SetHoldRunList",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Set_출하검사RunHold설정 ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch46",
        "queryType": "select",
        "tables": [
          "d27_"
        ],
        "columns": [],
        "sql": "select * from d27_출하검사 where 1=1 and SI진행단계 = '검사 완료'",
        "description": "SELECT 쿼리 (d27_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecDonePack",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Done_PACK인계 ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExecGetPackLabel",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec get_pack_label ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ManualQty_Sch1",
        "queryType": "select",
        "tables": [
          "d26_"
        ],
        "columns": [
          "CELL_ID"
        ],
        "sql": "Select CELL_ID From d26_이물제거파일 Where 1=1 and RUN_ID + '-' + ORIGIN_NO = ? and SCRAP <![CDATA[<>]]> '삭제' Order By CELL_ID;",
        "description": "SELECT 쿼리 (d26_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ManualQty_Sch2",
        "queryType": "select",
        "tables": [
          "d26_"
        ],
        "columns": [
          "CELL_ID",
          "특이사항"
        ],
        "sql": "Select CELL_ID, 특이사항 as Remark From d26_이물제거파일 Where 1=1 and RUN_ID + '-' + ORIGIN_NO = ? and SCRAP = '삭제' Order By CELL_ID;",
        "description": "SELECT 쿼리 (d26_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ManualQty_Sch3",
        "queryType": "select",
        "tables": [
          "d26_"
        ],
        "columns": [
          "RUN_ID",
          "ORIGIN_NO"
        ],
        "sql": "Select RUN_ID, ORIGIN_NO, sum(생산수량) as qty, sum(정상수) remain_qty, sum(삭제수) delete_qty From( Select RUN_ID, ORIGIN_NO, SCRAP, 1 as 생산수량 , case when SCRAP = '삭제' then 0 else 1 end as 정상수 , case when SCRAP = '삭제' then 1 else 0 end as 삭제수 From d26_이물제거파일 Where RUN_ID = ? and ORIGIN_NO = ? and RESULT = '양품' ) as a group By RUN_ID, ORIGIN_NO",
        "description": "SELECT 쿼리 (d26_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ManualQty_Cancel",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec S라인_cell_불량처리_CanCel ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeCreation",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec GEN_이물제거_S라인_PACKNO ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeDispose",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec 폐기_S라인_PACK ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeSignificant",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec 특이사항_S라인_PACK ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeCreationAuto",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Gen_이물제거_AUTO_BoxNo ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeDisposeAuto",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec 폐기_AUTO_PACK ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ExeSignificantAuto",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec 특이사항_AUTO_PACK ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch51_Col",
        "queryType": "select",
        "tables": [
          "d27_pallet"
        ],
        "columns": [
          "DISTINCT",
          "1",
          "4)"
        ],
        "sql": "SELECT DISTINCT substring(run_id,1,4) model FROM d27_PALLET수불파일 WHERE 1=1 AND ((대기처리시각 BETWEEN ? + ' 000000' AND ? + ' 235959' and pack상태 = '창고 재고') OR (출하처리시각 BETWEEN ? + ' 000000' AND ? + ' 235959' and pack상태 = '출하 완료')) ORDER BY 1;",
        "description": "SELECT 쿼리 (d27_pallet)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch51",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_출하대기List ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_GetShipmentPalletInfo",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "select * from Get_출하PalletInfo(?);",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ShipmentTempSave",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec 출하Pallet임시저장 ?, #{생산계획번호};",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Shipment",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Pallet출하처리 ?, #{생산계획번호};",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ShipmentCancel",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Pallet출하취소처리 ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ShipmentList",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "SELECT * FROM Get_출하완료_Pallet(?, ?,?);",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch61_Col",
        "queryType": "select",
        "tables": [
          "d27_",
          "d27_pallet"
        ],
        "columns": [
          "DISTINCT",
          "1",
          "4)"
        ],
        "sql": "SELECT DISTINCT substring(run_id,1,4) model FROM d27_내포장MST WHERE PACK상태 in ('HOLD','SI 대기','SI 의뢰','SI LIST','창고 재고','소포장 반출') AND ( (폐기시각 BETWEEN ? + ' 000000' AND ? + ' 235959' AND pack상태 = '폐기') OR (출하작업시각 BETWEEN ? + ' 000000' AND ? + ' 235959' AND pack상태 = '출하 완료') OR (반출시각 BETWEEN ? + ' 000000' AND ? + ' 235959' AND pack상태 = '소포장 반출') OR (SI_의뢰시각 BETWEEN ? + ' 000000' AND ? + ' 235959' AND pack상태 = 'SI 의뢰') OR (SI_등록일자 BETWEEN ? AND ? AND pack상태 = 'SI LIST') OR (처리시각 BETWEEN ? + ' 080000'",
        "description": "SELECT 쿼리 (d27_, d27_pallet)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch6S",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Get_포장출하_재고현황 ?, ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch61",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Get_출하검사대기_List ?, ?,?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch62",
        "queryType": "select",
        "tables": [
          "get_"
        ],
        "columns": [],
        "sql": "SELECT * FROM Get_출하대기_PackList(?, ?,?)",
        "description": "SELECT 쿼리 (get_)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Sch63",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC Get_소포장반출_List ?, ?,?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ShipWait",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC 샘플재작업_PACK확인 ?",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_PackOut",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec 샘플재작업후_출하대기 ?, ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_WaitShipment",
        "queryType": "insert",
        "tables": [],
        "columns": [],
        "sql": "exec SI대기_To_출하대기 ?, ?, ?;",
        "description": "INSERT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_ManualQty_Update",
        "queryType": "insert",
        "tables": [],
        "columns": [],
        "sql": "exec S라인_cell_불량처리 ?, ?, ?, ?, ?;",
        "description": "INSERT 쿼리 ()"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Update_Storage",
        "queryType": "update",
        "tables": [
          "d27_pallet"
        ],
        "columns": [],
        "sql": "UPDATE d27_PALLET수불파일 SET 보관구역 = #{보관구역} WHERE PALLET_NO = ? and pack상태 != '출하 완료'",
        "description": "UPDATE 쿼리 (d27_pallet)"
      },
      {
        "mapperId": "M0003009",
        "queryId": "M0003009_Update_Inspection",
        "queryType": "update",
        "tables": [
          "d27_"
        ],
        "columns": [],
        "sql": "<!-- 첫 번째 업데이트: 검사 결과 업데이트 --> --UPDATE d27_출하검사 SET exec PACK_출하검사결과 @SI진행단계 = #{si진행단계}, @SI의뢰일 = #{si의뢰일}, @SI검사일 = #{si검사일}, @SI검사자 = #{si검사자}, @외관 = #{외관}, @엣지 = #{엣지}, @포장이물 = #{포장이물}, @Curl = ?, @접촉각 = #{접촉각}, @PF저항 = #{pf저항}, @치수 = #{치수}, @두께 = #{두께}, @강화특성 = #{강화특성}, @이형력 = #{이형력}, @점착력 = #{점착력}, @굴곡강도 = #{굴곡강도}, @최종결과 = #{최종결과}, @특이사항 = #{특이사항}, @의뢰차수 = #{의뢰차수}, @Model = ?;",
        "description": "UPDATE 쿼리 (d27_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0004002",
      "screenName": "Tab 1 Lot 변경이력 조회",
      "menuPath": "Tab 1 Lot 변경이력 조회",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0004000/M0004002.vue",
      "tabs": [
        "TAB040003",
        "TAB040004",
        "TAB040005"
      ],
      "description": "Lot 변경이력 조회, Lot 변경, Lot 변경 상세 보기"
    },
    "queries": [
      {
        "mapperId": "M0004002",
        "queryId": "getModels",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code_name",
          "code"
        ],
        "sql": "select code_name 제품유형,code 코드 from dw_common_code where maj_code='36' order by code_name",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0004002",
        "queryId": "getWorkTypes",
        "queryType": "select",
        "tables": [
          "d02_"
        ],
        "columns": [
          "내용",
          "코드"
        ],
        "sql": "select 내용 작업구분, 코드 from d02_일반코드파일 where 대분류='31' order by 내용",
        "description": "SELECT 쿼리 (d02_)"
      },
      {
        "mapperId": "M0004002",
        "queryId": "getProcess",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "공정코드",
          "공정명"
        ],
        "sql": "select 공정코드, 공정명 from dw_재공재고Report순서 where 1=1 and 공정구분 = '9' and 공정코드 between '010' and '020' order by 공정코드",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0004002",
        "queryId": "searchLotChangeList",
        "queryType": "select",
        "tables": [
          "d21_lotno"
        ],
        "columns": [
          "공장코드",
          "변경일자)",
          "구LOT_NO",
          "신LOT_NO",
          "처리수량",
          "담당자",
          "변환사유",
          "처리여부"
        ],
        "sql": "SELECT 공장코드, CONVERT(DATE,변경일자) 변경일자, 구LOT_NO, 신LOT_NO, 처리수량, 담당자, 변환사유, 처리여부 FROM d21_LOTNO변경이력파일 where 1=1 ;",
        "description": "SELECT 쿼리 (d21_lotno)"
      },
      {
        "mapperId": "M0004002",
        "queryId": "searchDetailLotChangeList",
        "queryType": "select",
        "tables": [
          "dw_lot"
        ],
        "columns": [],
        "sql": "SELECT * FROM dw_lot변경상세이력 where 1=1 ;",
        "description": "SELECT 쿼리 (dw_lot)"
      },
      {
        "mapperId": "M0004002",
        "queryId": "getLotProcCount",
        "queryType": "select",
        "tables": [
          "d21_"
        ],
        "columns": [
          "지시수량"
        ],
        "sql": "select 지시수량 FROM d21_제조지시MST WHERE lot_no = ?;",
        "description": "SELECT 쿼리 (d21_)"
      },
      {
        "mapperId": "M0004002",
        "queryId": "execLotChange",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "EXEC dbo.lot_change @공장코드 = '2', @old_lot = #{구lotNo}, @new_lot= #{신lotNo}, @po_no= ?, @담당자= #{담당자}, @변환사유= #{변환사유};",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0004002",
        "queryId": "checkLotNo",
        "queryType": "select",
        "tables": [
          "d21_"
        ],
        "columns": [
          "lot_no",
          "cell수"
        ],
        "sql": "select lot_no,cell수 FROM d21_제조지시MST WHERE lot_no in <foreach collection=\"lotList\" item=\"no\" open=\"(\" separator=\",\" close=\")\"> ? </foreach>",
        "description": "SELECT 쿼리 (d21_)"
      },
      {
        "mapperId": "M0004002",
        "queryId": "getOldLotNoList",
        "queryType": "select",
        "tables": [
          "get_lot"
        ],
        "columns": [
          "lot_no",
          "공정코드"
        ],
        "sql": "select lot_no, 공정코드 from Get_Lot변경_모델별_공정별_Lot리스트(?, ?);",
        "description": "SELECT 쿼리 (get_lot)"
      },
      {
        "mapperId": "M0004002",
        "queryId": "getNewLotNoList",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Get_Lot변경_신규Lot리스트 ?, ?;",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0004002",
        "queryId": "checkLotChangable",
        "queryType": "select",
        "tables": [
          "get_lot"
        ],
        "columns": [],
        "sql": "select * from Get_Lot변경체크로직(?, ?, ?);",
        "description": "SELECT 쿼리 (get_lot)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0004003",
      "screenName": "Tab 1 Hold 설정",
      "menuPath": "Tab 1 Hold 설정",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0004000/M0004003.vue",
      "tabs": [
        "TAB040001",
        "TAB040002"
      ],
      "description": "Hold 설정, Hold 해제"
    },
    "queries": [
      {
        "mapperId": "M0004003",
        "queryId": "searchHoldStatus",
        "queryType": "select",
        "tables": [
          "dw_hold_"
        ],
        "columns": [],
        "sql": "select * from dw_HOLD_설정해제내역",
        "description": "SELECT 쿼리 (dw_hold_)"
      },
      {
        "mapperId": "M0004003",
        "queryId": "getRunNoStatus",
        "queryType": "select",
        "tables": [
          "get_runno"
        ],
        "columns": [],
        "sql": "select * from Get_RunNo상태가져오기(?);",
        "description": "SELECT 쿼리 (get_runno)"
      },
      {
        "mapperId": "M0004003",
        "queryId": "getHoldInfo",
        "queryType": "select",
        "tables": [
          "get_hold"
        ],
        "columns": [],
        "sql": "select * from Get_Hold기준정보(null);",
        "description": "SELECT 쿼리 (get_hold)"
      },
      {
        "mapperId": "M0004003",
        "queryId": "setHoldStatus",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Set_Hold설정 @RunNo = ?, @HOLD코드 = #{hold코드}, @HOLD사유= #{hold사유}, @담당자= #{담당자}, @비고 = #{비고}",
        "description": "SELECT 쿼리 ()"
      },
      {
        "mapperId": "M0004003",
        "queryId": "cancelHoldStatus",
        "queryType": "select",
        "tables": [],
        "columns": [],
        "sql": "exec Set_Hold해제 @RunNo = ?, @HOLD일시 = #{hold일시}, @HOLD해제처리자 = #{hold해제처리자}, @HOLD해제조치내역 = #{hold해제조치내역}",
        "description": "SELECT 쿼리 ()"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0005003",
      "screenName": "Tab 1 UTG 작업 이력 조회",
      "menuPath": "Tab 1 UTG 작업 이력 조회",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0005000/M0005003.vue",
      "tabs": [
        "TAB051000",
        "TAB052000",
        "TAB053000",
        "TAB054000",
        "TAB055000"
      ],
      "description": "UTG 작업 이력 조회, 제품 진행 현황 조회, CELL 작업 이력 조회(개별), CELL 작업 이력 조회(대량), PACK 작업 이력 조회"
    },
    "queries": [
      {
        "mapperId": "M0005003",
        "queryId": "getCellTrackingInfo",
        "queryType": "select",
        "tables": [
          "getcelltrackinginfofrompflnew"
        ],
        "columns": [],
        "sql": "select * FROM ( select * from GetCellTrackingInfoFromPFLNew(?) ) A WHERE cell_id IS NOT NULL order by cell_id,seq",
        "description": "SELECT 쿼리 (getcelltrackinginfofrompflnew)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006001",
      "screenName": "제품유형 제목과 드랍다운",
      "menuPath": "제품유형 제목과 드랍다운",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006001.vue"
    },
    "queries": [
      {
        "mapperId": "M0006001",
        "queryId": "getModels",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code_name",
          "code"
        ],
        "sql": "select code_name 제품유형,code 코드 from dw_common_code where maj_code='36' order by code_name",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0006001",
        "queryId": "getWorkTypes",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code_name",
          "code"
        ],
        "sql": "select code_name 작업구분,code 코드 from dw_common_code where maj_code='31' order by code_name",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0006001",
        "queryId": "getPoNo",
        "queryType": "select",
        "tables": [
          "d33_"
        ],
        "columns": [
          "'')+'-'+",
          "po_no",
          "14)+1",
          "3))+1",
          "1)",
          "'00')"
        ],
        "sql": "select coalesce(?,'')+'-'+FORMAT(getdate(),'yyMMdd')+'-'+coalesce(?,'')+'-'+ ( select FORMAT(COALESCE(max(substring(po_no,CHARINDEX('-',po_no,14)+1,3))+1,1),'00') from d33_제품수주서파일 where po_no like '%'+FORMAT(getdate(),'yyMMdd')+'%' )as po_no",
        "description": "SELECT 쿼리 (d33_)"
      },
      {
        "mapperId": "M0006001",
        "queryId": "getPurchaseOrders",
        "queryType": "select",
        "tables": [
          "d33_",
          "dw_vendor_mast",
          "dw_common_code",
          "dw_product_mast",
          "d21_"
        ],
        "columns": [
          "a.수주일자)",
          "a.수주번호",
          "c.code_name",
          "a.제품유형",
          "d.code_name",
          "a.작업구분",
          "b.name",
          "b.code",
          "e.model+'",
          "e.Inch)+'",
          "e.Glass_thick)+'",
          "e.sheet)+'",
          "Block)+'",
          "RUN_SIZE)",
          "e.Prod_code",
          "a.PO_NO",
          "a.수주수량",
          "a.수주단위",
          "a.수주구분",
          "a.수율"
        ],
        "sql": "select CONVERT(DATE,a.수주일자) 수주일자,a.수주번호,c.code_name 제품유형라벨,a.제품유형,d.code_name 작업구분라벨,a.작업구분,b.name 거래처명,b.code 거래처코드, e.model+' '+convert(varchar,e.Inch)+' '+convert(varchar,e.Glass_thick)+' '+e.Version+' '+convert(varchar,e.sheet)+' '+convert(varchar,Block)+' '+convert(varchar,RUN_SIZE) +' ['+e.spec+']' 제품명, e.Prod_code 제품코드,a.PO_NO,a.수주수량,a.수주단위,a.수주구분,a.수율,a.필요자재량, coalesce(f.지시수량,0) 투입수량, (a.수주수량 -coalesce(f.지시수량,0)) 잔량, STUFF(STUFF(substring(납품요망일, 1, 8),5,0,'-'),8,0,'-') as 납기일,a.비고 from d",
        "description": "SELECT 쿼리 (d33_, dw_vendor_mast, dw_common_code, dw_product_mast, d21_)"
      },
      {
        "mapperId": "M0006001",
        "queryId": "checkPoNoDeletable",
        "queryType": "select",
        "tables": [
          "d21_"
        ],
        "columns": [
          "CASE"
        ],
        "sql": "SELECT CASE WHEN EXISTS (SELECT 1 FROM d21_제조지시MST WHERE po_no = ?) THEN 0 ELSE 1 END AS result",
        "description": "SELECT 쿼리 (d21_)"
      },
      {
        "mapperId": "M0006001",
        "queryId": "insertPurchaseOrder",
        "queryType": "insert",
        "tables": [
          "d33_"
        ],
        "columns": [
          "'2'",
          "#{수주일자})",
          "'yyyyMMdd')",
          "0)+1",
          "'0000')"
        ],
        "sql": "INSERT INTO d33_제품수주서파일 ( 공장코드, 수주일자, 수주번호, 거래처코드, 제품코드, PO_NO, 수주수량, 수주단위, 수율, 필요자재량, 제품유형, 작업구분, 수주구분, 납품요망일, 비고, 입력시각, 입력자, 수주단가, 수주금액, 수주부가세, 외화금액, 발행여부, 취소여부, 생산지시여부, 생산완료여부, 납품완료여부, 입금완료여부, 입금금액 ) SELECT '2', FORMAT(convert(date,#{수주일자}),'yyyyMMdd'), (select format(coalesce(max(수주번호),0)+1 ,'0000') from d33_제품수주서파일 where 수주일자 like format(getdate(),'yyyyMM')+'%'), #{거래처코드}, REPLACE(#{제품코드}, '-', ''), ?, #{수주수량}, #{수주단위}, #{수율}, #{필요자재량}, #{제품유형}, #{작업구분}, #{수주구분}, FORMAT(convert(date,#{납기일})",
        "description": "INSERT 쿼리 (d33_)"
      },
      {
        "mapperId": "M0006001",
        "queryId": "deletePurchaseOrder",
        "queryType": "delete",
        "tables": [
          "d33_"
        ],
        "columns": [],
        "sql": "DELETE FROM d33_제품수주서파일 where po_no=? -- 체크된 PO_NO",
        "description": "DELETE 쿼리 (d33_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006002",
      "screenName": "M0006002",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006002.vue"
    },
    "queries": [
      {
        "mapperId": "M0006002",
        "queryId": "getGrid1Data",
        "queryType": "select",
        "tables": [
          "dw_maj_code"
        ],
        "columns": [
          "maj_code_name",
          "maj_code"
        ],
        "sql": "select maj_code_name,maj_code from dw_maj_code order by case when isnumeric(maj_code) = 1 then cast(maj_code as int) else null end, maj_code",
        "description": "SELECT 쿼리 (dw_maj_code)"
      },
      {
        "mapperId": "M0006002",
        "queryId": "getGrid2Data",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "maj_code",
          "code",
          "code_name",
          "tray_cell",
          "create_date",
          "use_yn",
          "sort_order",
          "etc1",
          "etc2"
        ],
        "sql": "select maj_code,code,code as code_org,code_name,tray_cell,create_date,use_yn,sort_order,etc1,etc2 from dw_common_code where maj_code = ? order by sort_order,code",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0006002",
        "queryId": "insertData1",
        "queryType": "insert",
        "tables": [
          "dw_maj_code_input"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_maj_code_input ( maj_code_name, maj_code ) VALUES ( ?, ? );",
        "description": "INSERT 쿼리 (dw_maj_code_input)"
      },
      {
        "mapperId": "M0006002",
        "queryId": "insertData2",
        "queryType": "insert",
        "tables": [
          "dw_common_code_input"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_common_code_input ( maj_code, code, code_name, tray_cell, create_date, use_yn, sort_order, etc1, etc2 ) VALUES ( ?, ?, ?, ?, ?, ?, ?, ?, ? );",
        "description": "INSERT 쿼리 (dw_common_code_input)"
      },
      {
        "mapperId": "M0006002",
        "queryId": "updateData1",
        "queryType": "update",
        "tables": [
          "dw_maj_code_input"
        ],
        "columns": [],
        "sql": "UPDATE dw_maj_code_input SET maj_code_name=? WHERE maj_code = ?",
        "description": "UPDATE 쿼리 (dw_maj_code_input)"
      },
      {
        "mapperId": "M0006002",
        "queryId": "updateData2",
        "queryType": "update",
        "tables": [
          "dw_common_code_input"
        ],
        "columns": [],
        "sql": "UPDATE dw_common_code_input SET code = ?, code_name=?, tray_cell=?, create_date=?, use_yn=?, sort_order=?, etc1=?, etc2=? WHERE maj_code=? AND code=?;",
        "description": "UPDATE 쿼리 (dw_common_code_input)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006003",
      "screenName": "M0006003",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006003.vue"
    },
    "queries": [
      {
        "mapperId": "M0006003",
        "queryId": "getVendorMstList",
        "queryType": "select",
        "tables": [
          "d03_"
        ],
        "columns": [
          "거래처코드",
          "거래처명",
          "거래처약명",
          "대표자",
          "사업자등록번호",
          "전화번호",
          "팩스번호",
          "우편번호",
          "주소",
          "메일주소",
          "담당자",
          "담당자연락처",
          "업태",
          "종목",
          "거래처분류",
          "개업일자",
          "거래여부",
          "거래개시일자",
          "비고",
          "부가세적용여부"
        ],
        "sql": "SELECT 거래처코드 , 거래처명 , 거래처약명 , 대표자 , 사업자등록번호 , 전화번호 , 팩스번호 , 우편번호 , 주소 , 메일주소 , 담당자 , 담당자연락처 , 업태 , 종목 , 거래처분류 , 개업일자 , 거래여부 , 거래개시일자 , 비고 , 부가세적용여부 , 금액표기여부 FROM d03_거래처마스터파일 WHERE 1 = 1 ORDER BY 거래처코드",
        "description": "SELECT 쿼리 (d03_)"
      },
      {
        "mapperId": "M0006003",
        "queryId": "checkInsertVendorMst",
        "queryType": "select",
        "tables": [
          "d03_"
        ],
        "columns": [
          "거래처코드"
        ],
        "sql": "SELECT 거래처코드 FROM d03_거래처마스터파일 WHERE 거래처코드 IN <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > #{item.거래처코드} </foreach>",
        "description": "SELECT 쿼리 (d03_)"
      },
      {
        "mapperId": "M0006003",
        "queryId": "insertVendorMst",
        "queryType": "insert",
        "tables": [
          "d03_"
        ],
        "columns": [],
        "sql": "INSERT INTO d03_거래처마스터파일 ( 거래처코드 , 거래처명 , 거래처약명 , 대표자 , 사업자등록번호 , 전화번호 , 팩스번호 , 우편번호 , 주소 , 메일주소 , 담당자 , 담당자연락처 , 업태 , 종목 , 거래처분류 , 개업일자 , 거래여부 , 거래개시일자 , 비고 , 부가세적용여부 , 금액표기여부 ) VALUES ( #{거래처코드} , #{거래처명} , #{거래처약명} , #{대표자} , #{사업자등록번호} , #{전화번호} , #{팩스번호} , #{우편번호} , #{주소} , #{메일주소} , #{담당자} , #{담당자연락처} , #{업태} , #{종목} , #{거래처분류} , #{개업일자} , #{거래여부} , #{거래개시일자} , #{비고} , #{부가세적용여부} , #{금액표기여부} )",
        "description": "INSERT 쿼리 (d03_)"
      },
      {
        "mapperId": "M0006003",
        "queryId": "updateVendorMst",
        "queryType": "update",
        "tables": [
          "d03_"
        ],
        "columns": [],
        "sql": "UPDATE d03_거래처마스터파일 SET 거래처명 = #{거래처명} , 거래처약명 = #{거래처약명} , 대표자 = #{대표자} , 사업자등록번호 = #{사업자등록번호} , 전화번호 = #{전화번호} , 팩스번호 = #{팩스번호} , 우편번호 = #{우편번호} , 주소 = #{주소} , 메일주소 = #{메일주소} , 담당자 = #{담당자} , 담당자연락처 = #{담당자연락처} , 업태 = #{업태} , 종목 = #{종목} , 거래처분류 = #{거래처분류} , 개업일자 = #{개업일자} , 거래여부 = #{거래여부} , 거래개시일자 = #{거래개시일자} , 비고 = #{비고} , 부가세적용여부 = #{부가세적용여부} , 금액표기여부 = #{금액표기여부} WHERE 거래처코드 = #{거래처코드}",
        "description": "UPDATE 쿼리 (d03_)"
      },
      {
        "mapperId": "M0006003",
        "queryId": "deleteVendorMst",
        "queryType": "delete",
        "tables": [
          "d03_"
        ],
        "columns": [],
        "sql": "DELETE FROM d03_거래처마스터파일 WHERE 거래처코드 = #{거래처코드}",
        "description": "DELETE 쿼리 (d03_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006005",
      "screenName": "M0006005",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006005.vue"
    },
    "queries": [
      {
        "mapperId": "M0006005",
        "queryId": "getDefectCdList",
        "queryType": "select",
        "tables": [
          "d14_"
        ],
        "columns": [
          "불량코드",
          "불량명",
          "불량약명",
          "검사불량",
          "일반불량",
          "사용여부",
          "특기사항"
        ],
        "sql": "SELECT 불량코드 , 불량명 , 불량약명 , 검사불량 , 일반불량 , 사용여부 , 특기사항 FROM d14_불량사유코드파일 WHERE 1 = 1 ORDER BY 불량코드",
        "description": "SELECT 쿼리 (d14_)"
      },
      {
        "mapperId": "M0006005",
        "queryId": "checkInsertDefectCd",
        "queryType": "select",
        "tables": [
          "d14_"
        ],
        "columns": [
          "불량코드"
        ],
        "sql": "SELECT 불량코드 FROM d14_불량사유코드파일 WHERE 불량코드 IN <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > #{item.불량코드} </foreach>",
        "description": "SELECT 쿼리 (d14_)"
      },
      {
        "mapperId": "M0006005",
        "queryId": "insertDefectCd",
        "queryType": "insert",
        "tables": [
          "d14_"
        ],
        "columns": [],
        "sql": "INSERT INTO d14_불량사유코드파일 ( 불량코드 , 불량명 , 불량약명 , 검사불량 , 일반불량 , 사용여부 , 특기사항 ) VALUES ( #{불량코드} , #{불량명} , #{불량약명} , #{검사불량} , #{일반불량} , #{사용여부} , #{특기사항} )",
        "description": "INSERT 쿼리 (d14_)"
      },
      {
        "mapperId": "M0006005",
        "queryId": "updateDefectCd",
        "queryType": "update",
        "tables": [
          "d14_"
        ],
        "columns": [],
        "sql": "UPDATE d14_불량사유코드파일 SET 불량명 = #{불량명} , 불량약명 = #{불량약명} , 검사불량 = #{검사불량} , 일반불량 = #{일반불량} , 사용여부 = #{사용여부} , 특기사항 = #{특기사항} WHERE 불량코드 = #{불량코드}",
        "description": "UPDATE 쿼리 (d14_)"
      },
      {
        "mapperId": "M0006005",
        "queryId": "deleteDefectCd",
        "queryType": "delete",
        "tables": [
          "d14_"
        ],
        "columns": [],
        "sql": "DELETE FROM d14_불량사유코드파일 WHERE 불량코드 = #{불량코드}",
        "description": "DELETE 쿼리 (d14_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006007",
      "screenName": "M0006007",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006007.vue"
    },
    "queries": [
      {
        "mapperId": "M0006007",
        "queryId": "getGrid1Data",
        "queryType": "select",
        "tables": [
          "dw_step_mast"
        ],
        "columns": [
          "공정코드",
          "공정명",
          "area",
          "remark"
        ],
        "sql": "select 공정코드,공정명,area as 공정구분,remark as 비고 FROM dw_step_mast order by 1,2,4",
        "description": "SELECT 쿼리 (dw_step_mast)"
      },
      {
        "mapperId": "M0006007",
        "queryId": "getGrid2Data",
        "queryType": "select",
        "tables": [
          "d29_"
        ],
        "columns": [
          "line",
          "공정코드",
          "불량명",
          "불량코드",
          "적용구분",
          "비고",
          "적용순서",
          "rw_적용",
          "사용여부",
          "0)"
        ],
        "sql": "select line,공정코드,불량명,불량코드, 적용구분,비고,적용순서,rw_적용, 사용여부, ISNULL(신뢰성인계여부,0) 신뢰성인계여부, ISNULL(수율불량제외여부,0) 수율불량제외여부, ISNULL(Rework진행여부,0) Rework진행여부 FROM d29_공정별불량파일 where 공정코드 = #{공정코드} order by 적용순서",
        "description": "SELECT 쿼리 (d29_)"
      },
      {
        "mapperId": "M0006007",
        "queryId": "insertData",
        "queryType": "insert",
        "tables": [
          "d29_"
        ],
        "columns": [],
        "sql": "INSERT INTO d29_공정별불량파일 ( line, 공정코드, 불량코드, 적용구분, 불량명, RW_적용, Excel_Col, 적용순서, 사용여부, 비고, 신뢰성인계여부, 수율불량제외여부, Rework진행여부 ) VALUES ( ? #{공정코드}, #{불량코드}, #{적용구분}, #{불량명}, #{rw적용}, 0, #{적용순서}, #{사용여부}, #{비고}, #{신뢰성인계여부}, #{수율불량제외여부}, #{rework진행여부} );",
        "description": "INSERT 쿼리 (d29_)"
      },
      {
        "mapperId": "M0006007",
        "queryId": "insertDataAll",
        "queryType": "insert",
        "tables": [
          "d29_"
        ],
        "columns": [],
        "sql": "INSERT INTO d29_공정별불량파일 ( line, 공정코드, 불량코드, 적용구분, 불량명, RW_적용, Excel_Col, 적용순서, 사용여부, 비고, 신뢰성인계여부, 수율불량제외여부, Rework진행여부 ) VALUES <foreach item=\"item\" collection=\"insert\" separator=\",\" > ( ?, #{item.공정코드}, #{item.불량코드}, #{item.적용구분}, #{item.불량명}, #{item.rw적용}, 0, #{item.적용순서}, #{item.사용여부}, #{item.비고}, #{item.신뢰성인계여부}, #{item.수율불량제외여부}, #{item.rework진행여부} ) </foreach>",
        "description": "INSERT 쿼리 (d29_)"
      },
      {
        "mapperId": "M0006007",
        "queryId": "updateData",
        "queryType": "update",
        "tables": [
          "d29_"
        ],
        "columns": [],
        "sql": "UPDATE d29_공정별불량파일 SET 불량명=#{불량명}, RW_적용=#{rw적용}, 적용순서=#{적용순서}, 사용여부=#{사용여부}, 비고=#{비고}, 신뢰성인계여부=#{신뢰성인계여부}, 수율불량제외여부=#{수율불량제외여부}, Rework진행여부=#{rework진행여부} WHERE 공정코드 = #{공정코드} AND 불량코드 = #{불량코드} AND 적용구분 = #{적용구분} AND line = ?",
        "description": "UPDATE 쿼리 (d29_)"
      },
      {
        "mapperId": "M0006007",
        "queryId": "deleteDataAll",
        "queryType": "delete",
        "tables": [
          "d29_"
        ],
        "columns": [],
        "sql": "DELETE FROM d29_공정별불량파일 WHERE 공정코드 = #{공정코드}",
        "description": "DELETE 쿼리 (d29_)"
      },
      {
        "mapperId": "M0006007",
        "queryId": "deleteData",
        "queryType": "delete",
        "tables": [
          "d29_"
        ],
        "columns": [],
        "sql": "DELETE FROM d29_공정별불량파일 WHERE 공정코드 = #{공정코드} AND 불량코드 = #{불량코드} AND 적용구분 = #{적용구분} AND line = ?",
        "description": "DELETE 쿼리 (d29_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006009",
      "screenName": "Tab 0 사용자 관리  #tab-content-#{DOI_CM_SYS_RESOURCE.sys_resource_id}",
      "menuPath": "Tab 0 사용자 관리  #tab-content-#{DOI_CM_SYS_RESOURCE.sys_resource_id}",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006009.vue",
      "tabs": [
        "TAB062000",
        "TAB063000",
        "TAB064000"
      ],
      "description": "사용자 관리  #tab-content-#{DOI_CM_SYS_RESOURCE.sys_resource_id}, 메뉴관리, 사용자메뉴 권한관리"
    },
    "queries": [
      {
        "mapperId": "M0006009",
        "queryId": "selectMenuTabList",
        "queryType": "select",
        "tables": [
          "doi_cm_sys_resource",
          "mt"
        ],
        "columns": [
          "a.prod_category",
          "a.sys_resource_id",
          "a.upper_sys_resource_id",
          "a.description",
          "a.SYS_RESOURCE_NAME",
          "a.seq",
          "1",
          "a.sys_resource_type_code_id",
          "'D4')as",
          "a.url",
          "a.del_yn"
        ],
        "sql": "with mt as ( select a.prod_category ,a.sys_resource_id ,a.upper_sys_resource_id ,a.description ,cast(a.SYS_RESOURCE_NAME as nvarchar(max)) as full_path ,a.SYS_RESOURCE_NAME ,a.seq ,1 as level ,a.sys_resource_type_code_id ,cast(FORMAT(a.seq , 'D4')as nvarchar(max)) as full_seq ,a.url ,a.del_yn ,a.sys_resource_id as org_sys_resource_id from DOI_CM_SYS_RESOURCE a where a.upper_sys_resource_id = 'ROOT_MENU' and a.prod_category = ? and a.del_yn = 'N' union all select a.prod_category ,a.sys_resource_i",
        "description": "SELECT 쿼리 (doi_cm_sys_resource, mt)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "selectRoleList",
        "queryType": "select",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [
          "ROLE_ID",
          "ROLE_NAME",
          "DESCRIPTION",
          "INIT_DT",
          "INIT_USER",
          "MODI_DT",
          "MODI_USER"
        ],
        "sql": "select ROLE_ID ,ROLE_NAME ,DESCRIPTION ,INIT_DT ,INIT_USER ,MODI_DT ,MODI_USER from DOI_CM_ROLE where del_yn = 'N' order by role_name",
        "description": "SELECT 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "selectUserList",
        "queryType": "select",
        "tables": [
          "doi_cm_user"
        ],
        "columns": [
          "USER_ID",
          "password",
          "user_name",
          "dept_name",
          "dept_code",
          "position_name",
          "position_code",
          "UTG",
          "ITG",
          "INIT_DT",
          "INIT_USER",
          "MODI_DT",
          "MODI_USER",
          "DEL_YN"
        ],
        "sql": "select USER_ID ,password ,user_name ,dept_name ,dept_code ,position_name ,position_code ,UTG ,ITG ,INIT_DT ,INIT_USER ,MODI_DT ,MODI_USER ,DEL_YN from doi_cm_user where DEL_YN = 'N' order by dept_name,user_name",
        "description": "SELECT 쿼리 (doi_cm_user)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "selectRoleMenuTabList",
        "queryType": "select",
        "tables": [
          "doi_cm_role",
          "doi_cm_role_sys_resource",
          "doi_cm_sys_resource",
          "mt",
          "role_sys_resc"
        ],
        "columns": [
          "b.UPPER_SYS_RESOURCE_ID",
          "b.SYS_RESOURCE_ID"
        ],
        "sql": "with role_sys_resc as ( select b.UPPER_SYS_RESOURCE_ID ,b.SYS_RESOURCE_ID from DOI_CM_ROLE a left outer join doi_cm_role_sys_resource b on (a.ROLE_ID = b.ROLE_ID) where a.role_id = ? and a.del_yn = 'N' and b.prod_category = ? ) ,mt as ( select a.prod_category ,a.sys_resource_id ,a.upper_sys_resource_id ,a.description ,cast(a.SYS_RESOURCE_NAME as nvarchar(max)) as full_path ,a.SYS_RESOURCE_NAME ,a.seq ,1 as level ,a.sys_resource_type_code_id ,cast(a.seq as nvarchar(max)) as full_seq ,a.url from D",
        "description": "SELECT 쿼리 (doi_cm_role, doi_cm_role_sys_resource, doi_cm_sys_resource, mt, role_sys_resc)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "selectRoleUserList",
        "queryType": "select",
        "tables": [
          "doi_cm_user_role",
          "doi_cm_user"
        ],
        "columns": [
          "a.role_id",
          "a.user_id",
          "b.dept_name",
          "b.user_name",
          "b.position_name",
          "b.position_code"
        ],
        "sql": "select a.role_id ,a.user_id ,b.dept_name ,b.user_name ,b.position_name ,b.position_code from doi_cm_user_ROLE a left outer join doi_cm_user b on (a.USER_ID = b.USER_ID) where a.ROLE_ID = ?",
        "description": "SELECT 쿼리 (doi_cm_user_role, doi_cm_user)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "checkRoleId",
        "queryType": "select",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [
          "case"
        ],
        "sql": "select case when count(1) > 0 then ? + '는 사용 할 수 없는 Role Id 입니다.' else 'OK' end from DOI_CM_ROLE where role_id = ?",
        "description": "SELECT 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "insertRoleSysResc",
        "queryType": "insert",
        "tables": [
          "doi_cm_role_sys_resource"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_cm_role_sys_resource ( ROLE_ID ,PROD_CATEGORY ,UPPER_SYS_RESOURCE_ID ,SYS_RESOURCE_ID ,SYS_RESOURCE_TYPE_CODE_ID ,INIT_DT ,INIT_USER ) VALUES ( ? ,? ,? ,? ,? ,GETDATE() ,? )",
        "description": "INSERT 쿼리 (doi_cm_role_sys_resource)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "insertCmUser",
        "queryType": "insert",
        "tables": [
          "doi_cm_user"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_cm_user ( USER_ID ,user_name ,password ,dept_name ,dept_code ,position_name ,position_code ,UTG ,ITG ,INIT_DT ,INIT_USER ,MODI_DT ,MODI_USER ,DEL_YN ) VALUES ( ? ,? ,? ,? ,? ,? ,? ,? ,? ,getdate() ,? ,NULL ,NULL ,'N' )",
        "description": "INSERT 쿼리 (doi_cm_user)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "insertCmSysResource",
        "queryType": "insert",
        "tables": [
          "doi_cm_sys_resource"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_CM_SYS_RESOURCE ( prod_category , SYS_RESOURCE_ID , SYS_RESOURCE_NAME , UPPER_SYS_RESOURCE_ID , SYS_RESOURCE_TYPE_CODE_ID , DESCRIPTION , SEQ , URL , INIT_DT , INIT_USER , DEL_YN ) VALUES ( ? ,? , ? , ? , ? , ? , ? , ? , getdate() , ? , 'N' )",
        "description": "INSERT 쿼리 (doi_cm_sys_resource)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "insertUserRole",
        "queryType": "insert",
        "tables": [
          "doi_cm_user_role"
        ],
        "columns": [],
        "sql": "INSERT INTO doi_cm_user_ROLE ( USER_ID,ROLE_ID,ROLE_NAME,INIT_DT,INIT_USER ) VALUES ( ?,?,?,getdate(),? )",
        "description": "INSERT 쿼리 (doi_cm_user_role)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "insertRole",
        "queryType": "insert",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [],
        "sql": "INSERT INTO DOI_CM_ROLE ( ROLE_ID, ROLE_NAME, DESCRIPTION, INIT_DT, INIT_USER, MODI_DT, MODI_USER, DEL_YN ) VALUES ( ?, ?, ?, getdate(), ?, NULL, NULL, 'N' )",
        "description": "INSERT 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "updateCmUser",
        "queryType": "update",
        "tables": [
          "doi_cm_user"
        ],
        "columns": [],
        "sql": "UPDATE doi_cm_user SET user_name=? , password=? , dept_name=? , dept_code=? , position_name=? , position_code=? , UTG=? , ITG=? , MODI_DT=getdate() , MODI_USER=? WHERE USER_ID=?",
        "description": "UPDATE 쿼리 (doi_cm_user)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "deleteCmUser",
        "queryType": "update",
        "tables": [
          "doi_cm_user"
        ],
        "columns": [],
        "sql": "UPDATE doi_cm_user SET DEL_YN = 'Y' WHERE USER_ID=?",
        "description": "UPDATE 쿼리 (doi_cm_user)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "updateCmSysResource",
        "queryType": "update",
        "tables": [
          "doi_cm_sys_resource"
        ],
        "columns": [],
        "sql": "UPDATE DOI_CM_SYS_RESOURCE SET SYS_RESOURCE_ID = ? ,SYS_RESOURCE_NAME=? , SYS_RESOURCE_TYPE_CODE_ID=? , DESCRIPTION=? , SEQ=? , URL=? , MODI_DT=getdate() , MODI_USER=? where prod_category = ? and SYS_RESOURCE_ID = ? and UPPER_SYS_RESOURCE_ID = ?",
        "description": "UPDATE 쿼리 (doi_cm_sys_resource)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "deleteCmSysResource",
        "queryType": "update",
        "tables": [
          "doi_cm_sys_resource"
        ],
        "columns": [],
        "sql": "UPDATE DOI_CM_SYS_RESOURCE SET DEL_YN = 'Y' , MODI_DT=getdate() , MODI_USER=? where prod_category = ? and SYS_RESOURCE_ID = ? and UPPER_SYS_RESOURCE_ID = ?",
        "description": "UPDATE 쿼리 (doi_cm_sys_resource)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "deleteRole",
        "queryType": "update",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [],
        "sql": "UPDATE DOI_CM_ROLE SET DEL_YN = 'Y' ,MODI_USER = ? ,MODI_DT = GETDATE() WHERE ROLE_ID = ?",
        "description": "UPDATE 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "updateRole",
        "queryType": "update",
        "tables": [
          "doi_cm_role"
        ],
        "columns": [],
        "sql": "UPDATE DOI_CM_ROLE SET ROLE_NAME = ? ,DESCRIPTION = ? ,MODI_DT = getdate() ,MODI_USER = ? WHERE ROLE_ID = ?",
        "description": "UPDATE 쿼리 (doi_cm_role)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "deleteRoleSysResc",
        "queryType": "delete",
        "tables": [
          "doi_cm_role_sys_resource"
        ],
        "columns": [],
        "sql": "delete from doi_cm_role_sys_resource where role_id = ? and PROD_CATEGORY = ?",
        "description": "DELETE 쿼리 (doi_cm_role_sys_resource)"
      },
      {
        "mapperId": "M0006009",
        "queryId": "deleteUserRole",
        "queryType": "delete",
        "tables": [
          "doi_cm_user_role"
        ],
        "columns": [],
        "sql": "DELETE FROM doi_cm_user_ROLE WHERE ROLE_ID = ? AND USER_ID = ?",
        "description": "DELETE 쿼리 (doi_cm_user_role)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006010",
      "screenName": "M0006010",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006010.vue"
    },
    "queries": [
      {
        "mapperId": "M0006010",
        "queryId": "checkProdCode",
        "queryType": "select",
        "tables": [
          "d05_"
        ],
        "columns": [],
        "sql": "select count(1) count FROM d05_제품개발이력마스터 where 제품코드 = #{제품코드}",
        "description": "SELECT 쿼리 (d05_)"
      },
      {
        "mapperId": "M0006010",
        "queryId": "getCodeList1",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "select code as value,code_name as text FROM dw_common_code where maj_code = 86 and use_yn = '1' order by sort_order",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0006010",
        "queryId": "getCodeList2",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "select code as value,code_name as text FROM dw_common_code where maj_code = 87 and use_yn = '1' order by sort_order",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0006010",
        "queryId": "getCodeList3",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "select code as value,code_name as text FROM dw_common_code where maj_code = 88 and use_yn = '1' order by sort_order",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0006010",
        "queryId": "getCodeList4",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "select code as value,code_name as text FROM dw_common_code where maj_code = 89 and use_yn = '1' order by sort_order",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0006010",
        "queryId": "getGridData",
        "queryType": "select",
        "tables": [
          "d05_"
        ],
        "columns": [
          "seq_id",
          "구분",
          "모델",
          "제품코드",
          "Rev_No",
          "Lot_Rev_No",
          "Run_Rev_No",
          "양산이관_구분",
          "양산이관_CODE",
          "주요변경사항",
          "Lot_No",
          "Run_No",
          "변경접수일",
          "비고",
          "고객사",
          "고객사_Model",
          "고객사_CODE",
          "고객사_Part_CodeE",
          "Glass정보_제조사",
          "Glass정보_모델"
        ],
        "sql": "SELECT seq_id, 구분, 모델, 제품코드, Rev_No, Lot_Rev_No, Run_Rev_No, 양산이관_구분, 양산이관_CODE, 주요변경사항, Lot_No, Run_No, 변경접수일, 비고, 고객사, 고객사_Model, 고객사_CODE, 고객사_Part_CodeE, Glass정보_제조사, Glass정보_모델, Glass정보_Size_대각_inch, Glass정보_Size_mm, Glass정보_Size_두께, Glass정보_가공치수, Film정보_전면_원단사, Film정보_전면_원단, Film정보_전면_Size_mm, Film정보_전면_두께_mm, Film정보_전면_손잡이, Film정보_전면_타발사, Film정보_전면_Ver, Film정보_배면_원단사, Film정보_배면_원단, Film정보_배면_Size_mm, Film정보_배면_두께_mm, Film정보_배면_손잡이, Film정보_배면_타발사, Film정보_배면_Ver, Tray_제조사, Tray_Model, Tray_",
        "description": "SELECT 쿼리 (d05_)"
      },
      {
        "mapperId": "M0006010",
        "queryId": "insertData",
        "queryType": "insert",
        "tables": [
          "d05_"
        ],
        "columns": [],
        "sql": "INSERT INTO d05_제품개발이력마스터 ( 구분, 모델, 제품코드, Rev_No, Lot_Rev_No, Run_Rev_No, 양산이관_구분, 양산이관_CODE, 주요변경사항, Lot_No, Run_No, 변경접수일, 비고, 고객사, 고객사_Model, 고객사_CODE, 고객사_Part_CodeE, Glass정보_제조사, Glass정보_모델, Glass정보_Size_대각_inch, Glass정보_Size_mm, Glass정보_Size_두께, Glass정보_가공치수, Film정보_전면_원단사, Film정보_전면_원단, Film정보_전면_Size_mm, Film정보_전면_두께_mm, Film정보_전면_손잡이, Film정보_전면_타발사, Film정보_전면_Ver, Film정보_배면_원단사, Film정보_배면_원단, Film정보_배면_Size_mm, Film정보_배면_두께_mm, Film정보_배면_손잡이, Film정보_배면_타발사, Film정보_배면_Ver, Tray_제조사, Tray",
        "description": "INSERT 쿼리 (d05_)"
      },
      {
        "mapperId": "M0006010",
        "queryId": "updateData",
        "queryType": "update",
        "tables": [
          "d05_"
        ],
        "columns": [],
        "sql": "UPDATE d05_제품개발이력마스터 SET 구분 = #{구분}, 모델 = #{모델}, 제품코드 = #{제품코드}, Rev_No = ?, Lot_Rev_No = ?, Run_Rev_No = ?, 양산이관_구분 = #{양산이관구분}, 양산이관_CODE = #{양산이관Code}, 주요변경사항 = #{주요변경사항}, Lot_No = ?, Run_No = ?, 변경접수일 = #{변경접수일}, 비고 = #{비고}, 고객사 = #{고객사}, 고객사_Model = #{고객사Model}, 고객사_CODE = #{고객사Code}, 고객사_Part_CodeE = #{고객사PartCodee}, Glass정보_제조사 = #{glass정보제조사}, Glass정보_모델 = #{glass정보모델}, Glass정보_Size_대각_inch = #{glass정보Size대각Inch}, Glass정보_Size_mm = #{glass정보SizeMm}, Glass정보_Size_두께 = #{glass정보Size두께}, Gl",
        "description": "UPDATE 쿼리 (d05_)"
      },
      {
        "mapperId": "M0006010",
        "queryId": "deleteData",
        "queryType": "delete",
        "tables": [
          "d05_"
        ],
        "columns": [],
        "sql": "DELETE FROM d05_제품개발이력마스터 WHERE seq_id = ?",
        "description": "DELETE 쿼리 (d05_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006011",
      "screenName": "Tab 1 설비현황",
      "menuPath": "Tab 1 설비현황",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006011.vue",
      "tabs": [
        "TAB065000",
        "TAB066000"
      ],
      "description": "설비현황, 설비로그관리"
    },
    "queries": [
      {
        "mapperId": "M0006011",
        "queryId": "getGridData1",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "공장코드",
          "seq_no",
          "공정",
          "설비명",
          "제어_Base",
          "PLC_Base",
          "여유슬롯",
          "PLC_CPU_MAKER",
          "PLC_CPU_모델",
          "HMI_TOUCH",
          "HMI_SCADA",
          "SCADA",
          "Windows_Version",
          "PLC_Comment",
          "외산설비_Lock_유무",
          "비고"
        ],
        "sql": "SELECT 공장코드, seq_no, 공정, 설비명, 제어_Base, PLC_Base, 여유슬롯, PLC_CPU_MAKER, PLC_CPU_모델, HMI_TOUCH, HMI_SCADA, SCADA, Windows_Version, PLC_Comment, 외산설비_Lock_유무, 비고 FROM dw_설비현황 order by seq_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006011",
        "queryId": "getGridData2",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "공장코드",
          "seq_no",
          "설비유형",
          "설비호기",
          "이력관리여부",
          "DB연계여부",
          "DB테이블유무",
          "업체명",
          "관리IP",
          "비고"
        ],
        "sql": "SELECT 공장코드, seq_no, 설비유형, 설비호기, 이력관리여부, DB연계여부, DB테이블유무, 업체명, 관리IP, 비고 FROM dw_설비호기이력관리내역 order by seq_no",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006011",
        "queryId": "insertData1",
        "queryType": "insert",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_설비현황 ( 공장코드, seq_no, 공정, 설비명, 제어_Base, PLC_Base, 여유슬롯, PLC_CPU_MAKER, PLC_CPU_모델, HMI_TOUCH, HMI_SCADA, SCADA, Windows_Version, PLC_Comment, 외산설비_Lock_유무, 비고 ) VALUES ( #{공장코드}, ?, #{공정}, #{설비명}, #{제어Base}, ?, #{여유슬롯}, ?, #{plcCpu모델}, ?, ?, ?, ?, ?, #{외산설비Lock유무}, #{비고} );",
        "description": "INSERT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006011",
        "queryId": "insertData2",
        "queryType": "insert",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_설비호기이력관리내역 ( 공장코드, seq_no, 설비유형, 설비호기, 이력관리여부, DB연계여부, DB테이블유무, 업체명, 관리IP, 비고 ) VALUES ( #{공장코드}, ?, #{설비유형}, #{설비호기}, #{이력관리여부}, #{db연계여부}, #{db테이블유무}, #{업체명}, #{관리ip}, #{비고} );",
        "description": "INSERT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006011",
        "queryId": "updateData1",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_설비현황 SET 제어_Base = #{제어Base}, PLC_Base = ?, 여유슬롯 = #{여유슬롯}, PLC_CPU_MAKER = ?, PLC_CPU_모델 = #{plcCpu모델}, HMI_TOUCH = ?, HMI_SCADA = ?, SCADA = ?, Windows_Version = ?, PLC_Comment = ?, 외산설비_Lock_유무 = #{외산설비Lock유무}, 비고 = #{비고} WHERE 공장코드 = #{공장코드} AND seq_no = ? AND 공정 = #{공정} AND 설비명 = #{설비명}",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006011",
        "queryId": "updateData2",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_설비호기이력관리내역 SET 이력관리여부 = #{이력관리여부}, DB연계여부 = #{db연계여부}, DB테이블유무 = #{db테이블유무}, 업체명 = #{업체명}, 관리IP = #{관리ip}, 비고 = #{비고} WHERE 공장코드 = #{공장코드} AND seq_no = ? AND 설비유형 = #{설비유형} AND 설비호기 = #{설비호기}",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006011",
        "queryId": "deleteData1",
        "queryType": "delete",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_설비현황 WHERE 공장코드 = #{공장코드} AND seq_no = ? AND 공정 = #{공정} AND 설비명 = #{설비명}",
        "description": "DELETE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006011",
        "queryId": "deleteData2",
        "queryType": "delete",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_설비호기이력관리내역 WHERE 공장코드 = #{공장코드} AND seq_no = ? AND 설비유형 = #{설비유형} AND 설비호기 = #{설비호기}",
        "description": "DELETE 쿼리 (dw_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006012",
      "screenName": "Tab 1 모델기본정보",
      "menuPath": "Tab 1 모델기본정보",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006012.vue",
      "tabs": [
        "TAB067000",
        "TAB068000",
        "TAB069000"
      ],
      "description": "모델기본정보, 모델별_모니터링, 공정별_모니터링"
    },
    "queries": [
      {
        "mapperId": "M0006012",
        "queryId": "selectTab1GridData",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "구분",
          "MODEL",
          "적재매수",
          "원장_두께",
          "원장구분",
          "UTG_Version",
          "SDC모델명",
          "고객사",
          "대각인치",
          "MODEL_NAME",
          "MODEL_CODE",
          "카세트_최대_적재수량",
          "UTG_가공_SIZE_장면",
          "UTG_가공_SIZE_단면",
          "UTG_가공_SIZE_두께",
          "UTG_출하_SIZE_장면",
          "UTG_출하_SIZE_단면",
          "UTG_출하_SIZE_두께",
          "AGB_적용여부",
          "AGB_Bending_Point"
        ],
        "sql": "SELECT 구분, MODEL, 적재매수, 원장_두께, 원장구분, UTG_Version, SDC모델명, 고객사, 대각인치, MODEL_NAME, MODEL_CODE, 카세트_최대_적재수량, UTG_가공_SIZE_장면, UTG_가공_SIZE_단면, UTG_가공_SIZE_두께, UTG_출하_SIZE_장면, UTG_출하_SIZE_단면, UTG_출하_SIZE_두께, AGB_적용여부, AGB_Bending_Point, AGB_R, AGB_Beding_시간, FILM_전면_자재사양, FILM_전면_자재코드, FILM_전면_PF_version, FILM_전면_원단사, FILM_전면_타발사, FILM_배면_자재사양, FILM_배면_자재코드, FILM_배면_PF_version, FILM_배면_원단사, FILM_배면_타발사, FILM_장변_SIZE_mm, FILM_단변_SIZE_mm, PFL_합지_장변_Align_mm, PFL_합지_단변_Align_mm, CURL_mm_방향, CURL_mm_1차, C",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "selectTab2GridData",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "구분",
          "MODEL",
          "적재매수",
          "UTG_원장_두께",
          "UTG_원장구분",
          "UTG_Version",
          "SDC모델명",
          "고객사",
          "대각인치",
          "MODEL_NAME",
          "MODEL_CODE",
          "가공_치수_장변_기준",
          "가공_치수_장변_편차",
          "가공_치수_단변_기준",
          "가공_치수_단변_편차",
          "WP_C길이_기준",
          "WP_C길이_편차",
          "WP_ER_기준",
          "WP_ER_편차",
          "박리_CST_최대_적재수량"
        ],
        "sql": "SELECT 구분, MODEL, 적재매수, UTG_원장_두께, UTG_원장구분, UTG_Version, SDC모델명, 고객사, 대각인치, MODEL_NAME, MODEL_CODE, 가공_치수_장변_기준, 가공_치수_장변_편차, 가공_치수_단변_기준, 가공_치수_단변_편차, WP_C길이_기준, WP_C길이_편차, WP_ER_기준, WP_ER_편차, 박리_CST_최대_적재수량, 박리_불림조_온도_기준, 박리_불림조_온도_편차, 박리_박리조_온도_기준, 박리_박리조_온도_편차, 박리후세정_접촉각_MIN, 박리후세정_접촉각_MAX, BTP_접촉각_MIN, BTP_접촉각_MAX, BTP_ER_SPEC_기준, BTP_ER_SPEC_편차, BTP_ER_내부관리_기준, BTP_ER_내부관리_편차, 강화_CS_SPEC, 강화_CS_내부관리기준, 강화_DOL_SPEC_MIN, 강화_DOL_SPEC_기준, 강화_DOL_SPEC_MAX, 강화_DOL_내부관리기준_MIN, 강화_DOL_내부관리기준_MAX,",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "selectTab3GridData",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "LINE",
          "PROCESS_ID",
          "공정코드",
          "공정명",
          "모니터링구분",
          "모니터링항목",
          "등급및수량",
          "검증부서",
          "순서",
          "설비유형_수동_대수",
          "설비유형_자동_대수"
        ],
        "sql": "SELECT LINE, PROCESS_ID, 공정코드, 공정명, 모니터링구분, 모니터링항목, 등급및수량, 검증부서, 순서, 설비유형_수동_대수, 설비유형_자동_대수 FROM dw_공정별_모니터링항목 order by 1,2 ;",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "insertTab1Data",
        "queryType": "insert",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_모델기본정보 ( 구분, 적재매수, 원장_두께, 원장구분, UTG_Version, MODEL, SDC모델명, 고객사, 대각인치, MODEL_NAME, MODEL_CODE, 카세트_최대_적재수량, UTG_가공_SIZE_장면, UTG_가공_SIZE_단면, UTG_가공_SIZE_두께, UTG_출하_SIZE_장면, UTG_출하_SIZE_단면, UTG_출하_SIZE_두께, AGB_적용여부, AGB_Bending_Point, AGB_R, AGB_Beding_시간, FILM_전면_자재사양, FILM_전면_자재코드, FILM_전면_PF_version, FILM_전면_원단사, FILM_전면_타발사, FILM_배면_자재사양, FILM_배면_자재코드, FILM_배면_PF_version, FILM_배면_원단사, FILM_배면_타발사, FILM_장변_SIZE_mm, FILM_단변_SIZE_mm, PFL_합지_장변_Align_mm, PFL_합지_단변_Align_mm, CURL_mm_",
        "description": "INSERT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "insertTab2Data",
        "queryType": "insert",
        "tables": [
          "dwisdevdb"
        ],
        "columns": [],
        "sql": "INSERT INTO dwisDevDb.dbo.dw_모델별_모니터링_기준정보 ( 구분, 적재매수, UTG_원장_두께, UTG_원장구분, UTG_Version, MODEL, SDC모델명, 고객사, 대각인치, MODEL_NAME, MODEL_CODE, 가공_치수_장변_기준, 가공_치수_장변_편차, 가공_치수_단변_기준, 가공_치수_단변_편차, WP_C길이_기준, WP_C길이_편차, WP_ER_기준, WP_ER_편차, 박리_CST_최대_적재수량, 박리_불림조_온도_기준, 박리_불림조_온도_편차, 박리_박리조_온도_기준, 박리_박리조_온도_편차, 박리후세정_접촉각_MIN, 박리후세정_접촉각_MAX, BTP_접촉각_MIN, BTP_접촉각_MAX, BTP_ER_SPEC_기준, BTP_ER_SPEC_편차, BTP_ER_내부관리_기준, BTP_ER_내부관리_편차, 강화_CS_SPEC, 강화_CS_내부관리기준, 강화_DOL_SPEC_MIN, 강화_DOL_SPEC_기준, 강화_DOL_SPEC_MAX,",
        "description": "INSERT 쿼리 (dwisdevdb)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "insertTab3Data",
        "queryType": "insert",
        "tables": [
          "dwisdevdb"
        ],
        "columns": [],
        "sql": "INSERT INTO dwisDevDb.dbo.dw_공정별_모니터링항목 ( LINE, PROCESS_ID, 공정코드, 공정명, 모니터링구분, 모니터링항목, 등급및수량, 검증부서, 순서, 설비유형_수동_대수, 설비유형_자동_대수 ) VALUES( ?, ?, #{공정코드}, #{공정명}, #{모니터링구분}, #{모니터링항목}, #{등급및수량}, #{검증부서}, #{순서}, #{설비유형수동대수}, #{설비유형자동대수} );",
        "description": "INSERT 쿼리 (dwisdevdb)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "updateTab1Data",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_모델기본정보 SET 적재매수 = #{적재매수}, 원장_두께 = #{원장두께}, 원장구분 = #{원장구분}, UTG_Version = ?, SDC모델명 = #{sdc모델명}, 고객사 = #{고객사}, 대각인치 = #{대각인치}, MODEL_NAME = ?, MODEL_CODE = ?, 카세트_최대_적재수량 = #{카세트최대적재수량}, UTG_가공_SIZE_장면 = #{utg가공Size장면}, UTG_가공_SIZE_단면 = #{utg가공Size단면}, UTG_가공_SIZE_두께 = #{utg가공Size두께}, UTG_출하_SIZE_장면 = #{utg출하Size장면}, UTG_출하_SIZE_단면 = #{utg출하Size단면}, UTG_출하_SIZE_두께 = #{utg출하Size두께}, AGB_적용여부 = #{agb적용여부}, AGB_Bending_Point = ?, AGB_R = ?, AGB_Beding_시간 = #{agbBeding시간}, FILM_전면_자재사양 = #",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "updateTab2Data",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_모델별_모니터링_기준정보 SET 구분 = #{구분}, 적재매수 = #{적재매수}, UTG_원장_두께 = #{utg원장두께}, UTG_원장구분 = #{utg원장구분}, UTG_Version = ?, SDC모델명 = #{sdc모델명}, 고객사 = #{고객사}, 대각인치 = #{대각인치}, MODEL_NAME = ?, MODEL_CODE = ?, 가공_치수_장변_기준 = #{가공치수장변기준}, 가공_치수_장변_편차 = #{가공치수장변편차}, 가공_치수_단변_기준 = #{가공치수단변기준}, 가공_치수_단변_편차 = #{가공치수단변편차}, WP_C길이_기준 = #{wpC길이기준}, WP_C길이_편차 = #{wpC길이편차}, WP_ER_기준 = #{wpEr기준}, WP_ER_편차 = #{wpEr편차}, 박리_CST_최대_적재수량 = #{박리Cst최대적재수량}, 박리_불림조_온도_기준 = #{박리불림조온도기준}, 박리_불림조_온도_편차 = #{박리불림조온도편차}, 박리_박리조_",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "updateTab3Data",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_공정별_모니터링항목 SET 공정명 = #{공정명}, 등급및수량 = #{등급및수량}, 검증부서 = #{검증부서}, 순서 = #{순서}, 설비유형_수동_대수 = #{설비유형수동대수}, 설비유형_자동_대수 = #{설비유형자동대수} WHERE LINE=? AND PROCESS_ID=? AND 공정코드=#{공정코드} AND 모니터링구분=#{모니터링구분} AND 모니터링항목=#{모니터링항목} ;",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "deleteTab1Data",
        "queryType": "delete",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_모델기본정보 WHERE MODEL=? and 구분=#{구분};",
        "description": "DELETE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "deleteTab2Data",
        "queryType": "delete",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_모델별_모니터링_기준정보 WHERE MODEL=?;",
        "description": "DELETE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0006012",
        "queryId": "deleteTab3Data",
        "queryType": "delete",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_공정별_모니터링항목 WHERE LINE=? AND PROCESS_ID=? AND 공정코드=#{공정코드} AND 모니터링구분=#{모니터링구분} AND 모니터링항목=#{모니터링항목} ;",
        "description": "DELETE 쿼리 (dw_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0006013",
      "screenName": "M0006013",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0006000/M0006013.vue"
    },
    "queries": [
      {
        "mapperId": "M0006013",
        "queryId": "M0006013_Sch1",
        "queryType": "select",
        "tables": [
          "vw_process_plan"
        ],
        "columns": [
          "area",
          "공정코드",
          "공정명"
        ],
        "sql": "select area, 공정코드, 공정명 from vw_process_plan where line = 'DFB1' and process_id = 'D1UT' order by 공정순서",
        "description": "SELECT 쿼리 (vw_process_plan)"
      },
      {
        "mapperId": "M0006013",
        "queryId": "M0006013_Sch2",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast"
        ],
        "columns": [
          "area",
          "설비번호",
          "설비명",
          "설비약명"
        ],
        "sql": "select area, 설비번호, 설비명, 설비약명 from dw_equipment_mast where line = 'DFB1' and 공정코드 = #{공정코드}",
        "description": "SELECT 쿼리 (dw_equipment_mast)"
      },
      {
        "mapperId": "M0006013",
        "queryId": "M0006013_Sch3",
        "queryType": "select",
        "tables": [
          "dw_model_mast"
        ],
        "columns": [
          "model",
          "code",
          "description",
          "tray_cell",
          "use_yn"
        ],
        "sql": "select model, code, description, tray_cell, use_yn from dw_model_mast where 1 = 1",
        "description": "SELECT 쿼리 (dw_model_mast)"
      },
      {
        "mapperId": "M0006013",
        "queryId": "M0006013_Sch4",
        "queryType": "select",
        "tables": [
          "dw_cm_qr_info",
          "vw_process_plan",
          "dw_equipment_mast",
          "doi_cm_user"
        ],
        "columns": [
          "a.seq_id",
          "a.line",
          "a.process_id",
          "a.공정코드",
          "b.공정명",
          "a.설비번호",
          "c.설비명",
          "c.설비약명",
          "a.model_code",
          "a.shift",
          "a.code",
          "a.qr",
          "'yyyy-MM-dd",
          "a.init_user",
          "a.init_user)",
          "a.modi_user",
          "a.modi_user)"
        ],
        "sql": "select a.seq_id, a.line, a.process_id, a.공정코드, b.공정명, a.설비번호, c.설비명, c.설비약명, a.model_code, a.shift, a.code, a.qr, format(a.init_dt, 'yyyy-MM-dd HH:mm') init_dt, a.init_user, isNull(d.user_name, a.init_user) init_user_nm, format(a.modi_dt, 'yyyy-MM-dd HH:mm') modi_dt, a.modi_user, isNull(e.user_name, a.modi_user) modi_user_nm from dw_cm_qr_info a left join vw_process_plan b on (a.line = b.line and a.process_id = b.process_id and a.공정코드 = b.공정코드) left join dw_equipment_mast c on (a.line = c.line a",
        "description": "SELECT 쿼리 (dw_cm_qr_info, vw_process_plan, dw_equipment_mast, doi_cm_user)"
      },
      {
        "mapperId": "M0006013",
        "queryId": "M0006013_Insert1",
        "queryType": "insert",
        "tables": [
          "dw_cm_qr_info"
        ],
        "columns": [],
        "sql": "insert into dw_cm_qr_info(line,process_id,공정코드,설비번호,model_code,shift,code,qr,init_dt,init_user) values (?, ?, #{공정코드}, #{설비번호}, ?, ?, ?, ?, GETDATE(),?)",
        "description": "INSERT 쿼리 (dw_cm_qr_info)"
      },
      {
        "mapperId": "M0006013",
        "queryId": "M0006013_Update1",
        "queryType": "update",
        "tables": [
          "dw_cm_qr_info"
        ],
        "columns": [],
        "sql": "update dw_cm_qr_info set code = ? ,qr = ? ,modi_dt = GETDATE() ,modi_user = ? where seq_id = ?",
        "description": "UPDATE 쿼리 (dw_cm_qr_info)"
      },
      {
        "mapperId": "M0006013",
        "queryId": "M0006013_Delete1",
        "queryType": "delete",
        "tables": [
          "dw_cm_qr_info"
        ],
        "columns": [],
        "sql": "delete from dw_cm_qr_info where seq_id = ?",
        "description": "DELETE 쿼리 (dw_cm_qr_info)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0007001",
      "screenName": "Tab 0 세정 카세트",
      "menuPath": "Tab 0 세정 카세트",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0007000/M0007001.vue",
      "tabs": [
        "TAB071000",
        "TAB071000_1"
      ],
      "description": "세정 카세트, 강화 카세트"
    },
    "queries": [
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_Sch1",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "select * from d04_카세트_불출처리_마스터 where 1=1 and 종류 = ? and 카세트_상태 in ('불출대기', '검사대기') and CST_NO NOT IN ( SELECT CST_NO FROM d04_카세트마스터 WHERE 위치 = '공정' ) order by 공장코드, 불출대기일자, seq_no, 타입, 모델, CST_NO, 카세트팀_담당자, 카세트_상태, 검사부서, 검사자, 검사결과, 불출부서, 불출담당자",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_Sch2",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "select * from d04_카세트_불출처리_마스터 where 1=1 and 종류 = ? and 카세트_상태 in ('검사대기') and CST_NO NOT IN ( SELECT CST_NO FROM d04_카세트마스터 WHERE 위치 = '공정' ) order by 공장코드, 불출대기일자, seq_no, 타입, 모델, CST_NO, 카세트팀_담당자, 카세트_상태, 검사부서, 검사자, 검사결과, 불출부서, 불출담당자",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_Sch3",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "select * from d04_카세트_불출처리_마스터 where 1=1 and 종류 = ? and 카세트_상태 in ('검사완료', '대기') and CST_NO NOT IN ( SELECT CST_NO FROM d04_카세트마스터 WHERE 위치 = '공정' ) order by 공장코드, 불출대기일자, seq_no, 타입, 모델, CST_NO, 카세트팀_담당자, 카세트_상태, 검사부서, 검사자, 검사결과, 불출부서, 불출담당자",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "checkDuplicate",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "select count(*) from d04_카세트_불출처리_마스터 where 1=1 and 불출대기일자 = ? <!-- and seq_no = ?--> and 종류 = ? and 타입 = ? and 모델 = ? and CST_NO = ?",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "checkDuplicateMasterList",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "DROP TABLE IF EXISTS #TempTable1; CREATE TABLE #TempTable1 ( 불출대기일자 NVARCHAR(8) COLLATE Korean_Wansung_CI_AS NULL, seq_no INT, 종류 NVARCHAR(30) COLLATE Korean_Wansung_CI_AS NULL, 타입 NVARCHAR(30) COLLATE Korean_Wansung_CI_AS NULL, 모델 NVARCHAR(30) COLLATE Korean_Wansung_CI_AS NULL, CST_NO NVARCHAR(30) COLLATE Korean_Wansung_CI_AS NULL, 열 INT, 행 INT, 카세트팀_담당자 NVARCHAR(20) COLLATE Korean_Wansung_CI_AS NULL, 카세트_상태 NVARCHAR(10) COLLATE Korean_Wansung_CI_AS NULL ); INSERT INTO #TempTable1 ( 불출대기일자 , se",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "uploadExcel",
        "queryType": "insert",
        "tables": [
          "d04_"
        ],
        "columns": [
          "불출대기일자",
          "종류",
          "타입",
          "모델",
          "CST_NO"
        ],
        "sql": "CREATE TABLE #TempTable ( 불출대기일자 NVARCHAR(8) COLLATE Korean_Wansung_CI_AS NULL, seq_no INT, 종류 NVARCHAR(30) COLLATE Korean_Wansung_CI_AS NULL, 타입 NVARCHAR(30) COLLATE Korean_Wansung_CI_AS NULL, 모델 NVARCHAR(30) COLLATE Korean_Wansung_CI_AS NULL, CST_NO NVARCHAR(30) COLLATE Korean_Wansung_CI_AS NULL, 열 INT, 행 INT, 카세트팀_담당자 NVARCHAR(20) COLLATE Korean_Wansung_CI_AS NULL, 카세트_상태 NVARCHAR(10) COLLATE Korean_Wansung_CI_AS NULL ); INSERT INTO #TempTable ( 불출대기일자 , seq_no , 종류 , 타입 , 모델 , CST_NO , 열 , 행",
        "description": "INSERT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_Update1",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "UPDATE d04_카세트_불출처리_마스터 SET 공장코드 = #{공장코드} ,seq_no = ? ,열 = #{열} ,행 = #{행} ,카세트팀_담당자 = #{카세트팀담당자} where 1=1 and 불출대기일자 = #{불출대기일자} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_Update2",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "UPDATE d04_카세트_불출처리_마스터 SET 검사부서 = #{검사부서} ,검사자 = #{검사자} ,검사일자 = #{검사일자} ,검사시간 = #{검사시간} ,검사결과 = #{검사결과} WHERE 공장코드 = #{공장코드} and 불출대기일자 = #{불출대기일자} and 종류 = #{종류} and seq_no = ? and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ? and 카세트_상태 = '검사대기'",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_Update3",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "UPDATE d04_카세트_불출처리_마스터 SET 불출부서 = #{불출부서} ,불출담당자 = #{불출담당자} ,불출일자 = #{불출일자} ,불출시간 = #{불출시간} ,비고 = #{비고} WHERE 공장코드 = #{공장코드} and 불출대기일자 = #{불출대기일자} and 종류 = #{종류} and seq_no = ? and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ? and 카세트_상태 = '검사완료'",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_U_Inspection1",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "UPDATE d04_카세트_불출처리_마스터 SET 카세트_상태 = '검사대기' WHERE 공장코드 = #{공장코드} and 불출대기일자 = #{불출대기일자} and 종류 = #{종류} and seq_no = ? and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ? and 카세트_상태 = '불출대기'",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_U_Inspection2",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "UPDATE d04_카세트_불출처리_마스터 SET 카세트_상태 = case when upper(검사결과) = 'OK' then '검사완료' when upper(검사결과) = 'NG' then '불출대기' else '검사대기' end WHERE 공장코드 = #{공장코드} and 불출대기일자 = #{불출대기일자} and 종류 = #{종류} and seq_no = ? and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ? and 카세트_상태 = '검사대기'",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_U_Inspection3",
        "queryType": "update",
        "tables": [
          "d04_",
          "a"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "열",
          "행",
          "'공정'",
          "카세트_상태",
          "'정상'",
          "불출일자",
          "불출시간",
          "불출담당자"
        ],
        "sql": "UPDATE d04_카세트_불출처리_마스터 SET 카세트_상태 = '대기' WHERE 공장코드 = #{공장코드} and 불출대기일자 = #{불출대기일자} and 종류 = #{종류} and seq_no = ? and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ? and 카세트_상태 = '검사완료'; update A set 열 = B.열 ,행 = B.행 ,위치 = '공정' ,종류 = B.종류 ,타입 = B.타입 ,모델 = B.모델 ,카세트상태 = '대기' ,카세트상태값 = '정상' ,반입일자 = B.불출일자 ,반입시간 = B.불출시간 ,반입자 = B.불출담당자 from d04_카세트마스터 A join d04_카세트_불출처리_마스터 B on A.공장코드 = B.공장코드 and A.CST_NO = B.CST_NO and B.공장코드 = #{공장코드} and B.불출대기일자 = #{불출대기일자} and B.종류 = #{종류} and B.seq_no = ? and B",
        "description": "UPDATE 쿼리 (d04_, a)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "deleteDuplicate",
        "queryType": "delete",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "delete from d04_카세트_불출처리_마스터 where 1=1 and 불출대기일자 = ? <!-- and seq_no = ?--> and 종류 = ? and 타입 = ? and 모델 = ? and CST_NO = ?",
        "description": "DELETE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007001",
        "queryId": "M0007001_Delete1",
        "queryType": "delete",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "delete from d04_카세트_불출처리_마스터 where 1=1 and 공장코드 = #{공장코드} and 불출대기일자 = #{불출대기일자} and seq_no = ? and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?",
        "description": "DELETE 쿼리 (d04_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0007002",
      "screenName": "Tab 0 세정 카세트",
      "menuPath": "Tab 0 세정 카세트",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0007000/M0007002.vue",
      "tabs": [
        "TAB072000",
        "TAB072000_1"
      ],
      "description": "세정 카세트, 강화 카세트"
    },
    "queries": [
      {
        "mapperId": "M0007002",
        "queryId": "M0007002_Sch1",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [
          "B.세정_외관",
          "B.세정_Bar위치",
          "B.세정_평탄도_바닥과_CST",
          "B.세정_평탄도_앞면_옆면",
          "B.세정_평탄도_뒷면_옆면",
          "B.점검자",
          "B.시작일자",
          "B.시작시간",
          "B.종료일자",
          "B.종료시간",
          "B.점검결과"
        ],
        "sql": "select A.*, B.세정_외관,B.세정_Bar위치,B.세정_평탄도_바닥과_CST,B.세정_평탄도_앞면_옆면,B.세정_평탄도_뒷면_옆면,B.점검자,B.시작일자,B.시작시간,B.종료일자,B.종료시간,B.점검결과 from ( select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,최근점검시작일,최근점검시작시간,최근점검종료일,최근점검종료시간,점검작업자 최근점검작업자,점검결과 최근점검결과 from d04_카세트마스터 where 1=1 and 종류 = '세정' and 카세트상태 != '반출' )A left join ( select X.공장코드,X.종류,X.타입,X.모델,X.CST_NO , json_value(점검항목, '$.\"세정_외관\"') as 세정_외관 , json_value(점검항목, '$.\"세정_Bar위치\"') as 세정_Bar위치 , json_value(점검항목, '$.\"세정_평탄도_바닥과_CST\"') as 세정_평탄도_바닥과_CST , json_v",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007002",
        "queryId": "M0007002_Sch2",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [
          "B.강화_브라켓_지그일치유무",
          "B.강화_슬롯상태",
          "B.강화_MESH올상태",
          "B.강화_Mesh들뜸",
          "B.강화_볼트체결",
          "B.강화_외관",
          "B.점검자",
          "B.시작일자",
          "B.시작시간",
          "B.종료일자",
          "B.종료시간",
          "B.점검결과"
        ],
        "sql": "select A.*, B.강화_브라켓_지그일치유무,B.강화_슬롯상태,B.강화_MESH올상태,B.강화_Mesh들뜸,B.강화_볼트체결,B.강화_외관,B.점검자,B.시작일자,B.시작시간,B.종료일자,B.종료시간,B.점검결과 from ( select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,최근점검시작일,최근점검시작시간,최근점검종료일,최근점검종료시간,점검작업자 최근점검작업자,점검결과 최근점검결과 from d04_카세트마스터 where 1=1 and 종류 = '강화' and 카세트상태 != '반출' )A left join ( select X.공장코드,X.종류,X.타입,X.모델,X.CST_NO , json_value(점검항목, '$.\"강화_브라켓_지그일치유무\"') as 강화_브라켓_지그일치유무 , json_value(점검항목, '$.\"강화_슬롯상태\"') as 강화_슬롯상태 , json_value(점검항목, '$.\"강화_MESH올상태\"') as 강화_MESH올상태",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007002",
        "queryId": "M0007002_Sch1_Qr",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [
          "B.세정_외관",
          "B.세정_Bar위치",
          "B.세정_평탄도_바닥과_CST",
          "B.세정_평탄도_앞면_옆면",
          "B.세정_평탄도_뒷면_옆면",
          "B.점검자",
          "B.시작일자",
          "B.시작시간",
          "B.종료일자",
          "B.종료시간",
          "B.점검결과"
        ],
        "sql": "select A.*, B.세정_외관,B.세정_Bar위치,B.세정_평탄도_바닥과_CST,B.세정_평탄도_앞면_옆면,B.세정_평탄도_뒷면_옆면,B.점검자,B.시작일자,B.시작시간,B.종료일자,B.종료시간,B.점검결과 from ( select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,최근점검시작일,최근점검시작시간,최근점검종료일,최근점검종료시간,점검작업자 최근점검작업자,점검결과 최근점검결과 from d04_카세트마스터 where 1=1 and 종류 = '세정' and 카세트상태 != '반출' )A left join ( select X.공장코드,X.종류,X.타입,X.모델,X.CST_NO , json_value(점검항목, '$.\"세정_외관\"') as 세정_외관 , json_value(점검항목, '$.\"세정_Bar위치\"') as 세정_Bar위치 , json_value(점검항목, '$.\"세정_평탄도_바닥과_CST\"') as 세정_평탄도_바닥과_CST , json_v",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007002",
        "queryId": "M0007002_Sch2_Qr",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [
          "B.강화_브라켓_지그일치유무",
          "B.강화_슬롯상태",
          "B.강화_MESH올상태",
          "B.강화_Mesh들뜸",
          "B.강화_볼트체결",
          "B.강화_외관",
          "B.점검자",
          "B.시작일자",
          "B.시작시간",
          "B.종료일자",
          "B.종료시간",
          "B.점검결과"
        ],
        "sql": "select A.*, B.강화_브라켓_지그일치유무,B.강화_슬롯상태,B.강화_MESH올상태,B.강화_Mesh들뜸,B.강화_볼트체결,B.강화_외관,B.점검자,B.시작일자,B.시작시간,B.종료일자,B.종료시간,B.점검결과 from ( select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,최근점검시작일,최근점검시작시간,최근점검종료일,최근점검종료시간,점검작업자 최근점검작업자,점검결과 최근점검결과 from d04_카세트마스터 where 1=1 and 종류 = '강화' and 카세트상태 != '반출' )A left join ( select X.공장코드,X.종류,X.타입,X.모델,X.CST_NO , json_value(점검항목, '$.\"강화_브라켓_지그일치유무\"') as 강화_브라켓_지그일치유무 , json_value(점검항목, '$.\"강화_슬롯상태\"') as 강화_슬롯상태 , json_value(점검항목, '$.\"강화_MESH올상태\"') as 강화_MESH올상태",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007002",
        "queryId": "M0007002_TempSave1",
        "queryType": "insert",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "insert into d04_카세트점검이력 (공장코드,종류,타입,모델,CST_NO,위치,카세트상태,카세트상태값,시작일자,시작시간,종료일자,종료시간,점검자,점검결과,점검항목,비고) values (#{공장코드},#{종류},#{타입},#{모델},?,#{위치},'점검',#{점검결과},#{시작일자},#{시작시간},#{종료일자},#{종료시간},#{점검자},#{점검결과}, JSON_OBJECT('세정_외관': #{세정외관},'세정_Bar위치': #{세정Bar위치}, '세정_평탄도_바닥과_CST': #{세정평탄도바닥과Cst},'세정_평탄도_앞면_옆면': #{세정평탄도앞면옆면},'세정_평탄도_뒷면_옆면': #{세정평탄도뒷면옆면}), '')",
        "description": "INSERT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007002",
        "queryId": "M0007002_TempSave2",
        "queryType": "insert",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "insert into d04_카세트점검이력 (공장코드,종류,타입,모델,CST_NO,위치,카세트상태,카세트상태값,시작일자,시작시간,종료일자,종료시간,점검자,점검결과,점검항목,비고) values (#{공장코드},#{종류},#{타입},#{모델},?,#{위치},'점검',#{점검결과},#{시작일자},#{시작시간},#{종료일자},#{종료시간},#{점검자},#{점검결과}, JSON_OBJECT('강화_브라켓_지그일치유무': #{강화브라켓지그일치유무},'강화_슬롯상태': #{강화슬롯상태}, '강화_MESH올상태': #{강화Mesh올상태},'강화_Mesh들뜸': #{강화Mesh들뜸},'강화_볼트체결': #{강화볼트체결},'강화_외관': #{강화외관}), '')",
        "description": "INSERT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007002",
        "queryId": "M0007002_U_Inspection1",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "위치",
          "카세트상태",
          "카세트상태값",
          "최근점검시작일",
          "최근점검시작시간",
          "최근점검종료일",
          "최근점검종료시간",
          "점검작업자"
        ],
        "sql": "",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007002",
        "queryId": "M0007002_TempDelete1",
        "queryType": "delete",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "delete from d04_카세트점검이력 where 1=1 and 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ? and 위치 = #{위치} and 시작일자 = #{시작일자} and 시작시간 = #{시작시간}",
        "description": "DELETE 쿼리 (d04_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0007003",
      "screenName": "Tab 0 세정 카세트",
      "menuPath": "Tab 0 세정 카세트",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0007000/M0007003.vue",
      "tabs": [
        "TAB073000",
        "TAB073000_1"
      ],
      "description": "세정 카세트, 강화 카세트"
    },
    "queries": [
      {
        "mapperId": "M0007003",
        "queryId": "getFacility",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "설비약명",
          "설비번호"
        ],
        "sql": "select 설비약명, 설비번호 from dw_기타설비 where 1=1 and 설비구분 = '카세트세척' and 구분자 = ? and upper(사용여부) = 'Y' order by 설비번호",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0007003",
        "queryId": "M0007003_Sch1",
        "queryType": "select",
        "tables": [
          "d04_",
          "dw_"
        ],
        "columns": [
          "B.설비약명"
        ],
        "sql": "select A.*,B.설비약명 from ( select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,최근세척시작일,최근세척시작시간,최근세척종료일,최근세척종료시간,세척작업자,최근점검시작일,최근점검시작시간,최근점검종료일,최근점검종료시간,점검작업자,점검결과, 세척설비 from d04_카세트마스터 where 1=1 and 종류 = ? and 카세트상태 != '반출' and 카세트상태 != '공정투입' ) A left join (select 설비약명, 설비번호 from dw_기타설비 where 설비구분 = '카세트세척') B on A.세척설비 = B.설비번호 order by A.공장코드,A.종류,A.타입,A.모델,A.CST_NO,A.카세트상태,A.카세트상태값,A.최근점검시작일,A.최근점검시작시간,A.최근점검종료일,A.최근점검종료시간,A.최근세척시작일,A.최근세척시작시간,A.최근세척종료일,A.최근세척종료시간,A.세척작업자",
        "description": "SELECT 쿼리 (d04_, dw_)"
      },
      {
        "mapperId": "M0007003",
        "queryId": "M0007003_Sch1_Qr",
        "queryType": "select",
        "tables": [
          "d04_",
          "dw_"
        ],
        "columns": [
          "B.설비약명"
        ],
        "sql": "select A.*,B.설비약명 from ( select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,최근세척시작일,최근세척시작시간,최근세척종료일,최근세척종료시간,세척작업자,최근점검시작일,최근점검시작시간,최근점검종료일,최근점검종료시간,점검작업자,점검결과, 세척설비 from d04_카세트마스터 where 1=1 and 종류 = ? and 카세트상태 != '반출' and 카세트상태 != '공정투입' ) A left join (select 설비약명, 설비번호 from dw_기타설비 where 설비구분 = '카세트세척') B on A.세척설비 = B.설비번호 order by A.공장코드,A.종류,A.타입,A.모델,A.CST_NO,A.카세트상태,A.카세트상태값,A.최근점검시작일,A.최근점검시작시간,A.최근점검종료일,A.최근점검종료시간,A.최근세척시작일,A.최근세척시작시간,A.최근세척종료일,A.최근세척종료시간,A.세척작업자",
        "description": "SELECT 쿼리 (d04_, dw_)"
      },
      {
        "mapperId": "M0007003",
        "queryId": "M0007003_TempSave1",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [],
        "sql": "update d04_카세트마스터 set 카세트상태 = #{카세트상태} ,최근세척시작일 = #{최근세척시작일} ,최근세척시작시간 = #{최근세척시작시간} ,세척작업자 = #{세척작업자} ,세척설비 = #{세척설비} ,최근세척종료일 = #{최근세척종료일} ,최근세척종료시간 = #{최근세척종료시간} WHERE 1=1 and 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007003",
        "queryId": "M0007003_Save1",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "위치",
          "카세트상태",
          "카세트상태값",
          "최근세척시작일",
          "최근세척시작시간",
          "최근세척종료일",
          "최근세척종료시간",
          "세척작업자",
          "세척설비"
        ],
        "sql": "update d04_카세트마스터 set 카세트상태 = '대기' ,카세트상태값 = '정상' ,최근세척종료일 = #{최근세척종료일} ,최근세척종료시간 = #{최근세척종료시간} WHERE 1=1 and 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?; insert into d04_카세트HISTORY (공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 시작일자, 시작시간, 종료일자, 종료시간, 담당자, 설비코드) select 공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 최근세척시작일 시작일자, 최근세척시작시간 시작시간, 최근세척종료일 종료일자, 최근세척종료시간 종료시간, 세척작업자 담당자, 세척설비 설비코드 from d04_카세트마스터 where 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 =",
        "description": "UPDATE 쿼리 (d04_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0007004",
      "screenName": "Tab 0 반출신청",
      "menuPath": "Tab 0 반출신청",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0007000/M0007004.vue",
      "tabs": [
        "TAB074001",
        "TAB074002"
      ],
      "description": "반출신청, 회수처리"
    },
    "queries": [
      {
        "mapperId": "M0007004",
        "queryId": "M0007004_Sch1",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "열",
          "행",
          "위치",
          "카세트상태",
          "카세트상태값",
          "반입일자",
          "반입시간",
          "반입자",
          "반출일",
          "반출시간",
          "반출부서",
          "반출자",
          "반출사유"
        ],
        "sql": "select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,반입일자,반입시간,반입자,반출일,반출시간,반출부서,반출자,반출사유 from d04_카세트마스터 where 1=1 and 카세트상태값 = '부적합' and 카세트상태 in ('대기','반입','세척','점검','반출대기') order by 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,반입일자,반입시간,반입자,반출일,반출시간,반출부서,반출자,반출사유",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007004",
        "queryId": "M0007004_Sch2",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "열",
          "행",
          "위치",
          "카세트상태",
          "카세트상태값",
          "반출일",
          "반출시간",
          "반출부서",
          "반출자",
          "반출사유",
          "회수일",
          "회수시간",
          "회수자부서",
          "회수자"
        ],
        "sql": "select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,반출일,반출시간,반출부서,반출자,반출사유,회수일,회수시간,회수자부서,회수자 from d04_카세트마스터 where 1=1 and 카세트상태 in ('반출대기') order by 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,반출일,반출시간,반출부서,반출자,회수일,회수시간,회수자부서,회수자",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007004",
        "queryId": "M0007004_U_Inspection1",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "위치",
          "카세트상태",
          "카세트상태값",
          "반출일",
          "반출시간",
          "반출자",
          "반출사유"
        ],
        "sql": "update d04_카세트마스터 set 카세트상태 = '반출대기' ,반출일 = #{반출일} ,반출시간 = #{반출시간} ,반출부서 = #{반출부서} ,반출자 = #{반출자} ,반출사유 = #{반출사유} WHERE 1=1 and 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?; insert into d04_카세트HISTORY (공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 시작일자, 시작시간, 종료일자, 종료시간, 담당자, 비고) select 공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 반출일 시작일자, 반출시간 시작시간, 반출일 종료일자, 반출시간 종료시간, 반출자 담당자, 반출사유 비고 from d04_카세트마스터 where 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007004",
        "queryId": "M0007004_U_Inspection2",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "위치",
          "카세트상태",
          "카세트상태값",
          "회수일",
          "회수시간",
          "회수자"
        ],
        "sql": "update d04_카세트마스터 set 카세트상태 = '반출' ,위치 = '카세트팀' ,회수일 = #{회수일} ,회수시간 = #{회수시간} ,회수자부서 = #{회수자부서} ,회수자 = #{회수자} WHERE 1=1 and 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?; insert into d04_카세트HISTORY (공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 시작일자, 시작시간, 종료일자, 종료시간, 담당자) select 공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 회수일 시작일자, 회수시간 시작시간, 회수일 종료일자, 회수시간 종료시간, 회수자 담당자 from d04_카세트마스터 where 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?",
        "description": "UPDATE 쿼리 (d04_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0007004",
      "screenName": "Tab 0 카세트 마스터",
      "menuPath": "Tab 0 카세트 마스터",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0007000/M0007005.vue",
      "tabs": [
        "TAB075001",
        "TAB075002",
        "TAB075003",
        "TAB075004"
      ],
      "description": "카세트 마스터, 카세트 이력, 카세트 점검 이력, 카세트 세척 이력"
    },
    "queries": [
      {
        "mapperId": "M0007004",
        "queryId": "M0007004_Sch1",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "열",
          "행",
          "위치",
          "카세트상태",
          "카세트상태값",
          "반입일자",
          "반입시간",
          "반입자",
          "반출일",
          "반출시간",
          "반출부서",
          "반출자",
          "반출사유"
        ],
        "sql": "select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,반입일자,반입시간,반입자,반출일,반출시간,반출부서,반출자,반출사유 from d04_카세트마스터 where 1=1 and 카세트상태값 = '부적합' and 카세트상태 in ('대기','반입','세척','점검','반출대기') order by 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,반입일자,반입시간,반입자,반출일,반출시간,반출부서,반출자,반출사유",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007004",
        "queryId": "M0007004_Sch2",
        "queryType": "select",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "열",
          "행",
          "위치",
          "카세트상태",
          "카세트상태값",
          "반출일",
          "반출시간",
          "반출부서",
          "반출자",
          "반출사유",
          "회수일",
          "회수시간",
          "회수자부서",
          "회수자"
        ],
        "sql": "select 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,반출일,반출시간,반출부서,반출자,반출사유,회수일,회수시간,회수자부서,회수자 from d04_카세트마스터 where 1=1 and 카세트상태 in ('반출대기') order by 공장코드,종류,타입,모델,CST_NO,열,행,위치,카세트상태,카세트상태값,반출일,반출시간,반출부서,반출자,회수일,회수시간,회수자부서,회수자",
        "description": "SELECT 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007004",
        "queryId": "M0007004_U_Inspection1",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "위치",
          "카세트상태",
          "카세트상태값",
          "반출일",
          "반출시간",
          "반출자",
          "반출사유"
        ],
        "sql": "update d04_카세트마스터 set 카세트상태 = '반출대기' ,반출일 = #{반출일} ,반출시간 = #{반출시간} ,반출부서 = #{반출부서} ,반출자 = #{반출자} ,반출사유 = #{반출사유} WHERE 1=1 and 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?; insert into d04_카세트HISTORY (공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 시작일자, 시작시간, 종료일자, 종료시간, 담당자, 비고) select 공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 반출일 시작일자, 반출시간 시작시간, 반출일 종료일자, 반출시간 종료시간, 반출자 담당자, 반출사유 비고 from d04_카세트마스터 where 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델",
        "description": "UPDATE 쿼리 (d04_)"
      },
      {
        "mapperId": "M0007004",
        "queryId": "M0007004_U_Inspection2",
        "queryType": "update",
        "tables": [
          "d04_"
        ],
        "columns": [
          "공장코드",
          "종류",
          "타입",
          "모델",
          "CST_NO",
          "위치",
          "카세트상태",
          "카세트상태값",
          "회수일",
          "회수시간",
          "회수자"
        ],
        "sql": "update d04_카세트마스터 set 카세트상태 = '반출' ,위치 = '카세트팀' ,회수일 = #{회수일} ,회수시간 = #{회수시간} ,회수자부서 = #{회수자부서} ,회수자 = #{회수자} WHERE 1=1 and 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?; insert into d04_카세트HISTORY (공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 시작일자, 시작시간, 종료일자, 종료시간, 담당자) select 공장코드, 종류, 타입, 모델, CST_NO, 위치, 카세트상태, 카세트상태값, 회수일 시작일자, 회수시간 시작시간, 회수일 종료일자, 회수시간 종료시간, 회수자 담당자 from d04_카세트마스터 where 공장코드 = #{공장코드} and 종류 = #{종류} and 타입 = #{타입} and 모델 = #{모델} and CST_NO = ?",
        "description": "UPDATE 쿼리 (d04_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0008001",
      "screenName": "Tab 1 검사의뢰(제조)",
      "menuPath": "Tab 1 검사의뢰(제조)",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0008000/M0008001.vue",
      "tabs": [
        "TAB080001",
        "TAB080002",
        "TAB080003"
      ],
      "description": "검사의뢰(제조), 검사진행(품질), 검사결과확정(제조,품질)"
    },
    "queries": [
      {
        "mapperId": "M0008001",
        "queryId": "getInspectionItems",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "대분류코드",
          "대분류명",
          "중분류코드",
          "중분류명"
        ],
        "sql": "select 대분류코드, 대분류명, 중분류코드, 중분류명, MIN(주기) 주기 from dw_품질검사 where 공장코드 = '2' and 대분류코드 = '200' group by 대분류코드, 대분류명, 중분류코드, 중분류명 order by 중분류코드",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "getInspectionSubItems",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "소분류명"
        ],
        "sql": "select distinct 소분류코드, 소분류명 from dw_품질검사 where 공장코드 = '2' and 대분류코드 = '200' and 중분류코드 = ? order by 소분류코드",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "getUtmList",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "select code,code_name from dw_common_code where maj_code = '91' order by code",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "getCellTrackingInfo",
        "queryType": "select",
        "tables": [
          "getcelltrackinginfobyruncell"
        ],
        "columns": [],
        "sql": "select * from GetCellTrackingInfobyRunCell(?, ?) order by end_time",
        "description": "SELECT 쿼리 (getcelltrackinginfobyruncell)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Sch1",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사대기', '검사의뢰') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Get1",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [],
        "sql": "select * from Get품질검사대기(?,?,?,?);",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Get2",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [],
        "sql": "select * from Get품질검사대기_소분류(?,?,?,?,?);",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Sch2",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사의뢰', '검사중', '재검사의뢰', '검사완료') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Sch3",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사완료', '검사확정') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Insert1",
        "queryType": "insert",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_품질검사내역 ( 의뢰일자, 차수, 대분류코드, 중분류코드, 검사측정항목코드, 검사측정항목, 의뢰자, model, run_no, cell_id, 진행상태 ) VALUES ( #{의뢰일자}, #{차수}, #{대분류코드}, #{중분류코드}, #{검사측정항목코드}, #{검사측정항목}, #{의뢰자}, ?, ?, ?, #{진행상태} )",
        "description": "INSERT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_U_Inspection1",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '검사의뢰' WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = '검사대기'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Update1",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 판정1 = #{판정1} ,판정2 = #{판정2} ,특이사항 = #{특이사항} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = #{진행상태}",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Update2",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = #{진행상태} ,검사자 = #{검사자} ,검사시작 = #{검사시작} ,UTM호기 = #{utm호기} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 in ('검사의뢰', '검사중', '재검사의뢰')",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Update3",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = #{진행상태} ,검사종료 = #{검사종료} ,판정1 = #{판정1} ,판정2 = #{판정2} ,특이사항 = #{특이사항} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = '검사중'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_U_Inspection2",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '재검사의뢰' ,검사결과_확인 = #{검사결과확인} ,검사결과_확인일시 = #{검사결과확인일시} WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = '검사완료'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_U_Inspection3",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '검사확정' ,검사결과_확인 = #{검사결과확인} ,검사결과_확인일시 = #{검사결과확인일시} WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = '검사완료'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008001",
        "queryId": "M0008001_Delete1",
        "queryType": "delete",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "delete from dw_품질검사내역 where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = #{진행상태}",
        "description": "DELETE 쿼리 (dw_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0008002",
      "screenName": "Tab 1 검사의뢰(제조)",
      "menuPath": "Tab 1 검사의뢰(제조)",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0008000/M0008002.vue",
      "tabs": [
        "TAB080004",
        "TAB080005",
        "TAB080006"
      ],
      "description": "검사의뢰(제조), 검사진행(품질), 검사결과확정(제조,품질)"
    },
    "queries": [
      {
        "mapperId": "M0008002",
        "queryId": "getInspectionItems",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "대분류코드",
          "대분류명",
          "중분류코드",
          "중분류명"
        ],
        "sql": "select 대분류코드, 대분류명, 중분류코드, 중분류명, MIN(주기) 주기 from dw_품질검사 where 공장코드 = '2' and 대분류코드 = '300' group by 대분류코드, 대분류명, 중분류코드, 중분류명 order by 중분류코드",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "getInspectionSubItems",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "소분류명"
        ],
        "sql": "select distinct 소분류코드, 소분류명 from dw_품질검사 where 공장코드 = '2' and 대분류코드 = '300' and 중분류코드 = ? order by 소분류코드",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "getUtmList",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "select code,code_name from dw_common_code where maj_code = '91' order by code",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "getCellTrackingInfo",
        "queryType": "select",
        "tables": [
          "getcelltrackinginfobyruncell"
        ],
        "columns": [],
        "sql": "select * from GetCellTrackingInfobyRunCell(?, ?) order by end_time",
        "description": "SELECT 쿼리 (getcelltrackinginfobyruncell)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Sch1",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사대기', '검사의뢰') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Get1",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [],
        "sql": "select * from Get품질검사대기(?,?,?,?);",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Get2",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [],
        "sql": "select * from Get품질검사대기_소분류(?,?,?,?,?);",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Sch2",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사의뢰', '검사중', '재검사의뢰', '검사완료') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Sch3",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사완료', '검사확정') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Insert1",
        "queryType": "insert",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_품질검사내역 ( 의뢰일자, 차수, 대분류코드, 중분류코드, 검사측정항목코드, 검사측정항목, 의뢰자, model, run_no, cell_id, 진행상태 ) VALUES ( #{의뢰일자}, #{차수}, #{대분류코드}, #{중분류코드}, #{검사측정항목코드}, #{검사측정항목}, #{의뢰자}, ?, ?, ?, #{진행상태} )",
        "description": "INSERT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_U_Inspection1",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '검사의뢰' WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = '검사대기'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Update1",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 판정1 = #{판정1} ,판정2 = #{판정2} ,특이사항 = #{특이사항} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = #{진행상태}",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Update2",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = #{진행상태} ,검사자 = #{검사자} ,검사시작 = #{검사시작} ,UTM호기 = #{utm호기} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 in ('검사의뢰', '검사중', '재검사의뢰')",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Update3",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = #{진행상태} ,검사종료 = #{검사종료} ,판정1 = #{판정1} ,판정2 = #{판정2} ,특이사항 = #{특이사항} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = '검사중'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_U_Inspection2",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '재검사의뢰' ,검사결과_확인 = #{검사결과확인} ,검사결과_확인일시 = #{검사결과확인일시} WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = '검사완료'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_U_Inspection3",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '검사확정' ,검사결과_확인 = #{검사결과확인} ,검사결과_확인일시 = #{검사결과확인일시} WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = '검사완료'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008002",
        "queryId": "M0008002_Delete1",
        "queryType": "delete",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "delete from dw_품질검사내역 where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} and run_no = ? and cell_id = ? and 진행상태 = #{진행상태}",
        "description": "DELETE 쿼리 (dw_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0008003",
      "screenName": "Tab 1 검사의뢰(제조)",
      "menuPath": "Tab 1 검사의뢰(제조)",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0008000/M0008003.vue",
      "tabs": [
        "TAB080007",
        "TAB080008",
        "TAB080009"
      ],
      "description": "검사의뢰(제조), 검사진행(품질), 검사결과확정(제조,품질)"
    },
    "queries": [
      {
        "mapperId": "M0008003",
        "queryId": "getInspectionItems",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "대분류코드",
          "대분류명",
          "중분류코드",
          "중분류명"
        ],
        "sql": "select 대분류코드, 대분류명, 중분류코드, 중분류명, MIN(주기) 주기 from dw_품질검사 where 공장코드 = '2' and 대분류코드 = '100' group by 대분류코드, 대분류명, 중분류코드, 중분류명 order by 중분류코드",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "getInspectionSubItems",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [
          "distinct",
          "소분류명"
        ],
        "sql": "select distinct 소분류코드, 소분류명 from dw_품질검사 where 공장코드 = '2' and 대분류코드 = '100' and 중분류코드 = ? order by 소분류코드",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "getUtmList",
        "queryType": "select",
        "tables": [
          "dw_common_code"
        ],
        "columns": [
          "code",
          "code_name"
        ],
        "sql": "select code,code_name from dw_common_code where maj_code = '91' order by code",
        "description": "SELECT 쿼리 (dw_common_code)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "getCellTrackingInfo",
        "queryType": "select",
        "tables": [
          "getcelltrackinginfobyruncell"
        ],
        "columns": [],
        "sql": "select * from GetCellTrackingInfobyRunCell(?, ?) order by end_time",
        "description": "SELECT 쿼리 (getcelltrackinginfobyruncell)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Sch1",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사대기', '검사의뢰') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Get1",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [],
        "sql": "select * from Get품질검사대기(?,?,?,?);",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Get2",
        "queryType": "select",
        "tables": [
          "get"
        ],
        "columns": [],
        "sql": "select * from Get품질검사대기_소분류(?,?,?,?,?);",
        "description": "SELECT 쿼리 (get)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Sch2",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사의뢰', '검사중', '재검사의뢰', '검사완료') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Sch3",
        "queryType": "select",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "select * from dw_품질검사내역 where 1=1 and 진행상태 in ('검사완료', '검사확정') order by 의뢰일자, cell_id, 차수",
        "description": "SELECT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Insert1",
        "queryType": "insert",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "INSERT INTO dw_품질검사내역 ( 의뢰일자, 차수, 대분류코드, 중분류코드, 검사측정항목코드, 검사측정항목, 의뢰자, model, PackNo, run_no, cell_id, 진행상태 ) VALUES ( #{의뢰일자}, #{차수}, #{대분류코드}, #{중분류코드}, #{검사측정항목코드}, #{검사측정항목}, #{의뢰자}, ?, ?, ?, ?, #{진행상태} )",
        "description": "INSERT 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_U_Inspection1",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '검사의뢰' WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} <!-- and PackNo = ?--> and run_no = ? and cell_id = ? and 진행상태 = '검사대기'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Update1",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 판정1 = #{판정1} ,판정2 = #{판정2} ,특이사항 = #{특이사항} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} <!-- and PackNo = ?--> and run_no = ? and cell_id = ? and 진행상태 = #{진행상태}",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Update2",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = #{진행상태} ,검사자 = #{검사자} ,검사시작 = #{검사시작} ,UTM호기 = #{utm호기} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} <!-- and PackNo = ?--> and run_no = ? and cell_id = ? and 진행상태 in ('검사의뢰', '검사중', '재검사의뢰')",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Update3",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = #{진행상태} ,검사종료 = #{검사종료} ,판정1 = #{판정1} ,판정2 = #{판정2} ,특이사항 = #{특이사항} where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} <!-- and PackNo = ?--> and run_no = ? and cell_id = ? and 진행상태 = '검사중'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_U_Inspection2",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '재검사의뢰' ,검사결과_확인 = #{검사결과확인} ,검사결과_확인일시 = #{검사결과확인일시} WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} <!-- and PackNo = ?--> and run_no = ? and cell_id = ? and 진행상태 = '검사완료'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_U_Inspection3",
        "queryType": "update",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "UPDATE dw_품질검사내역 SET 진행상태 = '검사확정' ,검사결과_확인 = #{검사결과확인} ,검사결과_확인일시 = #{검사결과확인일시} WHERE 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} <!-- and PackNo = ?--> and run_no = ? and cell_id = ? and 진행상태 = '검사완료'",
        "description": "UPDATE 쿼리 (dw_)"
      },
      {
        "mapperId": "M0008003",
        "queryId": "M0008003_Delete1",
        "queryType": "delete",
        "tables": [
          "dw_"
        ],
        "columns": [],
        "sql": "delete from dw_품질검사내역 where 1=1 and 공장코드 = #{공장코드} and 의뢰일자 = #{의뢰일자} and 차수 = #{차수} and 대분류코드 = #{대분류코드} and 중분류코드 = #{중분류코드} and 검사측정항목코드 = #{검사측정항목코드} <!-- and PackNo = ?--> and run_no = ? and cell_id = ? and 진행상태 = #{진행상태}",
        "description": "DELETE 쿼리 (dw_)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0009001",
      "screenName": "Tab 0 설비별 MST 정보",
      "menuPath": "Tab 0 설비별 MST 정보",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0009000/M0009001.vue",
      "tabs": [
        "TAB090101",
        "TAB090102"
      ],
      "description": "설비별 MST 정보, 비가동 항목 관리"
    },
    "queries": [
      {
        "mapperId": "M0009001",
        "queryId": "selectEquipListInSteps",
        "queryType": "select",
        "tables": [
          "dw_equipment_mast",
          "dw_step_mast"
        ],
        "columns": [
          "distinct",
          "case",
          "a.설비약명",
          "a.공정코드",
          "b.공정약어"
        ],
        "sql": "SELECT distinct a.line , case when a.chamber is not null and trim(a.chamber) != '' then '*' else a.설비번호 end as 설비번호 , a.설비약명 , a.공정코드 , b.공정약어 as 공정명 FROM dw_equipment_mast a LEFT OUTER JOIN dw_step_mast b ON ( a.line = b.line and a.공정코드 = b.공정코드 ) where 1 = 1 and a.사용여부 = '1' and a.설비번호 != '505' and a.공정코드 != '077' order by a.공정코드, a.설비약명",
        "description": "SELECT 쿼리 (dw_equipment_mast, dw_step_mast)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "selectModelList",
        "queryType": "select",
        "tables": [
          "dw_product_mast"
        ],
        "columns": [
          "line",
          "model",
          "inch",
          "glass_thick",
          "spec"
        ],
        "sql": "select line, model, inch, glass_thick, spec from ( select line, model, inch, glass_thick, spec, row_number() over (partition by model order by version desc ) rnk from dw_product_mast a where 1 = 1 and model != '' ) a where a.rnk = 1 order by a.line, a.model",
        "description": "SELECT 쿼리 (dw_product_mast)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "selectEquipProdBaseList",
        "queryType": "select",
        "tables": [
          "dw_equip_prod_base"
        ],
        "columns": [
          "line",
          "step_code",
          "equip_no",
          "equip_name",
          "apply_date",
          "step_name",
          "use_category",
          "model",
          "mst",
          "worker_name",
          "comments",
          "create_date",
          "create_user",
          "update_date",
          "update_user",
          "'Y'"
        ],
        "sql": "SELECT line, step_code, equip_no, equip_name, apply_date, step_name, use_category, model, mst, worker_name, comments, create_date, create_user, update_date, update_user, 'Y' as editable FROM dw_equip_prod_base a WHERE 1 = 1 order by a.apply_date desc, a.step_code, a.equip_name, a.model",
        "description": "SELECT 쿼리 (dw_equip_prod_base)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "checkApplyDate",
        "queryType": "select",
        "tables": [
          "dw_equip_prod_base"
        ],
        "columns": [
          "b.line",
          "b.step_code",
          "b.equip_no",
          "b.equip_name",
          "b.model",
          "b.apply_date"
        ],
        "sql": "select b.line, b.step_code, b.equip_no, b.equip_name, b.model, b.apply_date from ( <foreach item=\"item\" collection=\"vo\" open=\"\" separator=\"union all\" close=\"\" > select ? as line, ? as step_code, ? as equip_no, ? as equip_name, ? as model, ? as apply_date </foreach> ) a left outer join ( select line, step_code, equip_no, equip_name, model, max(apply_date) apply_date from dw_equip_prod_base where ( line + step_code + equip_no + equip_name + model ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" ",
        "description": "SELECT 쿼리 (dw_equip_prod_base)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "checkApplyDateForUpdate",
        "queryType": "select",
        "tables": [
          "dw_equip_prod_base"
        ],
        "columns": [
          "a.line",
          "a.step_code",
          "a.equip_no",
          "a.version",
          "a.equip_name",
          "a.apply_date"
        ],
        "sql": "select a.line, a.step_code, a.equip_no, a.version, a.equip_name,a.apply_date from dw_equip_prod_base a where a.line = ? and a.step_code = ? and a.equip_no = ? and a.equip_name = ? and ( ( a.version <![CDATA[ > ]]> ? and a.apply_date <![CDATA[ <= ]]> ? ) or ( a.version <![CDATA[ < ]]> ? and a.apply_date <![CDATA[ >= ]]> ? ) )",
        "description": "SELECT 쿼리 (dw_equip_prod_base)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "selectSubCategoryList",
        "queryType": "select",
        "tables": [
          "dw_common_code_input"
        ],
        "columns": [
          "a.code",
          "a.code_name",
          "b.code",
          "b.code_name"
        ],
        "sql": "select a.code as off_category_code, a.code_name as off_category_name, b.code as sub_category_code, b.code_name as sub_category_name from dw_common_code_input a left outer join ( select code, code_name from dw_common_code_input where maj_code='102' and use_yn = '1' ) b on( SUBSTRING(a.code,1,2) = SUBSTRING(b.code,1,2) ) where a.maj_code='97' and a.code != 'D0000' and a.use_yn = '1'",
        "description": "SELECT 쿼리 (dw_common_code_input)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "selectEquipOffCodeList",
        "queryType": "select",
        "tables": [
          "dw_equip_off_code",
          "dw_common_code"
        ],
        "columns": [
          "a.off_category_code",
          "b.code_name",
          "a.sub_category_code",
          "d.code_name",
          "a.off_code",
          "a.off_name",
          "a.off_gubun_code",
          "c.code_name",
          "a.item_order",
          "a.use_yn",
          "a.comments",
          "a.create_date",
          "a.create_user",
          "a.update_date",
          "a.update_user",
          "'Y'"
        ],
        "sql": "SELECT a.off_category_code as display_off_category_code, a.off_category_code, b.code_name as off_category_name, a.sub_category_code as display_sub_category_code, a.sub_category_code, d.code_name as sub_category_name, a.off_code, a.off_name, a.off_gubun_code, c.code_name as off_gubun_name, a.item_order, a.use_yn, a.comments, a.create_date, a.create_user, a.update_date, a.update_user, 'Y' as editable FROM dw_equip_off_code a join ( select * from dw_common_code where maj_code='97') b on ( a.off_cat",
        "description": "SELECT 쿼리 (dw_equip_off_code, dw_common_code)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "checkExistsOffCode",
        "queryType": "select",
        "tables": [
          "dw_equip_off_code"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(a.off_code, '/'), 'NoData') AS off_code from dw_equip_off_code a where ( upper(a.off_code) ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_equip_off_code)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "checkUsedOffCode",
        "queryType": "select",
        "tables": [
          "dw_equip_off_log"
        ],
        "columns": [
          "'/')",
          "'NoData')"
        ],
        "sql": "select COALESCE(STRING_AGG(a.off_code, '/'), 'NoData') AS off_code from dw_equip_off_log a where ( upper(a.off_code) ) in <foreach item=\"item\" collection=\"vo\" open=\"(\" separator=\",\" close=\")\" > upper(?) </foreach>",
        "description": "SELECT 쿼리 (dw_equip_off_log)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "updateEquipProdBase",
        "queryType": "update",
        "tables": [
          "dw_equip_prod_base"
        ],
        "columns": [],
        "sql": "UPDATE dw_equip_prod_base SET use_category = ?, mst = ?, worker_name = ?, comments = ?, update_date = getdate(), update_user = ? WHERE line = ? AND step_code = ? AND equip_no = ? AND equip_name = ? AND apply_date = ? AND model = ?",
        "description": "UPDATE 쿼리 (dw_equip_prod_base)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "updateEquipOffCode",
        "queryType": "update",
        "tables": [
          "dw_equip_off_code"
        ],
        "columns": [],
        "sql": "UPDATE dw_equip_off_code SET off_name = ?, off_gubun_code = ?, item_order = ?, use_yn = ?, comments = ?, update_date = getdate(), update_user = ? WHERE off_category_code = ? and sub_category_code = ? AND off_code = ?",
        "description": "UPDATE 쿼리 (dw_equip_off_code)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "deleteEquipProdBase",
        "queryType": "delete",
        "tables": [
          "dw_equip_prod_base"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_equip_prod_base WHERE line = ? AND step_code = ? AND equip_no = ? AND equip_name = ? AND apply_date = ? AND model = ?",
        "description": "DELETE 쿼리 (dw_equip_prod_base)"
      },
      {
        "mapperId": "M0009001",
        "queryId": "deleteEquipOffCode",
        "queryType": "delete",
        "tables": [
          "dw_equip_off_code"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_equip_off_code WHERE off_category_code = ? and sub_category_code = ? AND off_code = ?",
        "description": "DELETE 쿼리 (dw_equip_off_code)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0009002",
      "screenName": "M0009002",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0009000/M0009002.vue"
    },
    "queries": [
      {
        "mapperId": "M0009002",
        "queryId": "selectEquipOffLogList",
        "queryType": "select",
        "tables": [
          "dw_equip_off_log",
          "dw_step_mast",
          "dw_equip_off_code",
          "dw_common_code"
        ],
        "columns": [
          "a.line",
          "a.step_code",
          "a.equip_no",
          "a.equip_name",
          "a.off_start_time",
          "a.off_end_time",
          "a.off_time",
          "a.finish_yn",
          "a.off_category_code",
          "d.off_category_name",
          "a.sub_category_code",
          "d.sub_category_name",
          "a.off_code",
          "d.off_name",
          "p.공정약어",
          "a.worker_name",
          "a.comments",
          "a.create_date",
          "a.create_user",
          "a.update_date"
        ],
        "sql": "SELECT a.line, a.step_code, a.equip_no, a.equip_name, a.off_start_time, a.off_end_time, a.off_time, a.finish_yn, a.off_category_code, d.off_category_name, a.sub_category_code, d.sub_category_name, a.off_code, d.off_name, p.공정약어 as step_name, a.worker_name, a.comments, a.create_date, a.create_user, a.update_date, a.update_user, 'Y' as editable FROM dw_equip_off_log a left outer join dw_step_mast p on ( p.line = a.line and p.공정코드 = a.step_code ) left outer join ( select a.off_category_code, b.code",
        "description": "SELECT 쿼리 (dw_equip_off_log, dw_step_mast, dw_equip_off_code, dw_common_code)"
      },
      {
        "mapperId": "M0009002",
        "queryId": "selectEquipOffProdBaseList",
        "queryType": "select",
        "tables": [
          "dw_equip_prod_base",
          "dw_common_code"
        ],
        "columns": [
          "b.line",
          "b.step_code",
          "b.equip_no",
          "b.equip_name",
          "b.apply_date",
          "b.step_name",
          "b.use_category",
          "c.code_name",
          "b.model",
          "b.mst",
          "b.worker_name",
          "b.comments"
        ],
        "sql": "select b.line, b.step_code, b.equip_no, b.equip_name, b.apply_date, b.step_name, b.use_category, c.code_name as use_category_name, b.model, b.mst, b.worker_name, b.comments from ( select line, step_code, equip_no, equip_name, max(apply_date) apply_date from dw_equip_prod_base where apply_date <![CDATA[ <= ]]> FORMAT(GETDATE(), 'yyyy-MM-dd HH:mm') group by line, step_code, equip_no, equip_name ) a join dw_equip_prod_base b on ( a.line = b.line and a.step_code = b.step_code and a.equip_no = b.equi",
        "description": "SELECT 쿼리 (dw_equip_prod_base, dw_common_code)"
      },
      {
        "mapperId": "M0009002",
        "queryId": "checkEndOffDate",
        "queryType": "select",
        "tables": [
          "dw_equip_off_log",
          "dw_equip_off_code"
        ],
        "columns": [
          "a.equip_name",
          "c.off_name",
          "a.off_start_time",
          "a.off_end_time"
        ],
        "sql": "SELECT a.equip_name, c.off_name, a.off_start_time, a.off_end_time from dw_equip_off_log a LEFT OUTER JOIN dw_equip_off_code c ON ( a.off_category_code = c.off_category_code and a.off_code = c.off_code ) where a.line = ? AND a.equip_no = ? AND a.equip_name = ? AND a.finish_yn ='N'",
        "description": "SELECT 쿼리 (dw_equip_off_log, dw_equip_off_code)"
      },
      {
        "mapperId": "M0009002",
        "queryId": "checkDupOffDate",
        "queryType": "select",
        "tables": [
          "dw_equip_off_log",
          "dw_equip_off_code"
        ],
        "columns": [
          "a.equip_name",
          "c.off_name",
          "a.off_start_time",
          "a.off_end_time"
        ],
        "sql": "SELECT a.equip_name, c.off_name, a.off_start_time, a.off_end_time from dw_equip_off_log a LEFT OUTER JOIN dw_equip_off_code c ON ( a.off_category_code = c.off_category_code and a.sub_category_code = c.sub_category_code and a.off_code = c.off_code ) where a.line = ? AND a.equip_no = ? AND a.equip_name = ? AND ( ( ? <![CDATA[ >= ]]> a.off_start_time AND ? <![CDATA[ < ]]> a.off_end_time ) )",
        "description": "SELECT 쿼리 (dw_equip_off_log, dw_equip_off_code)"
      },
      {
        "mapperId": "M0009002",
        "queryId": "checkDupOffDateForUpdate",
        "queryType": "select",
        "tables": [
          "dw_equip_off_log",
          "dw_equip_off_code"
        ],
        "columns": [
          "a.equip_name",
          "c.off_name",
          "a.off_start_time",
          "a.off_end_time"
        ],
        "sql": "SELECT a.equip_name, c.off_name, a.off_start_time, a.off_end_time from dw_equip_off_log a LEFT OUTER JOIN dw_equip_off_code c ON ( a.off_category_code = c.off_category_code and a.sub_category_code = c.sub_category_code and a.off_code = c.off_code ) where a.line = ? AND a.equip_no = ? AND a.equip_name = ? and a.off_start_time != ? AND ( ( ? <![CDATA[ >= ]]> a.off_start_time AND ? <![CDATA[ < ]]> a.off_end_time ) )",
        "description": "SELECT 쿼리 (dw_equip_off_log, dw_equip_off_code)"
      },
      {
        "mapperId": "M0009002",
        "queryId": "updateEquipOffLog",
        "queryType": "update",
        "tables": [
          "dw_equip_off_log"
        ],
        "columns": [],
        "sql": "UPDATE dw_equip_off_log SET off_end_time = ?, off_time = ?, finish_yn = case when ? is null or ? = '' then 'N' else 'Y' end, off_category_code = ?, sub_category_code = ?, off_code = ?, worker_name = ?, comments = ?, update_date = getdate(), update_user = ? WHERE line = ? AND step_code = ? AND equip_no = ? AND equip_name = ? AND off_start_time = ?",
        "description": "UPDATE 쿼리 (dw_equip_off_log)"
      },
      {
        "mapperId": "M0009002",
        "queryId": "deleteEquipOffLog",
        "queryType": "delete",
        "tables": [
          "dw_equip_off_log"
        ],
        "columns": [],
        "sql": "DELETE FROM dw_equip_off_log WHERE line = ? AND step_code = ? AND equip_no = ? AND equip_name = ? AND off_start_time = ?",
        "description": "DELETE 쿼리 (dw_equip_off_log)"
      }
    ]
  },
  {
    "screen": {
      "screenId": "M0009003",
      "screenName": "M0009003",
      "menuPath": "",
      "vueFile": "/home/roarm_m3/dwisCOST/src/main/vue/src/views/web/m0009000/M0009003.vue"
    },
    "queries": [
      {
        "mapperId": "M0009003",
        "queryId": "selectCheckMstInform",
        "queryType": "select",
        "tables": [
          "fn_get_",
          "dw_equip_prod_base"
        ],
        "columns": [
          "distinct",
          "a.equip_name",
          "a.model"
        ],
        "sql": "select distinct a.equip_no, a.equip_name, a.model from ( select 설비번호 equip_no, 설비약명 equip_name, model, substring(집계일자,1,4) + '-' + substring(집계일자,5,2) + '-' + substring(집계일자,7,2) as work_date, 생산수 as prod_cnt from fn_Get_설비생산수_PFL( replace(? ,'-',''), replace(? ,'-',''), '061') ) a left outer join dw_equip_prod_base b on ( a.equip_no = b.equip_no and a.equip_name = b.equip_name and a.model = b.model and a.work_date >= b.apply_date ) where b.apply_date is null",
        "description": "SELECT 쿼리 (fn_get_, dw_equip_prod_base)"
      },
      {
        "mapperId": "M0009003",
        "queryId": "selectEquipEffDailyReport",
        "queryType": "select",
        "tables": [
          "base_dates",
          "dw_equipment_mast",
          "dw_step_mast",
          "fn_get_",
          "dw_equip_prod_base",
          "dw_equip_off_log",
          "off_log",
          "off_data",
          "equip",
          "prod_log",
          "off_time",
          "dw_equip_off_code",
          "base_data"
        ],
        "columns": [],
        "sql": "WITH BASE_DATES AS ( SELECT CAST(? AS DATE) AS base_date UNION ALL SELECT DATEADD(DAY, 1, base_date) FROM BASE_DATES WHERE base_date <![CDATA[ < ]]> ? ), EQUIP as ( select a.base_date, b.line, b.step_code, b.equip_no, b.equip_name, b.step_name, 24*60 as tot_work_time from BASE_DATES a cross join ( select a.line, a.공정코드 as step_code, b.공정약어 as step_name, case when a.chamber is not null and a.chamber != '' then '*' else a.설비번호 end as equip_no, a.설비약명 as equip_name from dw_equipment_mast a left out",
        "description": "SELECT 쿼리 (base_dates, dw_equipment_mast, dw_step_mast, fn_get_, dw_equip_prod_base, dw_equip_off_log, off_log, off_data, equip, prod_log, off_time, dw_equip_off_code, base_data)"
      }
    ]
  }
]